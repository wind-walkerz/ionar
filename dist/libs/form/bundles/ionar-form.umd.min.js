!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@ionar/utility"),require("rxjs"),require("rxjs/operators"),require("lodash"),require("@angular/core")):"function"==typeof define&&define.amd?define("@ionar/form",["exports","@angular/common","@ionar/utility","rxjs","rxjs/operators","lodash","@angular/core"],e):e((t.ionar=t.ionar||{},t.ionar.form={}),t.ng.common,t.utility,t.rxjs,t.rxjs.operators,t._,t.ng.core)}(this,function(t,e,o,r,i,a,s){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;var n=function(){function t(t){var n=this;this.eRef=t,this.show_menu=!1,this.selected_option=null,this.options=null,this.value=null,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.invalid=!1,this.onToggleMenu=function(){n.show_menu=!n.show_menu},this.onChange=function(e){n.options=a.map(n.options,function(t){return t.selected=a.isEqual(t,e),n.selected_option=t}),n.show_menu=!1,n.change.emit(n.selected_option.value)}}return t.prototype.ngOnInit=function(){this.value&&(this.selected_option=a.find(this.options,["value",this.value.toString()]))},t.prototype.clickout=function(t){this.eRef.nativeElement.contains(t.target)||(this.show_menu=!1)},t.decorators=[{type:s.Component,args:[{selector:"io-select",template:'<control\n        [label]="selected_option?.label"\n        [show_menu]="show_menu"\n        (click)="onToggleMenu()"\n></control>\n\n<menu\n        [options]="options"\n        (onSelectOption)="onChange($event)"\n        *ngIf="show_menu"\n></menu>',styles:[":host{display:flex;position:relative;flex:1}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={options:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],invalid:[{type:s.Input}],clickout:[{type:s.HostListener,args:["document:click",["$event"]]}]},t}(),c=function(){function t(t){this.eRef=t,this.show_menu=!1,this.label=null,this.tabindex=0}return t.prototype.ngOnInit=function(){this.eRef.nativeElement.focus()},t.decorators=[{type:s.Component,args:[{selector:"control",template:'<div id="value">\n    <span *ngIf="!label">Please select</span>\n    <span *ngIf="label">{{label}}</span>\n</div>\n\n<div id="icon">\n    <i class="fas fa-angle-right"></i>\n</div>\n',styles:[":host{background-color:#fff;border-radius:5px;box-sizing:border-box;border:1px solid #d9d9d9;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:1.5rem;outline:0;padding:0 1rem;transition:.3s cubic-bezier(.645,.045,.355,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;height:40px;z-index:1}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff}:host .fa-angle-right{font-size:2rem}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={show_menu:[{type:s.Input}],label:[{type:s.Input}],tabindex:[{type:s.HostBinding}]},t}(),l=function(){function t(){this.options=[],this.onSelectOption=new s.EventEmitter}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"menu",template:'\n      <ng-container *ngFor="let option of options">\n          <select-option\n                  [data]="option"\n                  (click)="this.onSelectOption.emit(option)"\n          ></select-option>\n      </ng-container>\n  ',styles:["\n      :host {\n          background-color: white;\n          border-radius: 5px;\n          box-sizing: border-box;\n          border: 1px solid rgb(196, 202, 212);\n          overflow-y: scroll;\n          padding: 0 10px;\n          position: absolute;\n          top: 100%;\n          z-index: 9999;\n          width: 100%;\n          max-height: 20rem;\n      }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={options:[{type:s.Input}],onSelectOption:[{type:s.Output}]},t}(),u=function(){function t(){this.data=null,this.selected=!1,this.disabled=!1}return t.prototype.ngOnInit=function(){this.selected=this.data.selected,this.disabled=this.data.disabled},t.prototype.onClick=function(t){},t.decorators=[{type:s.Component,args:[{selector:"select-option",template:"\n      <p>\n          {{data.label}}\n      </p>",styles:[":host{color:rgba(0,0,0,.65);cursor:pointer;display:flex;justify-content:flex-start;font-weight:400;line-height:22px;overflow:hidden;padding:5px 12px;position:relative;text-overflow:ellipsis;transition:background .3s;white-space:nowrap;width:100%}:host:hover{background-color:#e6f7ff}:host.selected{background-color:#fafafa;font-weight:600;color:rgba(0,0,0,.65)}:host.disabled{color:rgba(0,0,0,.25);cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host.disabled:hover{background-color:transparent}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={data:[{type:s.Input}],selected:[{type:s.HostBinding,args:["class.selected"]}],disabled:[{type:s.HostBinding,args:["class.disabled"]}],onClick:[{type:s.HostListener,args:["click",["$event.target"]]}]},t}(),p=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[n,c,l,u],imports:[e.CommonModule],exports:[n],entryComponents:[n]}]}],t}(),d=function(){function t(t){this.elRef=t,this.file_list=[],this.change=new s.EventEmitter,this.invalid=!1,this.type="input",this.multiple=!1}return t.prototype.ngOnInit=function(){this.template||(this.template=this._defaultTempRef)},t.prototype.ngOnChanges=function(t){},t.prototype.onFileChanged=function(t){this.file_list=this.file_list.concat(a.map(t)),this.change.emit(this.multiple?this.file_list:this.file_list[0])},t.decorators=[{type:s.Component,args:[{selector:"io-upload",template:'<ng-container *ngIf="type === \'dropzone\'">\r\n    <ng-container *ngTemplateOutlet="dropzone"></ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf="type === \'input\'">\r\n    <ng-container *ngTemplateOutlet="click"></ng-container>\r\n</ng-container>\r\n\r\n<ng-template #click>\r\n    <click\r\n            (change)="onFileChanged($event)"\r\n            [template]="template"\r\n            [multiple]="multiple"\r\n    >\r\n    </click>\r\n\r\n</ng-template>\r\n\r\n<ng-template #dropzone>\r\n    <drop\r\n            (change)="onFileChanged($event)"\r\n            [template]="template"\r\n    >\r\n    </drop>\r\n</ng-template>\r\n\r\n\r\n<ng-template #default>\r\n    <ng-content></ng-content>\r\n</ng-template>\r\n',styles:[":host{display:flex;flex-direction:column;align-items:flex-start;width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={change:[{type:s.Output}],invalid:[{type:s.Input}],type:[{type:s.Input}],template:[{type:s.Input}],multiple:[{type:s.Input}],_defaultTempRef:[{type:s.ViewChild,args:["default"]}]},t}(),h=function(){function t(){this.change=new s.EventEmitter,this.multiple=!1}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"click",template:'<ng-container *ngTemplateOutlet="template"></ng-container>\n\n\n<input\n        type="file"\n        [multiple]="multiple"\n        (change)="$event.stopPropagation();change.emit($event.target.files)"\n>',styles:[":host{background-color:#fff;border-radius:.4rem;color:rgba(0,0,0,.65);cursor:pointer;display:flex;align-items:center;justify-content:center;outline:0;position:relative;transition:.3s cubic-bezier(.645,.045,.355,1);width:100%;height:4rem;max-width:20rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff;color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid:focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}input{display:flex;outline:0;opacity:0;position:absolute;width:100%;height:100%;z-index:1}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={change:[{type:s.Output}],template:[{type:s.Input}],multiple:[{type:s.Input}]},t}(),f=function(){function t(){var e=this;this.change=new s.EventEmitter,this.multiple=!1,this.drop_hover=!1,this.onDrop=function(t){event.preventDefault(),e.change.emit(t.dataTransfer.files),e.drop_hover=!1},this.onDragOver=function(t){event.preventDefault(),e.drop_hover=!0},this.onDragLeave=function(t){event.preventDefault(),e.drop_hover=!1}}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"drop",template:'<ng-container *ngTemplateOutlet="template"></ng-container>\r\n\r\n\r\n<input\r\n        type="file"\r\n        [multiple]="multiple"\r\n        (change)="$event.stopPropagation();change.emit($event.target.files)"\r\n>',styles:[":host{background-color:#fff;border:1px dashed #d9d9d9;border-radius:.4rem;color:rgba(0,0,0,.65);display:flex;align-items:center;justify-content:center;outline:0;position:relative;transition:.3s;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host.drop_hover{border:2px dashed #40a9ff;color:#40a9ff}:host.drop_hover p{color:#40a9ff}:host p{transition:.3s cubic-bezier(.645,.045,.355,1)}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff;color:#40a9ff}:host:hover p{color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid:focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}input{border:1px solid red;display:flex;outline:0;opacity:0;position:absolute;width:100%;height:100%;z-index:1}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={change:[{type:s.Output}],multiple:[{type:s.Input}],template:[{type:s.Input}],drop_hover:[{type:s.HostBinding,args:["class.drop_hover"]}],onDrop:[{type:s.HostListener,args:["drop",["$event"]]}],onDragOver:[{type:s.HostListener,args:["dragover",["$event"]]}],onDragLeave:[{type:s.HostListener,args:["dragleave",["$event"]]}]},t}(),m=function(){function t(t){this.cd=t,this.name=""}return t.prototype.ngOnInit=function(){var t=this,e=new FileReader;e.readAsDataURL(this.data),e.onload=function(){t.image=e.result,t.cd.markForCheck()}},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"file",template:'<img [src]="image" alt="">\n\n<p>{{name}}</p>\n\n<i class="fas fa-times remove-icon"></i>',styles:[":host{border:1px dashed #d9d9d9;border-radius:.4rem;display:flex;margin-top:1rem;padding:.8rem;width:100%;height:6.6rem}:host img{width:5rem;height:5rem}:host p{margin-left:2rem}:host .remove-icon{color:#f5222d;font-size:1.2rem;margin-left:auto}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef}]},t.propDecorators={data:[{type:s.Input}]},t}(),g=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[d,h,f,m],imports:[e.CommonModule],exports:[d],entryComponents:[d]}]}],t}(),y=function(){function t(t){var r=this;this.cd=t,this.type="",this.name="",this.placeholder="",this.value=null,this.invalid=!1,this.disabled=!1,this.range=[],this.readonly=!1,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.enter=new s.EventEmitter,this.host_focus=!1,this.host_invalid=!1,this.onFocus=function(){r.host_focus=!0},this.onBlur=function(){r.blur.emit(),r.host_focus=!1,r.cd.markForCheck()},this.onChange=a.debounce(function(t){t.stopPropagation(),console.log(t.target.value);var e=t.target.value,n=parseInt(r.range[0],10),o=parseInt(r.range[1],10);!r.range||"number"!==r.type||n<=e&&e<=o||(e=t.target.value=r.range[1]),r.change.emit(e)},500),this.onKeyPress=function(t){13===t.keyCode&&r.enter.emit()},this.onKeyDown=function(t){return"number"===r.type?r.onNumberKeyDown(t):"phone"===r.type?r.onPhoneKeyDown(t):null},this.onPaste=function(t){return"number"===r.type?r.onNumberPaste(t):"phone"===r.type?r.onPhonePaste(t):null},this.onPhoneKeyDown=function(t){8===t.keyCode||9===t.keyCode||13===t.keyCode||65===t.keyCode&&(t.ctrlKey||t.metaKey)||67===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||86===t.keyCode&&(t.ctrlKey||t.metaKey)||35<=t.keyCode&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||57<t.keyCode)&&(t.keyCode<96||105<t.keyCode)&&t.preventDefault()},this.onPhonePaste=function(t){/^\d+$/.test(t.clipboardData.getData("Text"))||t.preventDefault()},this.onNumberKeyDown=function(t){8===t.keyCode||9===t.keyCode||13===t.keyCode||188===t.keyCode||110===t.keyCode||190===t.keyCode||65===t.keyCode&&(t.ctrlKey||t.metaKey)||67===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||86===t.keyCode&&(t.ctrlKey||t.metaKey)||35<=t.keyCode&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||57<t.keyCode)&&(t.keyCode<96||105<t.keyCode)&&t.preventDefault()},this.onNumberPaste=function(t){/^\d.+$/.test(t.clipboardData.getData("Text"))||t.preventDefault()}}return t.prototype.ngOnInit=function(){this.templateContext={props:{value:this.value,type:this.type,name:this.name,placeholder:this.placeholder,invalid:this.invalid,disabled:this.disabled,range:this.range,readonly:this.readonly},events:{change:this.change,blur:this.blur,enter:this.enter,keydown:this.onKeyDown,keypress:this.onKeyPress,paste:this.onPaste}},this.host_invalid=this.invalid,this.cd.markForCheck()},t.prototype.ngOnChanges=function(){this.host_invalid=this.invalid,this.cd.markForCheck()},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"io-input",template:'<ng-container *ngIf="!template">\r\n    <input\r\n            [type]="type"\r\n            [name]="name"\r\n            [placeholder]="placeholder"\r\n            [value]="value"\r\n            (input)="onChange($event)"\r\n            (blur)="onBlur()"\r\n            (focus)="onFocus()"\r\n            (keydown)="onKeyDown($event)"\r\n            (paste)="onPaste($event)"\r\n            (keypress)="onKeyPress($event)"\r\n\r\n            *ngIf="!(readonly || disabled)"\r\n    >\r\n\r\n</ng-container>\r\n\r\n\r\n<ng-container *ngIf="template">\r\n    <ng-container *ngTemplateOutlet="template; context:templateContext"></ng-container>\r\n</ng-container>\r\n\r\n<span *ngIf="readonly || disabled">\r\n          {{value}}\r\n      </span>\r\n\x3c!--<ng-container--\x3e\r\n\x3c!--*ngIf="properties?.loading"--\x3e\r\n\x3c!--&gt;--\x3e\r\n\x3c!--<svg version="1.1"--\x3e\r\n\r\n\x3c!--class="loading_icon"--\x3e\r\n\x3c!--xmlns="http://www.w3.org/2000/svg"--\x3e\r\n\x3c!--x="0px"--\x3e\r\n\x3c!--y="0px"--\x3e\r\n\x3c!--viewBox="0 0 80 80"--\x3e\r\n\x3c!--xml:space="preserve"--\x3e\r\n\x3c!--&gt;--\x3e\r\n\x3c!--<path--\x3e\r\n\x3c!--fill="#D43B11"--\x3e\r\n\x3c!--d="M10,40c0,0,0-0.4,0-1.1c0-0.3,0-0.8,0-1.3c0-0.3,0-0.5,0-0.8c0-0.3,0.1-0.6,0.1-0.9c0.1-0.6,0.1-1.4,0.2-2.1--\x3e\r\n\x3c!--c0.2-0.8,0.3-1.6,0.5-2.5c0.2-0.9,0.6-1.8,0.8-2.8c0.3-1,0.8-1.9,1.2-3c0.5-1,1.1-2,1.7-3.1c0.7-1,1.4-2.1,2.2-3.1--\x3e\r\n\x3c!--c1.6-2.1,3.7-3.9,6-5.6c2.3-1.7,5-3,7.9-4.1c0.7-0.2,1.5-0.4,2.2-0.7c0.7-0.3,1.5-0.3,2.3-0.5c0.8-0.2,1.5-0.3,2.3-0.4l1.2-0.1--\x3e\r\n\x3c!--l0.6-0.1l0.3,0l0.1,0l0.1,0l0,0c0.1,0-0.1,0,0.1,0c1.5,0,2.9-0.1,4.5,0.2c0.8,0.1,1.6,0.1,2.4,0.3c0.8,0.2,1.5,0.3,2.3,0.5--\x3e\r\n\x3c!--c3,0.8,5.9,2,8.5,3.6c2.6,1.6,4.9,3.4,6.8,5.4c1,1,1.8,2.1,2.7,3.1c0.8,1.1,1.5,2.1,2.1,3.2c0.6,1.1,1.2,2.1,1.6,3.1--\x3e\r\n\x3c!--c0.4,1,0.9,2,1.2,3c0.3,1,0.6,1.9,0.8,2.7c0.2,0.9,0.3,1.6,0.5,2.4c0.1,0.4,0.1,0.7,0.2,1c0,0.3,0.1,0.6,0.1,0.9--\x3e\r\n\x3c!--c0.1,0.6,0.1,1,0.1,1.4C74,39.6,74,40,74,40c0.2,2.2-1.5,4.1-3.7,4.3s-4.1-1.5-4.3-3.7c0-0.1,0-0.2,0-0.3l0-0.4c0,0,0-0.3,0-0.9--\x3e\r\n\x3c!--c0-0.3,0-0.7,0-1.1c0-0.2,0-0.5,0-0.7c0-0.2-0.1-0.5-0.1-0.8c-0.1-0.6-0.1-1.2-0.2-1.9c-0.1-0.7-0.3-1.4-0.4-2.2--\x3e\r\n\x3c!--c-0.2-0.8-0.5-1.6-0.7-2.4c-0.3-0.8-0.7-1.7-1.1-2.6c-0.5-0.9-0.9-1.8-1.5-2.7c-0.6-0.9-1.2-1.8-1.9-2.7c-1.4-1.8-3.2-3.4-5.2-4.9--\x3e\r\n\x3c!--c-2-1.5-4.4-2.7-6.9-3.6c-0.6-0.2-1.3-0.4-1.9-0.6c-0.7-0.2-1.3-0.3-1.9-0.4c-1.2-0.3-2.8-0.4-4.2-0.5l-2,0c-0.7,0-1.4,0.1-2.1,0.1--\x3e\r\n\x3c!--c-0.7,0.1-1.4,0.1-2,0.3c-0.7,0.1-1.3,0.3-2,0.4c-2.6,0.7-5.2,1.7-7.5,3.1c-2.2,1.4-4.3,2.9-6,4.7c-0.9,0.8-1.6,1.8-2.4,2.7--\x3e\r\n\x3c!--c-0.7,0.9-1.3,1.9-1.9,2.8c-0.5,1-1,1.9-1.4,2.8c-0.4,0.9-0.8,1.8-1,2.6c-0.3,0.9-0.5,1.6-0.7,2.4c-0.2,0.7-0.3,1.4-0.4,2.1--\x3e\r\n\x3c!--c-0.1,0.3-0.1,0.6-0.2,0.9c0,0.3-0.1,0.6-0.1,0.8c0,0.5-0.1,0.9-0.1,1.3C10,39.6,10,40,10,40z"--\x3e\r\n\x3c!--&gt;--\x3e\r\n\x3c!--<animateTransform--\x3e\r\n\x3c!--attributeType="xml"--\x3e\r\n\x3c!--attributeName="transform"--\x3e\r\n\x3c!--type="rotate"--\x3e\r\n\x3c!--from="0 40 40"--\x3e\r\n\x3c!--to="360 40 40"--\x3e\r\n\x3c!--dur="0.8s"--\x3e\r\n\x3c!--repeatCount="indefinite"--\x3e\r\n\x3c!--/>--\x3e\r\n\x3c!--</path>--\x3e\r\n\x3c!--<path--\x3e\r\n\x3c!--fill="#D43B11"--\x3e\r\n\x3c!--d="M62,40.1c0,0,0,0.2-0.1,0.7c0,0.2,0,0.5-0.1,0.8c0,0.2,0,0.3,0,0.5c0,0.2-0.1,0.4-0.1,0.7--\x3e\r\n\x3c!--c-0.1,0.5-0.2,1-0.3,1.6c-0.2,0.5-0.3,1.1-0.5,1.8c-0.2,0.6-0.5,1.3-0.7,1.9c-0.3,0.7-0.7,1.3-1,2.1c-0.4,0.7-0.9,1.4-1.4,2.1--\x3e\r\n\x3c!--c-0.5,0.7-1.1,1.4-1.7,2c-1.2,1.3-2.7,2.5-4.4,3.6c-1.7,1-3.6,1.8-5.5,2.4c-2,0.5-4,0.7-6.2,0.7c-1.9-0.1-4.1-0.4-6-1.1--\x3e\r\n\x3c!--c-1.9-0.7-3.7-1.5-5.2-2.6c-1.5-1.1-2.9-2.3-4-3.7c-0.6-0.6-1-1.4-1.5-2c-0.4-0.7-0.8-1.4-1.2-2c-0.3-0.7-0.6-1.3-0.8-2--\x3e\r\n\x3c!--c-0.2-0.6-0.4-1.2-0.6-1.8c-0.1-0.6-0.3-1.1-0.4-1.6c-0.1-0.5-0.1-1-0.2-1.4c-0.1-0.9-0.1-1.5-0.1-2c0-0.5,0-0.7,0-0.7--\x3e\r\n\x3c!--s0,0.2,0.1,0.7c0.1,0.5,0,1.1,0.2,2c0.1,0.4,0.2,0.9,0.3,1.4c0.1,0.5,0.3,1,0.5,1.6c0.2,0.6,0.4,1.1,0.7,1.8--\x3e\r\n\x3c!--c0.3,0.6,0.6,1.2,0.9,1.9c0.4,0.6,0.8,1.3,1.2,1.9c0.5,0.6,1,1.3,1.6,1.8c1.1,1.2,2.5,2.3,4,3.2c1.5,0.9,3.2,1.6,5,2.1--\x3e\r\n\x3c!--c1.8,0.5,3.6,0.6,5.6,0.6c1.8-0.1,3.7-0.4,5.4-1c1.7-0.6,3.3-1.4,4.7-2.4c1.4-1,2.6-2.1,3.6-3.3c0.5-0.6,0.9-1.2,1.3-1.8--\x3e\r\n\x3c!--c0.4-0.6,0.7-1.2,1-1.8c0.3-0.6,0.6-1.2,0.8-1.8c0.2-0.6,0.4-1.1,0.5-1.7c0.1-0.5,0.2-1,0.3-1.5c0.1-0.4,0.1-0.8,0.1-1.2--\x3e\r\n\x3c!--c0-0.2,0-0.4,0.1-0.5c0-0.2,0-0.4,0-0.5c0-0.3,0-0.6,0-0.8c0-0.5,0-0.7,0-0.7c0-1.1,0.9-2,2-2s2,0.9,2,2C62,40,62,40.1,62,40.1z"--\x3e\r\n\x3c!--&gt;--\x3e\r\n\x3c!--<animateTransform--\x3e\r\n\x3c!--attributeType="xml"--\x3e\r\n\x3c!--attributeName="transform"--\x3e\r\n\x3c!--type="rotate"--\x3e\r\n\x3c!--from="0 40 40"--\x3e\r\n\x3c!--to="-360 40 40"--\x3e\r\n\x3c!--dur="0.6s"--\x3e\r\n\x3c!--repeatCount="indefinite"--\x3e\r\n\x3c!--/>--\x3e\r\n\x3c!--</path>--\x3e\r\n\x3c!--</svg>--\x3e\r\n\x3c!--</ng-container>--\x3e',changeDetection:s.ChangeDetectionStrategy.OnPush,host:{"[class.disabled]":"disabled","[class.readonly]":"readonly"},styles:[":host{background-color:transparent;border:1px solid #d9d9d9;border-radius:.4rem;color:#363636;display:flex;align-items:center;justify-content:flex-start;font-size:1.5rem;outline:0;overflow:hidden;padding:0 1rem;position:relative;transition:.3s cubic-bezier(.645,.045,.355,1);width:100%;height:auto;min-height:2.25em;max-height:5rem;max-width:100%}:host.focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid.focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}:host input{border:none;color:inherit;display:flex;flex:1px;font-size:inherit;font-weight:inherit;text-transform:inherit;text-decoration:inherit;outline:0;height:100%;max-width:100%;z-index:1}:host .loading_icon{width:10%}:host-context(.readonly){border:0}:host-context(.disabled){border:0}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef}]},t.propDecorators={type:[{type:s.Input}],name:[{type:s.Input}],placeholder:[{type:s.Input}],value:[{type:s.Input}],invalid:[{type:s.Input}],disabled:[{type:s.Input}],range:[{type:s.Input}],readonly:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],enter:[{type:s.Output}],template:[{type:s.Input}],host_focus:[{type:s.HostBinding,args:["class.focus"]}],host_invalid:[{type:s.HostBinding,args:["class.invalid"]}]},t}(),v=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[y],imports:[e.CommonModule],exports:[y],entryComponents:[y]}]}],t}(),b=function(){function t(){var t=this;this.title="",this.value=!1,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.invalid=!1,this.onClick=function(){t.value=!t.value,t.change.emit(t.value)}}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"io-checkbox",template:'<div class="checkbox" [class.active]="value">\n    <i class="fas fa-check icon"></i>\n</div>\n<p class="label">{{label}}</p>\n\n\n',styles:[":host{display:flex;align-items:center}:host .checkbox{background-color:#fff;border-radius:.3em;box-sizing:border-box;border:1px solid #d9d9d9;display:flex;align-items:center;justify-content:center;margin-right:.3em;padding:0;touch-action:manipulation;transition:.3s;width:1.8em;height:1.8em}:host .checkbox:hover{border-color:#1890ff}:host .checkbox.active{background-color:#1890ff;border-color:#1890ff}:host .icon{color:#fff}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={label:[{type:s.Input}],title:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],invalid:[{type:s.Input}],onClick:[{type:s.HostListener,args:["click"]}]},t}(),x=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[b],exports:[b],entryComponents:[b]}]}],t}(),_=function(){function t(){this.name="",this.value="",this.placeholder="",this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.invalid=!1}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"io-textarea",template:'\n      <textarea\n              [name]="name"\n              [value]="value"\n              [class.invalid]="invalid"\n              cols="1" rows="1"\n              [placeholder]="placeholder"\n              \n              (change)="$event.stopPropagation(); change.emit($event.target.value);"\n              (blur)="blur.emit()"\n      ></textarea>\n  ',styles:["\n      :host {\n          display: flex;\n          flex: 1;\n      }\n\n      textarea {\n          border: none;\n          font-size: 1.5rem;\n          padding: 1rem;\n          width: 100%;\n          max-width: 100%;\n          overflow-y: scroll;\n      }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={name:[{type:s.Input}],value:[{type:s.Input}],placeholder:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],invalid:[{type:s.Input}]},t}(),C=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[_],exports:[_],entryComponents:[_]}]}],t}(),w=function(){function t(){var e=this;this.options=[],this.name="",this.value=null,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.enter=new s.EventEmitter,this.invalid=!1,this.onSelectOption=function(t){e.change.emit(t.value),e.blur.emit()}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"io-menu",template:'\n      <ng-container *ngFor="let option of options">\n          <div\n                  class="option"\n                  [class.active]="option.value === value"\n                  (click)="onSelectOption(option)"\n          >\n              {{option.label}}\n          </div>\n      </ng-container>\n  ',styles:[":host{display:flex;flex-direction:column;width:100%}:host .option{border:0;cursor:pointer;font-size:1.6rem;margin:.5rem 0}:host .option.active,:host .option:hover{font-weight:700}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={options:[{type:s.Input}],name:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],enter:[{type:s.Output}],invalid:[{type:s.Input}]},t}(),k=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[w],imports:[e.CommonModule],exports:[w],entryComponents:[w]}]}],t}(),I=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[],imports:[v,x,g,p,C,k],exports:[v,x,g,p,C,k]}]}],t}(),O=function(t,e){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function D(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return(E=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},V=function(){function t(t,e){var n=this;this._resolver=t,this._vcRef=e,this.components={input:y,textarea:_,upload:d,menu:w},this.createComponent=function(){var t=n.components[n._controlConfig.type],e=n._resolver.resolveComponentFactory(t);n._compRef=n._vcRef.createComponent(e),n.initContext()},this.initContext=function(){n.parseContext()},this.updateContext=function(){if(n.parseContext("updated"),"function"!=typeof n._compRef.instance.ngOnChanges)throw new Error(n._compRef.componentType.name+" doesn't implement 'ngOnChanges'");n._compRef.instance.ngOnChanges()},this.parseContext=function(t){void 0===t&&(t="initial");var e=E({name:n._controlConfig.name,invalid:n._invalid},n._controlConfig.props,{value:n._value,options:n._options,readonly:n._readonly,template:n._template});a.forOwn(e,function(t,e){t!==undefined&&(n._compRef.instance[e]=t)}),"initial"===t&&a.forOwn(n._events,function(e,t){n._compRef.instance[t]||(n._compRef.instance[t]=new s.EventEmitter),n._compRef.instance[t].pipe(o.untilDestroyed(n)).subscribe(function(t){e instanceof s.EventEmitter?e.emit(t):e(t)})})}}return t.prototype.ngOnInit=function(){this.createComponent()},t.prototype.ngOnChanges=function(){this._compRef&&this.updateContext()},t.prototype.ngOnDestroy=function(){this._compRef&&this._compRef.destroy()},t.decorators=[{type:s.Directive,args:[{selector:"[dynamic_field]"}]}],t.ctorParameters=function(){return[{type:s.ComponentFactoryResolver},{type:s.ViewContainerRef}]},t.propDecorators={_readonly:[{type:s.Input,args:["readonly"]}],_controlConfig:[{type:s.Input,args:["controlConfig"]}],_events:[{type:s.Input,args:["events"]}],_invalid:[{type:s.Input,args:["invalid"]}],_value:[{type:s.Input,args:["value"]}],_options:[{type:s.Input,args:["options"]}],_template:[{type:s.Input,args:["template"]}]},t}(),S=function(){function t(){var n=this;this.$initialize=new r.Subject,this.initialize=function(t){n.formGroup=t,n.$initialize.next(t)},this.getFormGroup=function(){return n.formGroup},this.getControl=function(t){return n.formGroup.get(t)},this.convertToFormData=function(t){var n=new FormData;return a.forOwn(t,function(t,e){a.isArray(t)?a.each(t,function(t){return n.append(e+"[]",t,t.name)}):n.append(e,t)}),n},this.convertToMediaType=function(t,e){if(e)switch(e.toLowerCase()){case"json":return JSON.stringify(t);case"form-data":return n.convertToFormData(t);default:return t}return t}}return t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(t){},t.prototype.ngOnDestroy=function(){},t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Injectable}],t}(),P=function(){function t(t,e){this._vcRef=t,this._tplRef=e,this.name=""}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this._vcRef.clear()},t.decorators=[{type:s.Directive,args:[{selector:"[fieldTemplate]"}]}],t.ctorParameters=function(){return[{type:s.ViewContainerRef},{type:s.TemplateRef}]},t.propDecorators={name:[{type:s.Input}]},t}(),A=function(){function t(t,e){var n=this;this._formSvs=t,this.cd=e,this.submit=new s.EventEmitter,this.viewInitialized=!1,this.parseContext=function(){n._formSvs.initialize(n.formGroup),n.controlRoster=a.keys(n.formGroup.controls),n.controls=a.values(n.formGroup.controls),n._subscription&&n._subscription.unsubscribe(),n._subscription=n.formGroup.ngSubmit.pipe(o.untilDestroyed(n),i.distinctUntilChanged()).subscribe(function(t){(n.formGroup.valid||t.instant)&&n.submit.emit(n._formSvs.convertToMediaType(t.value,n.mediaType))})}}return t.prototype.ngAfterViewChecked=function(){this.formGroup&&(this.parseContext(),this.viewInitialized=!0,this.cd.detectChanges(),this.default_template||(this.default_template=0===this._contentVcRef.nativeElement.parentElement.children.length),this.cd.detectChanges())},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"io-form",template:'\n      <ng-container>\n          <ng-template #contentVc>\n              <ng-content></ng-content>\n          </ng-template>\n\n          <ng-container *ngIf="viewInitialized">\n\n              <ng-container *ngIf="!default_template">\n                  <ng-container [ngTemplateOutlet]="contentVc"></ng-container>\n              </ng-container>\n\n              <ng-container *ngIf="default_template">\n                  <ng-container *ngFor="let name of controlRoster">\n                      <form-control\n                              [name]="name"\n                              [formGroup]="formGroup"\n                      >\n                      </form-control>\n                  </ng-container>\n              </ng-container>\n\n          </ng-container>\n\n      </ng-container>\n\n\n\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,providers:[S],styles:["\n\n  "]}]}],t.ctorParameters=function(){return[{type:S},{type:s.ChangeDetectorRef}]},t.propDecorators={formGroup:[{type:s.Input}],mediaType:[{type:s.Input}],submit:[{type:s.Output}],_contentVcRef:[{type:s.ViewChild,args:["contentVc",{read:s.ElementRef}]}],_fieldTemplateDirList:[{type:s.ContentChildren,args:[P]}]},t}(),R=function(){function t(t,e,n,o,r){var i=this;this._formSvs=t,this.cd=e,this._renderer=n,this._elRef=o,this._parent=r,this.name="",this.show_feedback=!0,this.show_label=!0,this.parseContext=function(){i._checkTemplate(),i._control=i.formGroup.get(i.name),i._renderer.setAttribute(i._elRef.nativeElement,"id",i.name);var t=i._control.configuration.props;a.has(t,["hidden"])&&i._renderer.addClass(i._elRef.nativeElement,"hidden"),a.has(t,["hideLabel"])&&(i.show_label=!1,i._renderer.addClass(i._elRef.nativeElement,"hide-label")),a.has(t,["hideFeedback"])&&(i.show_feedback=!1,i._renderer.addClass(i._elRef.nativeElement,"hide-feedback")),i.cd.detectChanges()},this._checkTemplate=function(){var t=i._fieldTemplateDir?i._fieldTemplateDir:a.find(i._parent._fieldTemplateDirList.toArray(),["name",i.name]);t&&(i.fieldTemplate=t._tplRef)}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.ngAfterViewChecked=function(){this._parent.formGroup&&(this.formGroup=this._parent.formGroup,this.parseContext())},t.prototype.ngOnChanges=function(){},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-control",template:'\n\n      <ng-container *ngIf="formGroup">\n          <form-label *ngIf="show_label"></form-label>\n\n          <form-field></form-field>\n\n          <form-feedback *ngIf="show_feedback"></form-feedback>\n      </ng-container>\n\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:['\n      :host {\n          display: grid;\n          grid-template-areas: "label   field" ". feedback";\n          grid-template-columns: 3fr 7fr;\n          grid-template-rows: 1fr auto;\n          margin-bottom: 1rem;\n          height: auto;\n          visibility: visible;\n          z-index: 50;\n      }\n\n      :host-context(.hide-label) {\n          grid-template-areas: "field" "feedback";\n          grid-template-columns: 1fr;\n      }\n\n      :host-context(.hide-feedback) {\n          grid-template-areas: "label   field";\n          grid-template-columns: 3fr 7fr;\n      }\n\n      :host-context(.hide-label.hide-feedback) {\n          grid-template-areas: "field";\n      }\n\n      :host-context(.hidden) {\n          display: none !important;\n      }\n\n      form-label {\n          grid-area: label;\n      }\n\n      form-field {\n          grid-area: field;\n      }\n\n      form-feedback {\n          grid-area: feedback;\n      }\n  ']}]}],t.ctorParameters=function(){return[{type:S},{type:s.ChangeDetectorRef},{type:s.Renderer2},{type:s.ElementRef},{type:A,decorators:[{type:s.Host}]}]},t.propDecorators={name:[{type:s.Input}],formGroup:[{type:s.Input}],_fieldTemplateDir:[{type:s.ContentChild,args:[P]}]},t}(),T=function(){function t(t,e,n){var o=this;this._formSvs=t,this.cd=e,this._parent=n,this.invalid=!1,this.onChanged=function(t){o._formSvs.getControl(o._parent.name).setValue(t)},this.onTouched=function(){o._formSvs.getControl(o._parent.name).markAsTouched()},this.onEntered=function(){},this.parseContext=function(){o.control=o.formGroup.get(o._parent.name),o.controlConfig=o.control.configuration,o.template=o._parent.fieldTemplate,o.invalid=o.control.invalid&&(o.control.dirty||o.control.touched||o.formGroup.submitted),o.cd.detectChanges()}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.ngAfterViewChecked=function(){var e=this;this._parent.formGroup&&(this.formGroup=this._parent.formGroup,this._statusSubscription&&this._statusSubscription.unsubscribe(),this._submitSubscription&&this._submitSubscription.unsubscribe(),this._statusSubscription=this.formGroup.statusChanges.pipe(o.untilDestroyed(this)).subscribe(function(t){e.parseContext()}),this._submitSubscription=this.formGroup.ngSubmit.pipe(o.untilDestroyed(this)).subscribe(function(t){e.parseContext()}),this.parseContext())},t.prototype.ngOnChanges=function(t){},t.prototype.ngOnDestroy=function(){this.cd.detach()},t.decorators=[{type:s.Component,args:[{selector:"form-field",template:'\n      <ng-container *ngIf="formGroup">\n          <ng-container\n                  dynamic_field\n                  [controlConfig]="controlConfig"\n\n                  [events]="{\n                            change: onChanged,\n                            blur: onTouched,\n                            enter: onEntered\n                    }"\n                  [template]="template"\n\n                  [value]="control.value"\n                  [options]="controlConfig.options"\n                  [invalid]="invalid"\n                  [readonly]="formGroup.readonly"\n          >\n          </ng-container>\n      </ng-container>\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          width: 100%;\n          height: 100%;\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:S},{type:s.ChangeDetectorRef},{type:R,decorators:[{type:s.Host}]}]},t}(),z=function(){function t(t){var e=this;this._elRef=t,this.disabled=!1,this.onClick=function(t){e.disabled||e._formGr.submit()}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Directive,args:[{selector:"[submitForm]"}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={_formGr:[{type:s.Input,args:["submitForm"]}],disabled:[{type:s.Input}],onClick:[{type:s.HostListener,args:["click",["$event"]]}]},t}(),G=function(){function t(t,e,n){var o=this;this._formSvs=t,this.cd=e,this._parent=n,this.parseContext=function(){o.control=o.formGroup.get(o._parent.name),o.controlConfig=o.control.configuration,o.label=o.controlConfig.label||a.startCase(o._parent.name),o.cd.detectChanges()}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewChecked=function(){this._parent.formGroup&&(this.formGroup=this._parent.formGroup,this.parseContext())},t.prototype.ngOnDestroy=function(){this.cd.detach()},t.decorators=[{type:s.Component,args:[{selector:"form-label",template:"\n      {{label}}\n  ",changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          align-items: center;\n          color: rgba(0, 0, 0, 0.85);\n          font-size: 1.6rem;\n          font-weight: 700;\n          position: relative\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:S},{type:s.ChangeDetectorRef},{type:R,decorators:[{type:s.Host}]}]},t}(),j=function(){function t(t,e,n){var o=this;this._formSvs=t,this.cd=e,this._parent=n,this.invalid=!1,this.show_feedback=!0,this.generate_feedback=function(t,e){if(!t)return null;switch(t){case"required":return"confirm_password"===o._parent.name?"You need to confirm password":a.startCase(o._parent.name)+"  is required";case"agreement":return"You must agree to the terms and conditions before continuing!";case"email":return"Invalid email address. Valid e-mail can contain only latin letters, numbers, '@' and '.'";case"email_existed":return a.startCase(o._parent.name)+" is existed! Please use another one";case"stringLength":return e.minLength?a.startCase(o._parent.name)+" cannot be shorter than "+e.minLength:a.startCase(o._parent.name)+" cannot be longer than "+e.maxLength;case"equalTo":return"Confirm password is not equal to password";default:return e}},this.parseContext=function(){o._control=o.formGroup.get(o._parent.name),o.invalid=o._control.invalid&&(o._control.dirty||o._control.touched||o.formGroup.submitted),o.error_list=a.map(o._control.errors,function(t,e){return o.generate_feedback(e,t)}),o.cd.detectChanges()}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewChecked=function(){var e=this;this._parent.formGroup&&(this.formGroup=this._parent.formGroup,this._statusSubscription&&this._statusSubscription.unsubscribe(),this._submitSubscription&&this._submitSubscription.unsubscribe(),this._statusSubscription=this.formGroup.statusChanges.pipe(o.untilDestroyed(this)).subscribe(function(t){e.parseContext()}),this._submitSubscription=this.formGroup.ngSubmit.pipe(o.untilDestroyed(this)).subscribe(function(t){e.parseContext()}),this.parseContext())},t.prototype.ngOnChanges=function(t){},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-feedback",template:'\n      <ng-container *ngIf="show_feedback">\n          <ng-container *ngIf="invalid">\n              <ng-container *ngFor="let err of error_list">\n                  <div class="feedback">{{err}}</div>\n              </ng-container>\n\n          </ng-container>\n      </ng-container>\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-start;\n          width: 100%;\n          color: #f5222d;\n          font-size: 1.2rem;\n          margin-top: 0.5rem;\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:S},{type:s.ChangeDetectorRef},{type:R,decorators:[{type:s.Host}]}]},t}(),L=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[A,T,R,G,j,P,V,z],imports:[e.CommonModule],exports:[A,T,z,R,G,j,P]}]}],t}(),F=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[],imports:[e.CommonModule,L,I],exports:[L,I]}]}],t}(),K=function(){function t(){var e=this;this.touched=!1,this.pristine=!0,this.storeConfig=function(t){e.configuration=t}}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this.status!==q},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.status===q},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.status===$},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.status===M},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.status===N},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.markAsTouched=function(){this.touched=!0,this.updateValueAndValidity({onlySelf:!0})},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&this._updateValidity(t),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._initObservables=function(){this.valueChanges=new s.EventEmitter,this.statusChanges=new s.EventEmitter},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?q:$},t.prototype._updateValue=function(){},t.prototype._updateValidity=function(t){void 0===t&&(t={})},t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status)},t}(),$="VALID",M="INVALID",N="PENDING",q="DISABLED",H=function(){function t(){}return t.composeAsync=function(t){if(!t)return null;var o=t.filter(U);return 0==o.length?null:function(t){var e=function n(e,t){return t.map(function(t){return t(e)})}(t,o);return r.forkJoin(e).pipe(i.map(J))}},t.prototype._isBoxedValue=function(t){return a.isPlainObject(t)},t.required=function(t){return Z(t.value)?{required:!0}:null},t.email=function(t){return Z(t.value)?null:B.test(t.value)?null:{email:!0}},t.stringLength=function(t){var e=t.configuration;if(Z(t.value))return null;if("input"!==e.type)throw new Error("'stringLength' validator can only be used with control type 'input' or 'textarea'");var n=e.validators.stringLength.min,o=e.validators.stringLength.max,r=t.value?t.value.length:0;return r<n?{stringLength:{minLength:n,actualLength:r}}:o<r?{stringLength:{maxLength:o,actualLength:r}}:null},t.equalTo=function(t){if(Z(t.value))return null;var e=t.configuration,n=a.isString(e.validators.equalTo)?e.validators.equalTo:e.validators.equalTo.compare,o=t.parent.controls[n];return JSON.stringify(t.value)===JSON.stringify(o.value)?null:{equalTo:e.validators.equalTo}},t.compose=function(t){if(!t)return null;var e=t.filter(U);return 0===e.length?null:function(t){return J(function n(e,t){return t.map(function(t){return t(e)})}(t,e))}},t}(),B=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;function Z(t){return null==t||0===t.length}function U(t){return null!=t}function J(t){var e=a.reduce(t,function(t,e){return e?E({},t,e):t},{});return 0===Object.keys(e).length?null:e}var Y=function(e){function t(t){var o=e.call(this)||this;return o._runAsyncValidator=a.debounce(function(e){if(o.asyncValidator){o.status=N;var t=o.asyncValidator(o);o._asyncValidationSubscription=t.subscribe(function(t){(o.touched||o.dirty)&&o.value&&(o.status=M,o.setErrors(t,{emitEvent:e}))})}},500),o._setValidators=function(t){o.validator=function n(t){return H.compose(function e(t){return a.map(t,function(t,e){return a.has(H,e)?H[e]:null})}(t))}(t)},o._setAsyncValidators=function(t){o.asyncValidator=function e(t){return a.isArray(t)?H.composeAsync(a.map(t,function(t,e){return t})):t||null}(t)},o._applyControlState=function(){o.value=o.configuration.value||null},o.storeConfig(t),o._setValidators(t.validators),o._setAsyncValidators(t.asyncValidator),o._initObservables(),o._applyControlState(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return D(t,e),t.prototype.setValue=function(t,e){void 0===e&&(e={}),this.value=t,this.markAsDirty(),this.updateValueAndValidity(e),(a.has(this.configuration.props,["submitOnChange"])||a.has(this.parent.configuration,["submitOnChange"]))&&this.parent.submit(!0)},t.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this.markAsPristine(e),this.markAsUntouched(e),this._applyControlState(),this.updateValueAndValidity(e)},t.prototype.clear=function(t){void 0===t&&(t={}),this.markAsPristine(t),this.markAsUntouched(t),this.value=null,this.updateValueAndValidity(t)},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype._calculateStatus=function(){return this.disabled?q:this.errors?M:this.pending?N:$},t.prototype._updateValue=function(){},t.prototype._updateValidity=function(t){void 0===t&&(t={}),this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==$&&this.status!==N||this._runAsyncValidator(t.emitEvent)},t.prototype._allControlsDisabled=function(){return this.disabled},t}(K);var Q=function(o){function t(t,e){var n=o.call(this)||this;return n.formState=t,n.formConfigs=e,n._readonly=!1,n.submitted=!1,n.controls={},n._applyFormState=function(){n.readonly=a.has(n.formConfigs,["readonly"])},n._isNotExcluded=function(t){return!(a.get(t.configuration,"props.exclude")||a.has(n.formConfigs,["nullExclusion"])&&!t.value)},n.storeConfig(e),n._setUpControls(),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n._applyFormState(),n}return D(t,o),Object.defineProperty(t.prototype,"readonly",{get:function(){return this._readonly},set:function(t){this._readonly=t,this.updateValueAndValidity({emitEvent:!0})},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t,n){var o=this;void 0===n&&(n={}),a.forOwn(t,function(t,e){o._throwIfControlMissing(e),o.controls[e].setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)},t.prototype.reset=function(e,n){var o=this;void 0===e&&(e={}),void 0===n&&(n={}),a.each(a.keys(this.controls),function(t){o.controls[t].reset(e[t],{onlySelf:!0,emitEvent:n.emitEvent})}),this.submitted=!1,this.updateValueAndValidity(n),a.has(this.configuration,["submitOnChange"])&&this.submit(!0)},t.prototype.clear=function(e){var n=this;void 0===e&&(e={}),a.each(a.keys(this.controls),function(t){n.controls[t].clear({onlySelf:!0,emitEvent:e.emitEvent})}),this.submitted=!1,this.updateValueAndValidity(e),a.has(this.configuration,["submitOnChange"])&&this.submit(!0)},t.prototype.get=function(t){return void 0===t&&(t=null),null==t?null:this.controls.hasOwnProperty(t)?this.controls[t]:null},t.prototype.submit=function(t){void 0===t&&(t=!1),this.submitted=!0,this.updateValueAndValidity(),this.ngSubmit.emit({value:this.value,instant:t})},t.prototype._calculateStatus=function(){return this._anyControlsHaveStatus(M)?M:this._anyControlsHaveStatus(N)?N:$},t.prototype._setUpControls=function(){var e=this;a.each(this.formState,function(t){e.controls[t.name]=new Y(t),e.controls[t.name].setParent(e)})},t.prototype._initObservables=function(){this.valueChanges=new s.EventEmitter,this.statusChanges=new s.EventEmitter,this.ngSubmit=new s.EventEmitter},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._updateValidity=function(t){void 0===t&&(t={}),this.status=this._calculateStatus()},t.prototype._reduceValue=function(){var e=this,n={};return a.each(a.keys(this.controls),function(t){e._isNotExcluded(e.controls[t])&&(n[t]=e.controls[t].value)}),n},t.prototype._allControlsDisabled=function(){return a.every(this.controls,function(t){return t.disabled})},t.prototype._anyControlsHaveStatus=function(t){return!!a.find(this.controls,["status",t])},t.prototype._throwIfControlMissing=function(t){if(!a.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},t}(K),W=function(){function t(){this.group=function(t,e){return new Q(t,e)}}return t.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=s.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();t.FormControl=Y,t.FormGroup=Q,t.IonarFormBuilder=W,t.IonarFormModule=F,t.Validators=H,t.ɵf=R,t.ɵh=j,t.ɵe=T,t.ɵg=G,t.ɵb=A,t.ɵa=L,t.ɵi=V,t.ɵd=P,t.ɵj=z,t.ɵbd=K,t.ɵc=S,t.ɵo=b,t.ɵn=x,t.ɵm=y,t.ɵl=v,t.ɵbc=w,t.ɵbb=k,t.ɵw=c,t.ɵx=l,t.ɵy=u,t.ɵv=n,t.ɵu=p,t.ɵba=_,t.ɵz=C,t.ɵt=m,t.ɵr=h,t.ɵs=f,t.ɵq=d,t.ɵp=g,t.ɵk=I,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ionar-form.umd.min.js.map