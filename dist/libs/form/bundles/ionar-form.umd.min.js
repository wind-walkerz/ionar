!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@ionar/joi"),require("@ionar/utility"),require("rxjs/operators"),require("@angular/common"),require("@ionar/ui"),require("@angular/core"),require("lodash")):"function"==typeof define&&define.amd?define("@ionar/form",["exports","@ionar/joi","@ionar/utility","rxjs/operators","@angular/common","@ionar/ui","@angular/core","lodash"],e):e((t.ionar=t.ionar||{},t.ionar.form={}),t.Joi,t.utility,t.rxjs.operators,t.ng.common,t.ui,t.ng.core,t._)}(this,function(t,i,n,o,e,a,s,r){"use strict";i=i&&i.hasOwnProperty("default")?i["default"]:i;var l="default"in r?r["default"]:r,c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function p(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(o=i.next()).done;)a.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i["return"])&&n.call(i)}finally{if(r)throw r.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.invalid=!1,t.disabled=!1,t.focused=!1,t.readonly=!1,t.change=new s.EventEmitter,t.blur=new s.EventEmitter,t.enter=new s.EventEmitter,t}return p(t,e),Object.defineProperty(t.prototype,"_isFocused",{get:function(){return this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isInvalid",{get:function(){return this.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_isReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),t.propDecorators={invalid:[{type:s.Input}],disabled:[{type:s.Input}],focused:[{type:s.Input}],readonly:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],enter:[{type:s.Output}],_isFocused:[{type:s.HostBinding,args:["class.focus"]}],_isInvalid:[{type:s.HostBinding,args:["class.invalid"]}],_isDisabled:[{type:s.HostBinding,args:["class.disabled"]}],_isReadonly:[{type:s.HostBinding,args:["class.readonly"]}]},t}(a.IoAbstractUI),m=function(n){function t(t,e){var r=n.call(this,t,e)||this;return r.type="",r.name="",r.placeholder="",r.value="",r.range=[],r.onFocus=function(){},r.onBlur=function(){r.blur.emit(),r.focused=!1,r.cd.markForCheck()},r.onChange=l.debounce(function(t){t.stopPropagation();var e=t.target.value,n=parseInt(r.range[0],10),o=parseInt(r.range[1],10);!r.range||"number"!==r.type||n<=e&&e<=o||(e=t.target.value=r.range[1]),r.change.emit(e)},500),r.onKeyPress=function(t){13===t.keyCode&&r.enter.emit()},r.onKeyDown=function(t){return"number"===r.type?r.onNumberKeyDown(t):"phone"===r.type?r.onPhoneKeyDown(t):null},r.onPaste=function(t){return"number"===r.type?r.onNumberPaste(t):"phone"===r.type?r.onPhonePaste(t):null},r.onPhoneKeyDown=function(t){8===t.keyCode||9===t.keyCode||13===t.keyCode||65===t.keyCode&&(t.ctrlKey||t.metaKey)||67===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||86===t.keyCode&&(t.ctrlKey||t.metaKey)||35<=t.keyCode&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||57<t.keyCode)&&(t.keyCode<96||105<t.keyCode)&&t.preventDefault()},r.onPhonePaste=function(t){/^\d+$/.test(t.clipboardData.getData("Text"))||t.preventDefault()},r.onNumberKeyDown=function(t){8===t.keyCode||9===t.keyCode||13===t.keyCode||188===t.keyCode||110===t.keyCode||190===t.keyCode||65===t.keyCode&&(t.ctrlKey||t.metaKey)||67===t.keyCode&&(t.ctrlKey||t.metaKey)||88===t.keyCode&&(t.ctrlKey||t.metaKey)||86===t.keyCode&&(t.ctrlKey||t.metaKey)||35<=t.keyCode&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||57<t.keyCode)&&(t.keyCode<96||105<t.keyCode)&&t.preventDefault()},r.onNumberPaste=function(t){/^\d.+$/.test(t.clipboardData.getData("Text"))||t.preventDefault()},r}return p(t,n),t.prototype.ngOnInit=function(){n.prototype.ngOnInit.call(this),this.setContext({type:this.type,name:this.name,value:this.value,placeholder:this.placeholder},{input:this.onChange,blur:this.onBlur,focus:this.onFocus,keydown:this.onKeyDown,paste:this.onPaste,keypress:this.onKeyPress})},t.prototype.ngOnChanges=function(t){n.prototype.ngOnChanges.call(this,t)},t.decorators=[{type:s.Component,args:[{selector:"io-input",template:'<ng-container [ngTemplateOutlet]="template" [ngTemplateOutletContext]="context"></ng-container>\r\n\r\n<ng-template #default_template let-context>\r\n    <input\r\n            [spread]="context"\r\n            *ngIf="!(context?.readonly || context?.disabled)"\r\n    >\r\n\r\n    <span *ngIf="context?.readonly || context?.disabled">\r\n          {{value}}\r\n      </span>\r\n</ng-template>\r\n\r\n<ng-template #content_template>\r\n    <ng-content></ng-content>\r\n</ng-template>\r\n',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:[":host{background-color:transparent;border:1px solid #d9d9d9;border-radius:.4rem;color:#363636;display:flex;align-items:center;justify-content:flex-start;font-size:1.5rem;outline:0;overflow:hidden;padding:0 1rem;position:relative;transition:.3s cubic-bezier(.645,.045,.355,1);width:100%;height:auto;min-height:2.25em;max-height:5rem;max-width:100%}:host.focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid.focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}:host ::ng-deep input{border:none;color:inherit;display:flex;flex:1px;font-size:inherit;font-weight:inherit;text-transform:inherit;text-decoration:inherit;outline:0;height:100%;max-width:100%;z-index:1}:host .loading_icon{width:10%}:host-context(.readonly){border:0}:host-context(.disabled){border:0}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:s.ElementRef}]},t.propDecorators={type:[{type:s.Input}],name:[{type:s.Input}],placeholder:[{type:s.Input}],value:[{type:s.Input}],range:[{type:s.Input}]},t}(h),g=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.name="",n.value="",n.placeholder="",n}return p(t,o),t.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.setContext({name:this.name,value:this.value,placeholder:this.placeholder})},t.decorators=[{type:s.Component,args:[{selector:"io-textarea",template:'<textarea\r\n        [name]="name"\r\n        [value]="value"\r\n        [class.invalid]="invalid"\r\n        cols="1" rows="1"\r\n        [placeholder]="placeholder"\r\n\r\n        (change)="$event.stopPropagation(); change.emit($event.target.value);"\r\n        (blur)="blur.emit()"\r\n></textarea>\r\n',styles:[":host{display:flex;flex:1}textarea{border:none;font-size:1.5rem;padding:1rem;width:100%;max-width:100%;overflow-y:scroll}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:s.ElementRef}]},t.propDecorators={name:[{type:s.Input}],value:[{type:s.Input}],placeholder:[{type:s.Input}]},t}(h),y=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.file_list=[],n.change=new s.EventEmitter,n.invalid=!1,n.type="input",n.multiple=!1,n.title="",n}return p(t,o),t.prototype.onFileChanged=function(t){this.file_list=this.file_list.concat(l.map(t)),this.change.emit(this.multiple?this.file_list:this.file_list[0])},t.decorators=[{type:s.Component,args:[{selector:"io-upload",template:'<ng-container *ngIf="type === \'dropzone\'">\r\n    <ng-container *ngTemplateOutlet="dropzone"></ng-container>\r\n</ng-container>\r\n\r\n<ng-container *ngIf="type === \'input\'">\r\n    <ng-container *ngTemplateOutlet="click"></ng-container>\r\n</ng-container>\r\n\r\n<ng-template #click>\r\n    <click\r\n            (change)="onFileChanged($event)"\r\n            [template]="template"\r\n            [multiple]="multiple"\r\n            [title]="title"\r\n    >\r\n    </click>\r\n\r\n</ng-template>\r\n\r\n<ng-template #dropzone>\r\n    <drop\r\n            (change)="onFileChanged($event)"\r\n            [template]="template"\r\n    >\r\n    </drop>\r\n</ng-template>\r\n\r\n\r\n<ng-template #default_template>\r\n    <ng-content></ng-content>\r\n</ng-template>\r\n',styles:[":host{display:flex;flex-direction:column;align-items:flex-start;width:100%;height:100%}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:s.ElementRef}]},t.propDecorators={change:[{type:s.Output}],invalid:[{type:s.Input}],type:[{type:s.Input}],template:[{type:s.Input}],multiple:[{type:s.Input}],title:[{type:s.Input}]},t}(h),b=function(){function t(){var e=this;this.options=[],this.name="",this.value=null,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.enter=new s.EventEmitter,this.invalid=!1,this.onSelectOption=function(t){e.change.emit(t.value),e.blur.emit()}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"io-menu",template:'\n      <ng-container *ngFor="let option of options">\n          <div\n                  class="option"\n                  [class.active]="option.value === value"\n                  (click)="onSelectOption(option)"\n          >\n              {{option.label}}\n          </div>\n      </ng-container>\n  ',styles:[":host{display:flex;flex-direction:column;width:100%}:host .option{border:0;cursor:pointer;font-size:1.6rem;margin:.5rem 0}:host .option.active,:host .option:hover{font-weight:700}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={options:[{type:s.Input}],name:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],enter:[{type:s.Output}],invalid:[{type:s.Input}]},t}(),v=function(){function t(t,e){var o=this;this._resolver=t,this._vcRef=e,this.components={input:m,textarea:g,upload:y,menu:b},this.createComponent=function(){var t=o.components[o._control.state.component],e=o._resolver.resolveComponentFactory(t);o._compRef=o._vcRef.createComponent(e),o._parseContext("initial")},this._parseContext=function(t){if(void 0===t&&(t=null),o._updateContext(),"initial"===t&&o._initObservables(),"function"!=typeof o._compRef.instance.ngOnChanges)throw new Error(o._compRef.componentType.name+" doesn't implement 'ngOnChanges'");o._compRef.instance.ngOnChanges()},this._initObservables=function(){if(l.forOwn(o._events,function(e,t){o._compRef.instance[t]||(o._compRef.instance[t]=new s.EventEmitter),o._compRef.instance[t].pipe(n.untilDestroyed(o)).subscribe(function(t){e instanceof s.EventEmitter?e.emit(t):e(t)})}),"function"!=typeof o._compRef.instance.ngOnInit)throw new Error(o._compRef.componentType.name+" doesn't implement 'ngOnInit'");o._compRef.instance.ngOnInit()},this._updateContext=function(){var t=o._control.state,e=o._control.options,n=u({name:o._name,invalid:o._control.invalid&&(o._control.dirty||o._control.touched||o._root.submitted)},t.props,{template:o._template},e);l.forOwn(n,function(t,e){t!==undefined&&(o._compRef.instance[e]=t)})}}return t.prototype.ngOnInit=function(){var e=this;this.createComponent(),this._root.statusChanges.pipe(n.untilDestroyed(this)).subscribe(function(t){e.ngOnChanges()}),this._root.ngSubmit.pipe(n.untilDestroyed(this)).subscribe(function(t){e.ngOnChanges()})},t.prototype.ngOnChanges=function(){this._compRef&&this._parseContext()},t.prototype.ngOnDestroy=function(){this._compRef&&this._compRef.destroy()},t.decorators=[{type:s.Directive,args:[{selector:"[dynamic_field]"}]}],t.ctorParameters=function(){return[{type:s.ComponentFactoryResolver},{type:s.ViewContainerRef}]},t.propDecorators={_name:[{type:s.Input,args:["name"]}],_root:[{type:s.Input,args:["root"]}],_control:[{type:s.Input,args:["control"]}],_template:[{type:s.Input,args:["template"]}],_events:[{type:s.Input,args:["events"]}]},t}(),C=function(){function e(t){this.cd=t,this._parent=null,this._name=null}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){t instanceof e&&(this._parent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=r.trim(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.parent?this.parent.root:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?f(this.parent.path,[this.name,"controls"]):[this.name,"controls"]},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(t){},e.prototype.ngAfterViewInit=function(){},e.propDecorators={parent:[{type:s.Input,args:["parent"]}],name:[{type:s.Input}]},e}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),Object.defineProperty(e.prototype,"control",{get:function(){return this.root.get(this.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.parent?f(this.parent.path,[this.name]):[]},enumerable:!0,configurable:!0}),e}(C),O={provide:_,useExisting:s.forwardRef(function(){return w})},w=function(o){function t(t,e){var n=o.call(this,e)||this;return n.parent=t,n}return p(t,o),Object.defineProperty(t.prototype,"controlTemplateDir",{get:function(){var t=this.parent,e=this.control.state;return this._ioTemplateDir?this._ioTemplateDir:t.ioTemplateDirList?l.find(t.ioTemplateDirList.toArray(),["name",this.name])||l.find(t.ioTemplateDirList.toArray(),["component",e.component]):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attribute",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenStyle",{get:function(){return l.get(this.control.options,["hidden"])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHideLabel",{get:function(){return l.get(this.control.options,["hideLabel"])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHideFeedback",{get:function(){return l.get(this.control.options,["hideFeedback"])},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){o.prototype.ngOnChanges.call(this,t)},t.prototype.ngAfterViewChecked=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-control",template:'\n      <form-label *ngIf="!isHideLabel"></form-label>\n\n      <form-field></form-field>\n\n      <form-feedback *ngIf="!isHideFeedback"></form-feedback>\n  ',providers:[O],changeDetection:s.ChangeDetectionStrategy.OnPush,styles:['\n      :host {\n          display: grid;\n          grid-template-areas: "label   field" ". feedback";\n          grid-template-columns: 3fr 7fr;\n          grid-template-rows: 1fr auto;\n          margin-bottom: 1rem;\n          height: auto;\n          visibility: visible;\n          z-index: 50;\n      }\n\n      :host-context(.hide-label) {\n          grid-template-areas: "field" "feedback";\n          grid-template-columns: 1fr;\n      }\n\n      :host-context(.hide-feedback) {\n          grid-template-areas: "label   field";\n          grid-template-columns: 3fr 7fr;\n      }\n\n      :host-context(.hide-label.hide-feedback) {\n          grid-template-areas: "field";\n      }\n\n      :host-context(.hidden) {\n          display: none !important;\n      }\n\n      form-label {\n          grid-area: label;\n      }\n\n      form-field {\n          grid-area: field;\n      }\n\n      form-feedback {\n          grid-area: feedback;\n      }\n  ']}]}],t.ctorParameters=function(){return[{type:C,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]},{type:s.ChangeDetectorRef}]},t.propDecorators={_ioTemplateDir:[{type:s.ContentChild,args:[a.IonarTemplateDirective]}],attribute:[{type:s.HostBinding,args:["attr.id"]}],hiddenStyle:[{type:s.HostBinding,args:["class.hidden"]}],isHideLabel:[{type:s.HostBinding,args:["class.hideLabel"]}],isHideFeedback:[{type:s.HostBinding,args:["class.hideFeedback"]}]},t}(_),x=function(){function t(t,e){var n=this;this.cd=t,this._parent=null,this.onChanged=function(t){n._parent.control.setValue(t)},this.onTouched=function(){n._parent.control.markAsTouched()},this.onEntered=function(){},this._parent=e}return Object.defineProperty(t.prototype,"template",{get:function(){return this._parent.controlTemplateDir&&this._parent.controlTemplateDir.templateRef},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-field",template:'\n      <ng-container *ngIf="_parent.control">\n          <ng-container\n                  dynamic_field\n                  [name]="_parent.name"\n                  [control]="_parent.control"\n                  [root]="_parent.root"\n                  [events]="{\n                    change: onChanged,\n                    blur: onTouched,\n                    enter: onEntered\n              }"\n                  [template]="template"\n          >\n          </ng-container>\n      </ng-container>\n\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          width: 100%;\n          height: 100%;\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:w,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]}]},t}(),I=function(){function t(t){var e=this;this._elRef=t,this.disabled=!1,this.onClick=function(t){e.disabled||e._formGr.submit()}}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(){},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Directive,args:[{selector:"[submitForm]"}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={_formGr:[{type:s.Input,args:["submitForm"]}],disabled:[{type:s.Input}],onClick:[{type:s.HostListener,args:["click",["$event"]]}]},t}(),k=function(){function t(t,e){this.cd=t,this._parent=null,this._parent=e}return Object.defineProperty(t.prototype,"label",{get:function(){var t=this._control.state.props;return t&&t.label?t.label:l.startCase(this._parent.name)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_control",{get:function(){return this._parent.control},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.cd.detach()},t.decorators=[{type:s.Component,args:[{selector:"form-label",template:"\n      {{ label}}\n  ",changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          align-items: center;\n          color: rgba(0, 0, 0, 0.85);\n          font-size: 1.6rem;\n          font-weight: 700;\n          position: relative\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:w,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]}]},t}(),D=function(){function t(t,e){this.cd=t,this._parent=null,this._parent=e}return Object.defineProperty(t.prototype,"control",{get:function(){return this._parent.control},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control.invalid&&(this.control.dirty||this.control.touched||this._parent.root.submitted)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this._parent.root.statusChanges.pipe(n.untilDestroyed(this)).subscribe(function(t){e.cd.markForCheck()}),this._parent.root.ngSubmit.pipe(n.untilDestroyed(this)).subscribe(function(t){e.cd.markForCheck()})},t.prototype.ngOnChanges=function(t){},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-feedback",template:'\n\n      <ng-container *ngIf="invalid">\n          <ng-container *ngFor="let err of control.errors">\n              <div class="feedback">{{err.message}}</div>\n          </ng-container>\n\n      </ng-container>\n\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n      :host {\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-start;\n          width: 100%;\n          color: #f5222d;\n          font-size: 1.2rem;\n          margin-top: 0.5rem;\n      }\n  "]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:w,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]}]},t}(),E=function(){function t(t,e){var n=this;this.state=t,this._options=e,this.touched=!1,this.pristine=!0,this._getControlSchema=function(){return null},this._updateChildError=function(t){},this._storeInitialOptions=function(t){n._initialOptions=t},this._isNotExcluded=function(t){return!(l.get(t.options,"excluded")||l.has(n.options,["nullExclusion"])&&!t.value)},this._storeInitialOptions(e),this.runAsyncValidator=function(){}}return Object.defineProperty(t.prototype,"schema",{get:function(){if(this.parent&&this.parent.schema){var t=l.find(this.parent.schema._inner.children,["key",this.name]);return t?t.schema:null}return this._getControlSchema()},enumerable:!0,configurable:!0}),t.prototype._mergeSchema=function(){},Object.defineProperty(t.prototype,"path",{get:function(){return this.parent?f(this.parent.path,[this.name]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){var t;return this.parent&&this.parent.options&&(t=u({},this.parent.options)),u({},t,this._initialOptions)||null},set:function(t){this._options=u({},this._options,t),this.updateValueAndValidity({emitEvent:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.status!==A},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.status===A},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.status===P},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.status===V},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.status===S},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),t.prototype.markAsTouched=function(){this.touched=!0,this.updateValueAndValidity({onlySelf:!0})},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0},t.prototype.setOptions=function(t,e){void 0===e&&(e={}),this._initialOptions=t,this._updateControlsOptions(!1!==e.emitEvent)},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.setParent=function(t){this._parent=t},t.prototype.setRoot=function(t){this._root=t},t.prototype.updateOptions=function(t,e){void 0===e&&(e={}),this._initialOptions=u({},this._initialOptions,t),this._updateControlsOptions(!1!==e.emitEvent)},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runJoiValidation(),this.status=this._calculateStatus(),this.status!==P&&this.status!==S||this.runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?A:this.errors?V:this._anyControlsHaveStatus(V)?V:this._anyControlsHaveStatus(S)?S:P},t.prototype._runJoiValidation=function(){var t,e;if(this.schema){var n="object"!==this.schema._type?((t={})[this.name]=this.value,t):this.value,o="object"!==this.schema._type?((e={})[this.name]=this.schema,e):this.schema,r=i.validate(n,o,{abortEarly:!1,stripUnknown:!0});return r.error?r.error.details:null}return null},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?A:P},t.prototype._coerceToJoiSchema=function(){this.schema=this.options.schema},t.prototype._updateValue=function(){},t.prototype._initObservables=function(){this.valueChanges=new s.EventEmitter,this.statusChanges=new s.EventEmitter},t.prototype._initValidators=function(){var e=this;this.runAsyncValidator=l.debounce(function(t){if(e.asyncValidator){e.status=S;e.asyncValidator(e)}},500)},t.prototype._updateControlsOptions=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status)},t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t}(),P="VALID",V="INVALID",S="PENDING",A="DISABLED",T=function(n){function t(t){var e=n.call(this,t,t.options)||this;return e._getControlSchema=function(){if(e.state.schema)return e.state.schema},e._setAsyncValidators=function(t){},e._applyControlState=function(){e.value=null;var t=e.state.props;t&&(e.value=t.value)},e._setAsyncValidators(t.asyncValidator),e._initObservables(),e._initValidators(),e._applyControlState(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e}return p(t,n),t.prototype.setValue=function(t,e){void 0===e&&(e={}),this.value=t,this.markAsDirty(),this.updateValueAndValidity(e),l.has(this.options,["submitOnChange"])&&this.root.submit(!0)},t.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this.markAsPristine(e),this.markAsUntouched(e),this._applyControlState(),this.updateValueAndValidity(e),l.has(this.options,["submitOnChange"])&&this.root.submit(!0)},t.prototype.clear=function(t){void 0===t&&(t={}),this.markAsPristine(t),this.markAsUntouched(t),this.value=null,this.updateValueAndValidity(t),l.has(this.options,["submitOnChange"])&&this.root.submit(!0)},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype._updateValue=function(){},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype._anyControlsHaveStatus=function(t){return!1},t}(E),j=function(o){function n(t,e){var n=o.call(this,null,e)||this;return n.submitted=!1,n._getControlSchema=function(){if(n.options.schema)return n.options.schema},n._applyFormState=function(){n.parent||n.root||n.setRoot(n)},n._applyFormState(),n._setUpControls(t),n._coerceToJoiSchema(),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n}return p(n,o),n.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(e.setParent(this),this.controls[t]=e)},n.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity()},n.prototype.removeControl=function(t){this.controls=l.omit(this.controls,[t]),this.updateValueAndValidity()},n.prototype.setControl=function(t,e){this.controls=l.omit(this.controls,[t]),e&&this.registerControl(t,e),this.updateValueAndValidity()},n.prototype.setValue=function(t,n){var o=this;void 0===n&&(n={}),l.forOwn(t,function(t,e){o._throwIfControlMissing(e),o.controls[e].setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)},n.prototype.reset=function(n,o){void 0===n&&(n={}),void 0===o&&(o={}),l.forOwn(this.controls,function(t,e){t.reset(n[e],{onlySelf:!0,emitEvent:o.emitEvent})}),this.submitted=!1,this.updateValueAndValidity(o),l.has(this.options,["submitOnChange"])&&this.submit(!0)},n.prototype.clear=function(n){void 0===n&&(n={}),l.forOwn(this.controls,function(t,e){t.clear({onlySelf:!0,emitEvent:n.emitEvent})}),this.submitted=!1,this.updateValueAndValidity(n),l.has(this.options,["submitOnChange"])&&this.submit(!0)},n.prototype.get=function(t){return t&&l.get(this.controls,t)||null},n.prototype.submit=function(t){void 0===t&&(t=!1),this.root===this&&(this.submitted=!0,this.updateValueAndValidity(),this.updateChildValidity(),this.ngSubmit.emit({value:this.value,instant:t}))},n.prototype._coerceToJoiSchema=function(){},n.prototype.updateChildValidity=function(){l.forOwn(this.controls,function(t,e){t instanceof T&&t.updateValueAndValidity(),t instanceof n&&t.updateChildValidity()})},n.prototype._initObservables=function(){this.valueChanges=new s.EventEmitter,this.statusChanges=new s.EventEmitter,this.ngSubmit=new s.EventEmitter},n.prototype._updateValue=function(){this.value=this._reduceValue()},n.prototype._reduceValue=function(){var n=this,o={};return l.forOwn(this.controls,function(t,e){n._isNotExcluded(t)&&(o[e]=t.value)}),o},n.prototype._setUpControls=function(t){var n=this;this.controls={},l.forOwn(t,function(t,e){t.setParent(n),t.setRoot(n.root),t.name=e,n.controls[e]=t})},n.prototype._throwIfControlMissing=function(t){if(!l.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},n.prototype._allControlsDisabled=function(){return l.every(l.values(this.controls),function(t){return t.disabled})},n.prototype._anyControlsHaveStatus=function(t){return!!l.find(l.values(this.controls),["status",t])},n}(E),F=function(o){function t(t,e){var n=o.call(this,null,e)||this;return n._coerceToJoiSchema(),n._setUpControls(t),n._initObservables(),n.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),n}return p(t,o),t.prototype.at=function(t){return this.controls[t]},t.prototype.push=function(t){t.setParent(this),this.controls.push(t),this.updateValueAndValidity()},t.prototype.insert=function(t,e){e.setParent(this),this.controls.splice(t,0,e),this.updateValueAndValidity()},t.prototype.removeAt=function(t){this.controls.splice(t,1),this.updateValueAndValidity()},t.prototype.setControl=function(t,e){this.controls.splice(t,1),e&&(e.setParent(this),this.controls.splice(t,0,e)),this.updateValueAndValidity()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(t,n){var o=this;void 0===n&&(n={}),this._checkAllValuesPresent(t),t.forEach(function(t,e){o._throwIfControlMissing(e),o.at(e).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)},t.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),l.has(this.options,["submitOnChange"])&&this.root.submit(!0)},t.prototype.clear=function(e){void 0===e&&(e={}),l.each(this.controls,function(t){t.clear({onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),l.has(this.options,["submitOnChange"])&&this.root.submit(!0)},t.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof T?t.value:t.getRawValue()})},t.prototype._setUpControls=function(t){var n=this;this.controls=[],l.each(t,function(t,e){t.setParent(n),n.controls.push(t)})},t.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},t.prototype._updateValue=function(){var e=this;this.value=l(this.controls).filter(function(t){return t.enabled||e.disabled}).map(function(t){return t.value}).compact().value()},t.prototype._checkAllValuesPresent=function(t){},t.prototype._allControlsDisabled=function(){return l.every(l.values(this.controls),function(t){return t.disabled})},t.prototype._anyControlsHaveStatus=function(t){return!!l.find(l.values(this.controls),["status",t])},t}(E),R=function(){function t(){var i=this;this.mergeControls=function(t,o){void 0===o&&(o=null);var r=[];return l.isPlainObject(t)&&l.forOwn(t,function(t,e){var n=o?o+"["+e+"]":e;t instanceof T&&r.push(n),t instanceof j&&(r=r.concat(i.mergeControls(t.controls,n))),t instanceof F&&(r=r.concat(i.mergeControls(t.controls,n)))}),l.isArray(t)&&l.each(t,function(t,e){t instanceof T&&r.push(o+"["+e+"]"),t instanceof j&&(r=r.concat(i.mergeControls(t.controls,o+"["+e+"]"))),t instanceof F&&(r=r.concat(i.mergeControls(t.controls,o+"["+e+"]")))}),r},this.convertToFormData=function(t){var n=new FormData;return l.forOwn(t,function(t,e){l.isArray(t)?l.each(t,function(t){return n.append(e+"[]",t,t.name)}):n.append(e,t)}),n},this.convertToMediaType=function(t,e){if(e)switch(e.toLowerCase()){case"json":return JSON.stringify(t);case"form-data":return i.convertToFormData(t);default:return t}return t}}return t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(t){},t.prototype.ngOnDestroy=function(){},t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Injectable}],t}(),N="\n    <io-form [formGroup]=\"myGroup\">\n      <form-control [name]=\" 'firstName' \"></form-control>\n    </io-form>\n\n    In your class:\n\n    constructor( private _fb: IonarFormBuilder){}\n\n    this.myGroup = this._fb.group({\n        firstName: {\n            component: 'input',\n            props: {\n                value: 'YourName'\n            },\n            validators: {\n                required: true\n            }\n        }\n    });",G='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',M='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',H='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',z=function(){function t(){}return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+N)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+G+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+H)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+N)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+G)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+M)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t.ngModelWarning=function(t){console.warn("\n    It looks like you're using ngModel on the same form field as "+t+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===t?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},t}(),K=function(t){return t instanceof T},L=function(t){return t instanceof j},$=function(t){return t instanceof F},B={provide:C,useExisting:s.forwardRef(function(){return U})},U=function(r){function t(t,e,n){var o=r.call(this,n)||this;return o._formSvs=t,o._elRef=e,o.form=null,o.submit=new s.EventEmitter,o.isFormControl=K,o.isFormGroup=L,o.isFormArray=$,o}return p(t,r),t.prototype.ngOnInit=function(){r.prototype.ngOnInit.call(this),this._checkFormPresent()},t.prototype.ngOnChanges=function(t){var e=this;r.prototype.ngOnChanges.call(this,t),this._checkFormPresent(),!t.form.previousValue&&t.form.currentValue&&this.form.ngSubmit.pipe(n.untilDestroyed(this),o.distinctUntilChanged()).subscribe(function(t){(e.form.valid||t.instant)&&e.submit.emit(e._formSvs.convertToMediaType(t.value,e.mediaType))})},t.prototype.ngAfterViewInit=function(){r.prototype.ngAfterViewInit.call(this),this.default_template=a.isEmptyTemplate(this._elRef),this.cd.detectChanges()},t.prototype.ngOnDestroy=function(){},Object.defineProperty(t.prototype,"root",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype._checkFormPresent=function(){this.form||z.missingFormException()},t.decorators=[{type:s.Component,args:[{selector:"io-form",template:'\n      <ng-container>\n\n          <ng-container *ngIf="!default_template">\n              <ng-content></ng-content>\n          </ng-container>\n\n\n          <ng-container *ngIf="default_template">\n              <ng-container\n                      *ngFor="let item of form.controls | keyvalue"\n                      [ngTemplateOutlet]="controlTemplate"\n                      [ngTemplateOutletContext]="{$implicit: item, parent: this}"\n              ></ng-container>\n          </ng-container>\n\n          <ng-template #controlTemplate let-data let-parent="parent">\n              <ng-container *ngIf="isFormControl(data.value)">\n                  <form-control [parent]="parent" [name]="data.key"></form-control>\n              </ng-container>\n\n              <ng-container *ngIf="isFormArray(data.value)">\n                  <form-array\n                          [name]="data.key"\n                          [parent]="parent"\n                  >\n\n                  </form-array>\n              </ng-container>\n\n              <ng-container *ngIf="isFormGroup(data.value)">\n                  <form-group\n                          [name]="data.key"\n                          [parent]="parent"\n                  >\n                  </form-group>\n              </ng-container>\n          </ng-template>\n\n      </ng-container>\n  ',changeDetection:s.ChangeDetectionStrategy.OnPush,providers:[R,B],styles:["\n\n  "]}]}],t.ctorParameters=function(){return[{type:R},{type:s.ElementRef},{type:s.ChangeDetectorRef}]},t.propDecorators={form:[{type:s.Input,args:["formGroup"]}],mediaType:[{type:s.Input}],submit:[{type:s.Output}],_contentVcRef:[{type:s.ViewChild,args:["contentVc",{read:s.ViewContainerRef}]}],controlTemplate:[{type:s.ViewChild,args:["controlTemplate"]}],ioTemplateDirList:[{type:s.ContentChildren,args:[a.IonarTemplateDirective]}]},t}(C),q={provide:C,useExisting:s.forwardRef(function(){return J})},J=function(r){function t(t,e,n){var o=r.call(this,n)||this;return o._elRef=e,o.parent=t,o}return p(t,r),Object.defineProperty(t.prototype,"controlTemplate",{get:function(){return this.parent.controlTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attribute",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.root.get(this.path)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){r.prototype.ngAfterViewInit.call(this),this.isDefaultTemplate=a.isEmptyTemplate(this._elRef),this.cd.detectChanges()},t.decorators=[{type:s.Component,args:[{selector:"form-array",exportAs:"form-array",template:'\n      <ng-container *ngIf="isDefaultTemplate">\n          <ng-container\n                  *ngFor="let item of control | keyvalue"\n                  [ngTemplateOutlet]="controlTemplate"\n                  [ngTemplateOutletContext]="{$implicit: item, parent: this}"\n          ></ng-container>\n      </ng-container>\n      <ng-container *ngIf="!isDefaultTemplate">\n          <ng-content></ng-content>\n      </ng-container>\n  ',providers:[q],changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n\n  "]}]}],t.ctorParameters=function(){return[{type:C,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]},{type:s.ElementRef},{type:s.ChangeDetectorRef}]},t.propDecorators={attribute:[{type:s.HostBinding,args:["attr.id"]}],_controlContainers:[{type:s.ContentChildren,args:[C]}]},t}(C),Y={provide:C,useExisting:s.forwardRef(function(){return W})},W=function(i){function t(t,e,n,o){var r=i.call(this,o)||this;return r._vcRef=e,r._elRef=n,r.parent=t,r}return p(t,i),Object.defineProperty(t.prototype,"controlTemplate",{get:function(){return this.parent.controlTemplate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attribute",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.root.get(this.path)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){i.prototype.ngOnInit.call(this)},t.prototype.ngAfterViewInit=function(){i.prototype.ngAfterViewInit.call(this),this.isDefaultTemplate=a.isEmptyTemplate(this._elRef),this.cd.detectChanges()},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:s.Component,args:[{selector:"form-group",exportAs:"form-group",template:'\n      <ng-container *ngIf="isDefaultTemplate">\n          <ng-container\n                  *ngFor="let item of control | keyvalue"\n                  [ngTemplateOutlet]="controlTemplate"\n                  [ngTemplateOutletContext]="{$implicit: item, parent: this}"\n          ></ng-container>\n      </ng-container>\n      <ng-container *ngIf="!isDefaultTemplate">\n          <ng-content></ng-content>\n      </ng-container>\n  ',providers:[Y],changeDetection:s.ChangeDetectionStrategy.OnPush,styles:["\n\n  "]}]}],t.ctorParameters=function(){return[{type:C,decorators:[{type:s.Optional},{type:s.Host},{type:s.SkipSelf}]},{type:s.ViewContainerRef},{type:s.ElementRef},{type:s.ChangeDetectorRef}]},t.propDecorators={attribute:[{type:s.HostBinding,args:["attr.id"]}],_controlContainerList:[{type:s.ContentChildren,args:[C]}],_ioControlList:[{type:s.ContentChildren,args:[_]}]},t}(C),Q=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[U,x,w,k,D,J,W,v,I],imports:[e.CommonModule],exports:[U,x,w,J,W,k,D,I]}]}],t}(),X=function(){function t(t){var n=this;this.eRef=t,this.show_menu=!1,this.selected_option=null,this.options=null,this.value=null,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.invalid=!1,this.onToggleMenu=function(){n.show_menu=!n.show_menu},this.onChange=function(e){n.options=l.map(n.options,function(t){return t.selected=l.isEqual(t,e),n.selected_option=t}),n.show_menu=!1,n.change.emit(n.selected_option.value)}}return t.prototype.ngOnInit=function(){this.value&&(this.selected_option=l.find(this.options,["value",this.value.toString()]))},t.prototype.clickout=function(t){this.eRef.nativeElement.contains(t.target)||(this.show_menu=!1)},t.decorators=[{type:s.Component,args:[{selector:"io-select",template:'<control\n        [label]="selected_option?.label"\n        [show_menu]="show_menu"\n        (click)="onToggleMenu()"\n></control>\n\n<menu\n        [options]="options"\n        (onSelectOption)="onChange($event)"\n        *ngIf="show_menu"\n></menu>',styles:[":host{display:flex;position:relative;flex:1}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={options:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],invalid:[{type:s.Input}],clickout:[{type:s.HostListener,args:["document:click",["$event"]]}]},t}(),Z=function(){function t(t){this.eRef=t,this.show_menu=!1,this.label=null,this.tabindex=0}return t.prototype.ngOnInit=function(){this.eRef.nativeElement.focus()},t.decorators=[{type:s.Component,args:[{selector:"control",template:'<div id="value">\n    <span *ngIf="!label">Please select</span>\n    <span *ngIf="label">{{label}}</span>\n</div>\n\n<div id="icon">\n    <i class="fas fa-angle-right"></i>\n</div>\n',styles:[":host{background-color:#fff;border-radius:5px;box-sizing:border-box;border:1px solid #d9d9d9;cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:1.5rem;outline:0;padding:0 1rem;transition:.3s cubic-bezier(.645,.045,.355,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;height:40px;z-index:1}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff}:host .fa-angle-right{font-size:2rem}"]}]}],t.ctorParameters=function(){return[{type:s.ElementRef}]},t.propDecorators={show_menu:[{type:s.Input}],label:[{type:s.Input}],tabindex:[{type:s.HostBinding}]},t}(),tt=function(){function t(){this.options=[],this.onSelectOption=new s.EventEmitter}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"menu",template:'\n      <ng-container *ngFor="let option of options">\n          <select-option\n                  [data]="option"\n                  (click)="this.onSelectOption.emit(option)"\n          ></select-option>\n      </ng-container>\n  ',styles:["\n      :host {\n          background-color: white;\n          border-radius: 5px;\n          box-sizing: border-box;\n          border: 1px solid rgb(196, 202, 212);\n          overflow-y: scroll;\n          padding: 0 10px;\n          position: absolute;\n          top: 100%;\n          z-index: 9999;\n          width: 100%;\n          max-height: 20rem;\n      }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={options:[{type:s.Input}],onSelectOption:[{type:s.Output}]},t}(),et=function(){function t(){this.data=null,this.selected=!1,this.disabled=!1}return t.prototype.ngOnInit=function(){this.selected=this.data.selected,this.disabled=this.data.disabled},t.prototype.onClick=function(t){},t.decorators=[{type:s.Component,args:[{selector:"select-option",template:"\n      <p>\n          {{data.label}}\n      </p>",styles:[":host{color:rgba(0,0,0,.65);cursor:pointer;display:flex;justify-content:flex-start;font-weight:400;line-height:22px;overflow:hidden;padding:5px 12px;position:relative;text-overflow:ellipsis;transition:background .3s;white-space:nowrap;width:100%}:host:hover{background-color:#e6f7ff}:host.selected{background-color:#fafafa;font-weight:600;color:rgba(0,0,0,.65)}:host.disabled{color:rgba(0,0,0,.25);cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host.disabled:hover{background-color:transparent}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={data:[{type:s.Input}],selected:[{type:s.HostBinding,args:["class.selected"]}],disabled:[{type:s.HostBinding,args:["class.disabled"]}],onClick:[{type:s.HostListener,args:["click",["$event.target"]]}]},t}(),nt=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[X,Z,tt,et],imports:[e.CommonModule],exports:[X],entryComponents:[X]}]}],t}(),ot=function(){function t(){this.change=new s.EventEmitter,this.multiple=!1,this.title=""}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){},t.decorators=[{type:s.Component,args:[{selector:"click",template:'<ng-container *ngTemplateOutlet="template"></ng-container>\n<ng-container *ngIf="title">\n    <p>{{title}}</p>\n</ng-container>\n\n<input\n        type="file"\n        [multiple]="multiple"\n        (change)="$event.stopPropagation();change.emit($event.target.files)"\n>\n',styles:[":host{background-color:#fff;border:1px solid #d9d9d9;border-radius:.4rem;color:rgba(0,0,0,.65);cursor:pointer;display:flex;align-items:center;justify-content:center;outline:0;position:relative;transition:.3s cubic-bezier(.645,.045,.355,1);width:100%;height:4rem;max-width:20rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff;color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid:focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}input{display:flex;outline:0;opacity:0;position:absolute;width:100%;height:100%;z-index:1}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={change:[{type:s.Output}],template:[{type:s.Input}],multiple:[{type:s.Input}],title:[{type:s.Input}]},t}(),rt=function(){function t(){var e=this;this.change=new s.EventEmitter,this.multiple=!1,this.drop_hover=!1,this.onDrop=function(t){event.preventDefault(),e.change.emit(t.dataTransfer.files),e.drop_hover=!1},this.onDragOver=function(t){event.preventDefault(),e.drop_hover=!0},this.onDragLeave=function(t){event.preventDefault(),e.drop_hover=!1}}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"drop",template:'<ng-container *ngTemplateOutlet="template"></ng-container>\r\n\r\n\r\n<input\r\n        type="file"\r\n        [multiple]="multiple"\r\n        (change)="$event.stopPropagation();change.emit($event.target.files)"\r\n>',styles:[":host{background-color:#fff;border:1px dashed #d9d9d9;border-radius:.4rem;color:rgba(0,0,0,.65);display:flex;align-items:center;justify-content:center;outline:0;position:relative;transition:.3s;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host.drop_hover{border:2px dashed #40a9ff;color:#40a9ff}:host.drop_hover p{color:#40a9ff}:host p{transition:.3s cubic-bezier(.645,.045,.355,1)}:host:focus{border-color:#40a9ff;outline:0;box-shadow:0 0 0 2px rgba(24,144,255,.2);border-right-width:1px!important}:host:hover{border-color:#40a9ff;color:#40a9ff}:host:hover p{color:#40a9ff}:host.invalid{border-color:#f5222d}:host.invalid:focus{border-color:#ff4d4f;outline:0;box-shadow:0 0 0 2px rgba(245,34,45,.2)}input{border:1px solid red;display:flex;outline:0;opacity:0;position:absolute;width:100%;height:100%;z-index:1}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={change:[{type:s.Output}],multiple:[{type:s.Input}],template:[{type:s.Input}],drop_hover:[{type:s.HostBinding,args:["class.drop_hover"]}],onDrop:[{type:s.HostListener,args:["drop",["$event"]]}],onDragOver:[{type:s.HostListener,args:["dragover",["$event"]]}],onDragLeave:[{type:s.HostListener,args:["dragleave",["$event"]]}]},t}(),it=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[y,ot,rt],imports:[e.CommonModule],exports:[y],entryComponents:[y]}]}],t}(),at=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[m],imports:[e.CommonModule,a.IonarUI],exports:[m],entryComponents:[m]}]}],t}(),st=function(){function t(){var t=this;this.title="",this.value=!1,this.change=new s.EventEmitter,this.blur=new s.EventEmitter,this.invalid=!1,this.onClick=function(){t.value=!t.value,t.change.emit(t.value)}}return t.prototype.ngOnInit=function(){},t.decorators=[{type:s.Component,args:[{selector:"io-checkbox",template:'<div class="checkbox" [class.active]="value">\n    <i class="fas fa-check icon"></i>\n</div>\n<p class="label">{{label}}</p>\n\n\n',styles:[":host{display:flex;align-items:center}:host .checkbox{background-color:#fff;border-radius:.3em;box-sizing:border-box;border:1px solid #d9d9d9;display:flex;align-items:center;justify-content:center;margin-right:.3em;padding:0;touch-action:manipulation;transition:.3s;width:1.8em;height:1.8em}:host .checkbox:hover{border-color:#1890ff}:host .checkbox.active{background-color:#1890ff;border-color:#1890ff}:host .icon{color:#fff}"]}]}],t.ctorParameters=function(){return[]},t.propDecorators={label:[{type:s.Input}],title:[{type:s.Input}],value:[{type:s.Input}],change:[{type:s.Output}],blur:[{type:s.Output}],invalid:[{type:s.Input}],onClick:[{type:s.HostListener,args:["click"]}]},t}(),lt=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[st],exports:[st],entryComponents:[st]}]}],t}(),ct=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[g],exports:[g],entryComponents:[g]}]}],t}(),pt=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[b],imports:[e.CommonModule],exports:[b],entryComponents:[b]}]}],t}(),ut=function(){function t(t){var e=this;this.cd=t,this.name="",this.value=null,this.change=new s.EventEmitter,this.onChange=function(t){e.selected=t,e.change.emit(t.value),e.cd.detectChanges()}}return t.decorators=[{type:s.Component,args:[{selector:"io-tree",template:'<ng-container *ngFor="let node of options; let i = index">\r\n    <tree-node\r\n            [data]="node"\r\n            [selected]="selected"\r\n            [template]="template"\r\n            (change)="onChange($event)"\r\n    >\r\n        <ng-content></ng-content>\r\n    </tree-node>\r\n</ng-container>\r\n\r\n\r\n',changeDetection:s.ChangeDetectionStrategy.OnPush,styles:[""]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef}]},t.propDecorators={options:[{type:s.Input}],name:[{type:s.Input}],value:[{type:s.Input}],template:[{type:s.Input}],change:[{type:s.Output}]},t}(),dt=function(o){function t(t,e){var n=o.call(this,t,e)||this;return n.change=new s.EventEmitter,n.onChange=function(){n.data.children||(n.setContext({children:n.data.children,label:n.data.label,selected:n.data===n.selected}),n.change.emit(n.data),n.cd.markForCheck())},n}return p(t,o),t.prototype.ngOnInit=function(){o.prototype.ngOnInit.call(this),this.setContext({children:this.data.children,label:this.data.label,selected:this.data===this.selected})},t.prototype.ngOnChanges=function(t){o.prototype.ngOnChanges.call(this,t)},t.decorators=[{type:s.Component,args:[{selector:"tree-node",template:'<ng-container [ioCollapsible]="data.children ? \'\' : null" *ngIf="viewInit">\r\n    <div\r\n            class="node-item"\r\n            collapseToggle\r\n            (click)="onChange()"\r\n    >\r\n        <ng-container [ngTemplateOutlet]="template" [ngTemplateOutletContext]="context"></ng-container>\r\n    </div>\r\n\r\n    <ng-container *ngIf="data?.children">\r\n        <div\r\n                class="node-children"\r\n                *collapseContent\r\n        >\r\n            <ng-container *ngFor="let node of data?.children">\r\n                <tree-node\r\n                        [data]="node"\r\n                        [selected]="selected"\r\n                        [template]="template"\r\n                        (change)="change.emit($event)"></tree-node>\r\n            </ng-container>\r\n        </div>\r\n    </ng-container>\r\n\r\n</ng-container>\r\n\r\n\r\n<ng-template let-context #default_template>\r\n\r\n    <div class="icon" *ngIf="context?.children">\r\n        <i class="fas fa-chevron-right"></i>\r\n    </div>\r\n    <p [class.active]="context?.selected" class="label">{{context?.label}}</p>\r\n</ng-template>\r\n\r\n<ng-template #content_template>\r\n    <ng-content></ng-content>\r\n</ng-template>\r\n',styles:[":host ::ng-deep .node-item{display:flex;align-items:center}:host ::ng-deep .node-item .icon{font-size:1.2rem}:host ::ng-deep .node-item .label{margin-left:2rem}:host ::ng-deep .node-item .label.active{font-weight:700}:host ::ng-deep .node-children{margin-left:2rem}"]}]}],t.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:s.ElementRef}]},t.propDecorators={data:[{type:s.Input}],selected:[{type:s.Input}],template:[{type:s.Input}],change:[{type:s.Output}]},t}(h),ft=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{imports:[a.IonarUI,e.CommonModule],declarations:[ut,dt],exports:[ut]}]}],t}(),ht=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[],imports:[at,lt,it,nt,ct,pt,ft],exports:[at,lt,it,nt,ct,pt,ft]}]}],t}(),mt=function(){function t(){}return t.decorators=[{type:s.NgModule,args:[{declarations:[],imports:[e.CommonModule,Q,ht],exports:[Q,ht]}]}],t}(),gt=function(){function t(){var o=this;this.group=function(t,e){var n=o._reduceControls(t);return new j(n,e)},this.array=function(t,e){var n=o._reduceControls(t);return new F(n,e)}}return t.prototype.control=function(t){return new T(t)},t.prototype._reduceControls=function(t){var n,o=this;return l.isPlainObject(t)?(n={},l.forOwn(t,function(t,e){n[e]=o._createControl(t)})):(n=[],l.each(t,function(t){n.push(o._createControl(t))})),n},t.prototype._createControl=function(t){return t instanceof T||t instanceof j||t instanceof F?t:this.control(t)},t.decorators=[{type:s.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=s.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();t.FormControl=T,t.FormGroup=j,t.FormArray=F,t.AbstractControl=E,t.IonarFormBuilder=gt,t.IonarFormModule=mt,t.k=D,t.f=x,t.j=k,t.m=J,t.l=q,t.h=w,t.g=O,t.o=W,t.n=Y,t.c=U,t.b=B,t.a=Q,t.p=v,t.q=I,t.d=C,t.i=_,t.e=R,t.w=st,t.v=lt,t.t=m,t.s=at,t.bj=b,t.bi=pt,t.bd=Z,t.be=tt,t.bf=et,t.bc=X,t.bb=nt,t.bh=g,t.bg=ct,t.bm=dt,t.bl=ut,t.bk=ft,t.z=ot,t.ba=rt,t.y=y,t.x=it,t.u=h,t.r=ht,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ionar-form.umd.min.js.map