{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@ionar/form/ui/interfaces/IoAbstractUI.ts","ng://@ionar/form/ui/interfaces/IoFormFieldUI.ts","ng://@ionar/form/ui/components/input/input.component.ts","ng://@ionar/form/ui/components/textarea/textarea.component.ts","ng://@ionar/form/ui/components/upload/containers/upload.component.ts","ng://@ionar/form/ui/components/menu/menu.component.ts","ng://@ionar/form/ui/index.ts","ng://@ionar/form/core/models/AbstractControl.ts","ng://@ionar/form/core/models/FormControl.ts","ng://@ionar/form/core/models/FormGroup.ts","ng://@ionar/form/core/directives/dynamic-field.directive.ts","ng://@ionar/form/core/interfaces/ControlContainer.ts","ng://@ionar/form/core/interfaces/IoControl.ts","ng://@ionar/form/core/components/form-control.component.ts","ng://@ionar/form/core/components/control/field.component.ts","ng://@ionar/form/core/directives/submit.directive.ts","ng://@ionar/form/core/components/control/label.component.ts","ng://@ionar/form/core/components/control/feedback.component.ts","ng://@ionar/form/core/models/FormArray.ts","ng://@ionar/form/core/providers/form.service.ts","ng://@ionar/form/core/utils/error_examples.ts","ng://@ionar/form/core/utils/reactive_errors.ts","ng://@ionar/form/core/utils/helpers.ts","ng://@ionar/form/core/core.component.ts","ng://@ionar/form/core/components/form-array.component.ts","ng://@ionar/form/core/components/form-group.component.ts","ng://@ionar/form/core/core.module.ts","ng://@ionar/form/ui/components/select/container/select.component.ts","ng://@ionar/form/ui/components/select/components/control/control.component.ts","ng://@ionar/form/ui/components/select/components/menu/menu.component.ts","ng://@ionar/form/ui/components/select/components/menu/option/option.component.ts","ng://@ionar/form/ui/components/select/select.module.ts","ng://@ionar/form/ui/components/upload/components/upload-zone/click/click.component.ts","ng://@ionar/form/ui/components/upload/components/upload-zone/drop/drop.component.ts","ng://@ionar/form/ui/components/upload/upload.module.ts","ng://@ionar/form/ui/components/input/input.module.ts","ng://@ionar/form/ui/components/checkbox/checkbox.component.ts","ng://@ionar/form/ui/components/checkbox/checkbox.module.ts","ng://@ionar/form/ui/components/textarea/textarea.module.ts","ng://@ionar/form/ui/components/menu/menu.module.ts","ng://@ionar/form/ui/components/tree/containers/tree.component.ts","ng://@ionar/form/ui/components/tree/components/node/node.component.ts","ng://@ionar/form/ui/components/tree/tree.module.ts","ng://@ionar/form/ui/ui.module.ts","ng://@ionar/form/lib/form.module.ts","ng://@ionar/form/core/interfaces/Validator.ts","ng://@ionar/form/core/interfaces/Form.ts","ng://@ionar/form/core/providers/form_builder.service.ts","ng://@ionar/form/index.ts","ng://@ionar/form/ionar-form.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__assign","assign","t","s","i","n","arguments","length","prototype","call","apply","this","__values","o","m","Symbol","iterator","next","value","done","__read","r","e","ar","push","error","__await","v","__extends","__","constructor","create","__rest","indexOf","getOwnPropertySymbols","__decorate","decorators","target","key","desc","c","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","result","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","op","TypeError","pop","__exportStar","exports","__spread","concat","__asyncGenerator","asyncIterator","q","a","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","k","default","__importDefault","ComponentContext","IoAbstractUI","cd","_elRef","_this","template","viewInit","setContext","properties","events","_contextData","tslib_es6","markForCheck","parseTemplate","_contentTemplate","_defaultTemplate","detectChanges","defaultContent","$implicit","ngOnInit","ngOnChanges","changes","ngOnDestroy","core_1","args","read","IoFormFieldUI","_super","invalid","disabled","focused","readonly","change","blur","enter","tslib_1","IoAbstractUI_1","lodash_1","lodash","InputComponent","type","name","placeholder","range","onFocus","onBlur","emit","onChange","debounce","stopPropagation","min","parseInt","max","onKeyPress","keyCode","onKeyDown","onNumberKeyDown","onPhoneKeyDown","onPaste","onNumberPaste","onPhonePaste","ctrlKey","metaKey","shiftKey","preventDefault","test","clipboardData","getData","input","focus","keydown","paste","keypress","console","log","IoFormFieldUI_1","selector","changeDetection","OnPush","TextareaComponent","el","UploadComponent","file_list","multiple","title","onFileChanged","map","MenuComponent","options","onSelectOption","option","input_component","textarea_component","upload_component","menu_component","AbstractControl","state","_options","touched","pristine","_getControlSchema","_updateChildError","errors","_storeInitialOptions","_initialOptions","_isNotExcluded","get","has","runAsyncValidator","parent","schema","extractChild","find","children","path","_name","_parent","_root","parentConfig","newConfig","updateValueAndValidity","emitEvent","status","DISABLED","VALID","INVALID","PENDING","markAsTouched","onlySelf","markAsUntouched","opts","markAsDirty","markAsPristine","setOptions","_updateControlsOptions","setErrors","_updateControlsErrors","setParent","setRoot","root","updateOptions","_setInitialStatus","_updateValue","enabled","_cancelExistingSubscription","_runJoiValidation","_calculateStatus","_allControlsDisabled","_anyControlsHaveStatus","_asyncValidationSubscription","unsubscribe","_initObservables","valueChanges","statusChanges","_initValidators","asyncValidator","FormControl","_setAsyncValidators","asyncValidators","_applyControlState","props","setValue","submit","reset","clear","AbstractControl_1","joi_1","joi","FormGroup","submitted","each","err","control","controls","FormControl_1","object","keys","_reduceSchema","_applyFormState","_setUpControls","registerControl","addControl","removeControl","omit","setControl","formValue","forOwn","_throwIfControlMissing","instant","updateChildValidity","ngSubmit","_reduceValue","form_value","reduce","validateObject","_a","validateSchema","_b","validate","abortEarly","stripUnknown","controlConfig","Error","every","values","DynamicFieldDirective","_resolver","_vcRef","components","ui_1","textarea","upload","menu","createComponent","component","_control","factory","resolveComponentFactory","_compRef","_parseContext","_updateContext","instance","componentType","_events","pipe","utility_1","subscribe","event","context","dirty","_template","undefined","data","destroy","ControlContainer","ngAfterViewInit","IoControl","ControlContainer_1","controlNameBinding","provide","IoControl_1","useExisting","FormControlComponent","_ioTemplateDir","ioTemplateDirList","toArray","ngAfterViewChecked","providers","FieldComponent","onChanged","onTouched","onEntered","controlTemplateDir","templateRef","form_control_component_1","SubmitDirective","onClick","_formGr","LabelComponent","startCase","detach","FeedbackComponent","FormArray","at","index","insert","splice","removeAt","_checkAllValuesPresent","forEach","newValue","getRawValue","filter","compact","FormService","mergeControls","parent_name","isPlainObject","control_name","FormGroup_1","FormArray_1","isArray","convertToFormData","form","FormData","file","append","convertToMediaType","media_type","toLowerCase","JSON","stringify","FormErrorExamples","formControlName","formGroupName","formArrayName","ngModelGroup","ngModelWithFormGroup","ReactiveErrors","controlParentException","error_examples_1","ngModelGroupException","missingFormException","groupParentException","arrayParentException","disabledAttrWarning","warn","ngModelWarning","directiveName","isFormControl","isFormGroup","isFormArray","formProvider","FormComponent","_formSvs","helpers_1","_checkFormPresent","previousValue","currentValue","operators_1","valid","mediaType","default_template","reactive_errors_1","form_service_1","formArrayProvider","FormArrayComponent","controlTemplate","isDefaultTemplate","exportAs","formGroupProvider","FormGroupComponent","CoreModule","declarations","core_component_1","field_component_1","label_component_1","feedback_component_1","form_array_component_1","form_group_component_1","dynamic_field_directive_1","submit_directive_1","imports","common_1","SelectComponent","eRef","show_menu","selected_option","onToggleMenu","item","selected","isEqual","toString","clickout","nativeElement","contains","ControlComponent","tabindex","OptionComponent","btn","SelectModule","select_component_1","control_component_1","menu_component_1","option_component_1","entryComponents","ClickComponent","DropComponent","drop_hover","onDrop","$event","dataTransfer","files","onDragOver","onDragLeave","UploadModule","upload_component_1","click_component_1","drop_component_1","InputModule","input_component_1","CheckboxComponent","CheckboxModule","checkbox_component_1","TextareaModule","textarea_component_1","MenuModule","TreeComponent","node","NodeComponent","TreeModule","tree_component_1","node_component_1","FormUiModule","input_module_1","checkbox_module_1","upload_module_1","select_module_1","textarea_module_1","menu_module_1","tree_module_1","IonarFormModule","core_module_1","ui_module_1","JoiError","AsyncValidatorFn","FormGroupState","FormControlState","ControlProperties","AbstractControlOptions","IonarFormBuilder","group","_reduceControls","array","controlsConfig","_createControl","providedIn","form_builder_service","ɵk","feedback_component","ɵf","field_component","ɵj","label_component","ɵm","formArray_component","ɵl","ɵh","formControl_component","ɵg","ɵo","formGroup_component","ɵn","ɵc","core_component","ɵb","ɵa","core_module","ɵp","dynamicField_directive","ɵq","submit_directive","ɵd","ɵi","ɵe","form_service","ɵx","checkbox_component","ɵw","checkbox_module","ɵt","ɵs","input_module","ɵbk","ɵbj","menu_module","ɵbe","control_component","ɵbf","menu_component$2","ɵbg","option_component","ɵbd","select_component","ɵbc","select_module","ɵbi","ɵbh","textarea_module","ɵbn","node_component","ɵbm","tree_component","ɵbl","tree_module","ɵba","click_component","ɵbb","drop_component","ɵz","ɵy","upload_module","ɵv","ɵu","ɵr","ui_module"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {\r\n  ChangeDetectorRef, ContentChild, ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  TemplateRef,\r\n  ViewChild, ViewContainerRef\r\n} from '@angular/core';\r\n\r\nexport interface ComponentContext {\r\n  defaultContent: TemplateRef<any>,\r\n  $implicit: Object\r\n}\r\n\r\nexport abstract class IoAbstractUI implements OnInit, OnChanges, OnDestroy {\r\n\r\n\r\n  @Input() template: TemplateRef<any> = null;\r\n\r\n  viewInit: Boolean = false;\r\n  private _contextData: Object;\r\n\r\n  get context(): ComponentContext {\r\n    return {\r\n      defaultContent: this._defaultTemplate,\r\n      $implicit: this._contextData\r\n    };\r\n  }\r\n\r\n  @ViewChild('container', { read: ViewContainerRef }) protected _container: ViewContainerRef;\r\n  @ViewChild('default_template', { read: TemplateRef }) protected _defaultTemplate: TemplateRef<any>;\r\n  @ViewChild('content_template', { read: TemplateRef }) protected _contentTemplate: TemplateRef<any>;\r\n\r\n\r\n  constructor(\r\n    protected cd: ChangeDetectorRef,\r\n    protected _elRef: ElementRef\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.parseTemplate();\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n\r\n  setContext = (properties: { [key: string]: any }, events?: { [key: string]: Function }) => {\r\n    this._contextData = {\r\n      ...this._contextData,\r\n      ...properties,\r\n      ...events\r\n    };\r\n    this.cd.markForCheck();\r\n  };\r\n\r\n\r\n  parseTemplate = () => {\r\n\r\n    if (!this.template) {\r\n      this.template = this._contentTemplate;\r\n\r\n      // if (this._defaultContentComp) {\r\n      //\r\n      //   this._defaultContentComp.template = {\r\n      //     template: this._defaultTemplate,\r\n      //     context: this.context\r\n      //   };\r\n      // }\r\n\r\n      // if (isEmptyTemplate(this._elRef) || !this._contentTemplate) {\r\n\r\n      this.template = this._defaultTemplate;\r\n      // this.cd.detectChanges();\r\n      // }\r\n\r\n      this.viewInit = true;\r\n      this.cd.detectChanges();\r\n    }\r\n\r\n    this.viewInit = true;\r\n    this.cd.detectChanges();\r\n  };\r\n\r\n}\r\n","import {\r\n  EventEmitter, HostBinding,\r\n  Input, Output\r\n} from '@angular/core';\r\nimport { IoAbstractUI } from './IoAbstractUI';\r\n\r\n\r\nexport abstract class IoFormFieldUI extends IoAbstractUI {\r\n\r\n  @Input() invalid: Boolean = false;\r\n  @Input() disabled: Boolean = false;\r\n  @Input() focused: Boolean = false;\r\n  @Input() readonly: Boolean = false;\r\n\r\n  @Output() change = new EventEmitter();\r\n  @Output() blur = new EventEmitter();\r\n  @Output() enter = new EventEmitter();\r\n\r\n  @HostBinding('class.focus')\r\n  get _isFocused() {\r\n    return this.focused;\r\n  }\r\n\r\n  @HostBinding('class.invalid')\r\n  get _isInvalid() {\r\n    return this.invalid;\r\n  }\r\n\r\n  @HostBinding('class.disabled')\r\n  get _isDisabled() {\r\n    return this.disabled;\r\n  }\r\n\r\n  @HostBinding('class.readonly')\r\n  get _isReadonly() {\r\n    return this.readonly;\r\n  }\r\n\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component, ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit, SimpleChanges\r\n} from '@angular/core';\r\nimport _ from 'lodash';\r\nimport { IoFormFieldUI } from '../../interfaces/IoFormFieldUI';\r\n\r\n\r\n@Component({\r\n  selector: 'io-input',\r\n  templateUrl: `./input.component.html`,\r\n  styleUrls: ['./input.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\nexport class InputComponent extends IoFormFieldUI implements OnInit, OnChanges {\r\n\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n\r\n  @Input() type = '';\r\n  @Input() name = '';\r\n  @Input() placeholder = '';\r\n  @Input() value: any = '';\r\n\r\n  @Input() range = [];\r\n\r\n\r\n  constructor(\r\n    cd: ChangeDetectorRef,\r\n    _elRef: ElementRef\r\n  ) {\r\n    super(cd, _elRef);\r\n  }\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.setContext(\r\n      {\r\n        type: this.type,\r\n        name: this.name,\r\n        value: this.value,\r\n        placeholder: this.placeholder\r\n      },\r\n      {\r\n        input: this.onChange,\r\n        blur: this.onBlur,\r\n        focus: this.onFocus,\r\n        keydown: this.onKeyDown,\r\n        paste: this.onPaste,\r\n        keypress: this.onKeyPress\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n    console.log(IoFormFieldUI);\r\n  }\r\n\r\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\r\n\r\n  onFocus = () => {\r\n    // this.focused = true;\r\n  };\r\n\r\n  onBlur = () => {\r\n    this.blur.emit();\r\n    this.focused = false;\r\n    this.cd.markForCheck();\r\n  };\r\n\r\n  onChange = _.debounce(e => {\r\n    e.stopPropagation();\r\n\r\n    let value = e.target.value;\r\n    const min = parseInt(this.range[0], 10);\r\n    const max = parseInt(this.range[1], 10);\r\n    if (this.range && this.type === 'number' && !(min <= value && value <= max)) {\r\n      value = e.target.value = this.range[1];\r\n    }\r\n\r\n    this.change.emit(value);\r\n\r\n  }, 500);\r\n\r\n  //  Keyboard & Clipboard Event  //\r\n\r\n  onKeyPress = (e: KeyboardEvent) => {\r\n    if (e.keyCode === 13) this.enter.emit();\r\n  };\r\n\r\n  onKeyDown = (e: KeyboardEvent) => {\r\n    return (this.type === 'number')\r\n      ? this.onNumberKeyDown(e)\r\n      : (this.type === 'phone')\r\n        ? this.onPhoneKeyDown(e)\r\n        : null;\r\n  };\r\n\r\n  onPaste = (e: ClipboardEvent) => {\r\n    return (this.type === 'number')\r\n      ? this.onNumberPaste(e)\r\n      : (this.type === 'phone')\r\n        ? this.onPhonePaste(e)\r\n        : null;\r\n  };\r\n\r\n\r\n  // Ensure that it is a number from [0-9] no decimal_point\r\n\r\n  onPhoneKeyDown = (e: KeyboardEvent) => {\r\n    // Allow\r\n    if (\r\n      e.keyCode === 8 ||      // backspace\r\n      e.keyCode === 9 ||          // Tab\r\n      e.keyCode === 13 ||       // enter\r\n      (e.keyCode === 65 && (e.ctrlKey || e.metaKey)) ||      //  Ctrl + A\r\n      (e.keyCode === 67 && (e.ctrlKey || e.metaKey)) ||       //  Ctrl + C\r\n      (e.keyCode === 88 && (e.ctrlKey || e.metaKey)) ||        //  Ctrl + X\r\n      (e.keyCode === 86 && (e.ctrlKey || e.metaKey)) ||        //  Ctrl + V\r\n      (e.keyCode >= 35 && e.keyCode <= 39)                             // home, end, left, right\r\n    ) {\r\n      return;\r\n    }\r\n\r\n\r\n    // Reject if not a number or numpad\r\n    if (\r\n      (e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) &&       // not number\r\n      (e.keyCode < 96 || e.keyCode > 105)                                     // not numpad\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n\r\n  };\r\n\r\n  // Ensure that pasted value is a number or string of number\r\n  onPhonePaste = (e: ClipboardEvent) => {\r\n    if (!/^\\d+$/.test(e.clipboardData.getData('Text'))) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n\r\n  // Ensure that it is a  number: integer || decimal\r\n  onNumberKeyDown = (e: KeyboardEvent) => {\r\n    // Allow\r\n    if (\r\n      e.keyCode === 8 ||      // backspace\r\n      e.keyCode === 9 ||          // Tab\r\n      e.keyCode === 13 ||       // enter\r\n      e.keyCode === 188 ||    // comma(\",\")\r\n      e.keyCode === 110 ||        //   numpad decimal point\r\n      e.keyCode === 190 ||        // period(\".\")\r\n      (e.keyCode === 65 && (e.ctrlKey || e.metaKey)) ||      //  Ctrl + A\r\n      (e.keyCode === 67 && (e.ctrlKey || e.metaKey)) ||       //  Ctrl + C\r\n      (e.keyCode === 88 && (e.ctrlKey || e.metaKey)) ||        //  Ctrl + X\r\n      (e.keyCode === 86 && (e.ctrlKey || e.metaKey)) ||        //  Ctrl + V\r\n      (e.keyCode >= 35 && e.keyCode <= 39)                             // home, end, left, right\r\n    ) {\r\n      return;\r\n    }\r\n\r\n\r\n    // Reject if not a number or numpad\r\n    if (\r\n      (e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) &&       // not number\r\n      (e.keyCode < 96 || e.keyCode > 105)                                     // not numpad\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n\r\n  };\r\n\r\n  // Ensure that pasted value is a string of number: integer || decimal\r\n  onNumberPaste = (e: ClipboardEvent) => {\r\n    if (!/^\\d.+$/.test(e.clipboardData.getData('Text'))) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n\r\n}\r\n","import {\n  ChangeDetectorRef,\n  Component, ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { IoFormFieldUI } from '../../interfaces/IoFormFieldUI';\n\n@Component({\n  selector: 'io-textarea',\n  templateUrl: `./textarea.component.html`,\n  styleUrls: ['./textarea.component.scss']\n})\nexport class TextareaComponent extends IoFormFieldUI {\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\n  @Input() name: string = '';\n  @Input() value: any = '';\n  @Input() placeholder: any = '';\n\n\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\n  constructor(\n    cd: ChangeDetectorRef,\n    el: ElementRef\n  ) {\n    super(cd, el);\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit();\n    this.setContext({\n      name: this.name,\n      value: this.value,\n      placeholder: this.placeholder\n    });\n  }\n\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\n\n}\n","import {\n  AfterViewChecked, ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  TemplateRef, ViewChild\n} from '@angular/core';\nimport _ from 'lodash';\nimport { IoFormFieldUI } from '../../../interfaces/IoFormFieldUI';\n\n@Component({\n  selector: 'io-upload',\n  templateUrl: './upload.component.html',\n  styleUrls: ['./upload.component.scss']\n})\nexport class UploadComponent extends IoFormFieldUI {\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\n  file_list = [];\n  @Output() change = new EventEmitter();\n  @Input() invalid: Boolean = false;\n  @Input() type: string = 'input';\n  @Input() template: TemplateRef<any>;\n  @Input() multiple: Boolean = false;\n  @Input() title: any = '';\n\n\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\n  constructor(\n    cd: ChangeDetectorRef,\n    el: ElementRef\n  ) {\n    super(cd, el);\n  }\n\n\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\n  onFileChanged(file_list) {\n    this.file_list = this.file_list.concat(_.map(file_list));\n\n    this.change.emit(this.multiple ? this.file_list : this.file_list[0]);\n\n  }\n\n};\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'io-menu',\n  template: `\n      <ng-container *ngFor=\"let option of options\">\n          <div\n                  class=\"option\"\n                  [class.active]=\"option.value === value\"\n                  (click)=\"onSelectOption(option)\"\n          >\n              {{option.label}}\n          </div>\n      </ng-container>\n  `,\n  styleUrls: [`./menu.component.scss`]\n})\nexport class MenuComponent implements OnInit, OnChanges {\n  @Input() options: ({ label: any, value: any, disable?: boolean })[] = [];\n  @Input() name = '';\n  @Input() value: any = null;\n  @Output() change = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Output() enter = new EventEmitter();\n  @Input() invalid: Boolean = false;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n  }\n\n  onSelectOption = option => {\n    this.change.emit(option.value);\n    this.blur.emit();\n  };\n\n}\n","export {InputComponent} from './components/input/input.component';\n\nexport {TextareaComponent} from './components/textarea/textarea.component';\n\nexport {UploadComponent} from './components/upload/containers/upload.component';\n\nexport {MenuComponent} from './components/menu/menu.component';","import { Observable } from 'rxjs';\r\nimport { EventEmitter } from '@angular/core';\r\n\r\nimport { AsyncValidatorFn, JoiSchema, JoiError } from '../interfaces/Validator';\r\nimport { FormGroup } from '../models/FormGroup';\r\n\r\n\r\nimport _ from 'lodash';\r\nimport {\r\n  AbstractControlOptions,\r\n  AbstractControlState,\r\n  FormArrayState,\r\n  FormControlState,\r\n  FormGroupState\r\n} from '../interfaces/Form';\r\n\r\nimport { FormArray } from './FormArray';\r\n\r\n/**\r\n * This is the base class for `FormControl`, `FormGroup.ts`, and `FormArray`.\r\n *\r\n * It provides some of the shared behavior that all controls and groups of controls have, like\r\n * running validators, calculating status, and resetting state. It also defines the properties\r\n * that are shared between all sub-classes, like `value`, `valid`, and `dirty`. It shouldn't be\r\n * instantiated directly.\r\n *\r\n *\r\n * @publicApi\r\n */\r\nexport abstract class AbstractControl {\r\n\r\n  /** @internal */\r\n  public readonly pendingValue: any;\r\n\r\n  /**\r\n   * The current value of the control.\r\n   *\r\n   * * For a `FormControl`, the current value.\r\n   * * For a `FormGroup`, the values of enabled controls as an object with a key-value pair for each member of the group.\r\n   * * For a `FormArray`, the values of enabled controls as an array.\r\n   *\r\n   */\r\n  public readonly value: any;\r\n\r\n  /**\r\n   * An object containing any errors generated by failing validation,\r\n   * or null if there are no errors.\r\n   */\r\n  public readonly errors: JoiError[] | null;\r\n\r\n\r\n  /**\r\n   * A Joi object schema\r\n   */\r\n  // public readonly schema: JoiSchema | null;\r\n\r\n  /**\r\n   * True if the control is marked as `touched`.\r\n   *\r\n   * A control is marked `touched` once the user has triggered\r\n   * a `blur` event on it.\r\n   */\r\n  public readonly touched: boolean = false;\r\n\r\n  /**\r\n   * A control is `pristine` if the user has not yet changed the value in the UI.\r\n   *\r\n   * @returns True if the user has not yet changed the value in the UI; compare `dirty`.\r\n   * Programmatic changes to a control's value do not mark it dirty.\r\n   */\r\n  public readonly pristine: boolean = true;\r\n\r\n  /**\r\n   * The validation status of the control. There are four possible\r\n   * validation status values:\r\n   *\r\n   * * **VALID**: This control has passed all validation checks.\r\n   * * **INVALID**: This control has failed at least one validation check.\r\n   * * **PENDING**: This control is in the midst of conducting a validation check.\r\n   * * **DISABLED**: This control is exempt from validation checks.\r\n   *\r\n   * These status values are mutually exclusive, so a control cannot be both valid AND invalid or invalid AND disabled.\r\n   */\r\n  public readonly status: string;\r\n\r\n\r\n  public readonly asyncValidator: AsyncValidatorFn | null;\r\n\r\n  public runAsyncValidator: Function;\r\n\r\n  public _asyncValidationSubscription: any;\r\n\r\n  private _parent: FormGroup | FormArray;\r\n\r\n  private _root: FormGroup;\r\n\r\n  private _name: string;\r\n\r\n  private _path: string[];\r\n\r\n  private _initialOptions: AbstractControlOptions | null;\r\n\r\n  /**\r\n   *\r\n   * @param controls A collection of child controls. The key for each child is the name\r\n   * under which it is registered.\r\n   *\r\n   */\r\n\r\n  public readonly controls: FormGroupState | FormArrayState;\r\n\r\n  /**\r\n   * @description\r\n   * Emits an event when the form submission has been triggered.\r\n   */\r\n\r\n\r\n  /**\r\n   * A multicasting observable that emits an event every time the value of the control changes, in\r\n   * the UI or programmatically.\r\n   */\r\n  public readonly valueChanges: Observable<any>;\r\n\r\n  /**\r\n   * A multicasting observable that emits an event every time the validation `status` of the control\r\n   * recalculates.\r\n   */\r\n  public readonly statusChanges: Observable<any>;\r\n\r\n  /**\r\n   * Initialize the AbstractControl instance.\r\n   *\r\n   * @param options\r\n   *\r\n   */\r\n  constructor(public state: AbstractControlState | null, private _options: AbstractControlOptions | null) {\r\n\r\n    this._storeInitialOptions(_options);\r\n    this.runAsyncValidator = () => {\r\n    };\r\n  }\r\n\r\n  get schema(): JoiSchema | null {\r\n    if (this.parent && this.parent.schema) {\r\n      const extractChild = _.find(this.parent.schema['_inner'].children, ['key', this.name]);\r\n\r\n      return extractChild ? extractChild.schema : null;\r\n    }\r\n\r\n\r\n\r\n    return this._getControlSchema();\r\n  }\r\n\r\n  /** @internal */\r\n  _getControlSchema = () => {\r\n    return null;\r\n  };\r\n\r\n\r\n  get path(): string[] {\r\n    return this.parent ? [...this.parent.path, this.name] : [];\r\n  }\r\n\r\n  get name(): string {\r\n    return this._name;\r\n  }\r\n\r\n  set name(name: string) {\r\n    this._name = name;\r\n  }\r\n\r\n  /**\r\n   * The parent control.\r\n   */\r\n  get parent(): FormGroup | FormArray {\r\n    return this._parent;\r\n  }\r\n\r\n  get root(): FormGroup {\r\n    return this._root;\r\n  }\r\n\r\n  get options(): AbstractControlOptions {\r\n\r\n    let parentConfig;\r\n\r\n    if (this.parent && this.parent.options) parentConfig = {\r\n      ...this.parent.options\r\n    };\r\n\r\n    return {\r\n      ...parentConfig,\r\n      ...this._initialOptions\r\n    } || null;\r\n  }\r\n\r\n  set options(newConfig: AbstractControlOptions) {\r\n\r\n    this._options = {\r\n      ...this._options,\r\n      ...newConfig\r\n    };\r\n\r\n    this.updateValueAndValidity({ emitEvent: true });\r\n\r\n  }\r\n\r\n  /**\r\n   * A control is `enabled` as long as its `status` is not `DISABLED`.\r\n   *\r\n   * @see `status`\r\n   *\r\n   * @returns True if the control has any status other than 'DISABLED',\r\n   * false if the status is 'DISABLED'.\r\n   *\r\n   */\r\n  get enabled(): boolean {\r\n    return this.status !== DISABLED;\r\n  }\r\n\r\n  /**\r\n   * A control is `disabled` when its `status` is `DISABLED`.\r\n   *\r\n   * @see `status`\r\n   *\r\n   * Disabled controls are exempt from validation checks and\r\n   * are not included in the aggregate value of their ancestor\r\n   * controls.\r\n   *\r\n   * @returns True if the control is disabled, false otherwise.\r\n   */\r\n  get disabled(): boolean {\r\n    return this.status === DISABLED;\r\n  }\r\n\r\n  /**\r\n   * A control is `valid` when its `status` is `VALID`.\r\n   *\r\n   * @see `status`\r\n   *\r\n   * @returns True if the control has passed all of its validation tests,\r\n   * false otherwise.\r\n   */\r\n  get valid(): boolean {\r\n    return this.status === VALID;\r\n  }\r\n\r\n  /**\r\n   * A control is `invalid` when its `status` is `INVALID`.\r\n   *\r\n   * @see `status`\r\n   *\r\n   * @returns True if this control has failed one or more of its validation checks,\r\n   * false otherwise.\r\n   */\r\n  get invalid(): boolean {\r\n    return this.status === INVALID;\r\n  }\r\n\r\n  /**\r\n   * A control is `pending` when its `status` is `PENDING`.\r\n   *\r\n   * @see `status`\r\n   *\r\n   * @returns True if this control is in the process of conducting a validation check,\r\n   * false otherwise.\r\n   */\r\n  get pending(): boolean {\r\n    return this.status === PENDING;\r\n  }\r\n\r\n  /**\r\n   * A control is `dirty` if the user has changed the value\r\n   * in the UI.\r\n   *\r\n   * @returns True if the user has changed the value of this control in the UI; compare `pristine`.\r\n   * Programmatic changes to a control's value do not mark it dirty.\r\n   */\r\n  get dirty(): boolean {\r\n    return !this.pristine;\r\n  }\r\n\r\n\r\n  /**\r\n   * Marks the control as `touched`. A control is touched by focus and\r\n   * blur events that do not change the value; compare `markAsDirty`;\r\n   *\r\n   *  @param opts options options that determine how the control propagates changes\r\n   * and emits events events after marking is applied.\r\n   * * `onlySelf`: When true, mark only this control. When false or not supplied,\r\n   * marks all direct ancestors. Default is false.\r\n   */\r\n  markAsTouched(): void {\r\n    (this as { touched: boolean }).touched = true;\r\n\r\n    this.updateValueAndValidity({ onlySelf: true });\r\n  }\r\n\r\n  /**\r\n   * Marks the control as `untouched`.\r\n   *\r\n   * If the control has any children, also marks all children as `untouched`\r\n   * and recalculates the `touched` status of all parent controls.\r\n   *\r\n   *  @param opts options options that determine how the control propagates changes\r\n   * and emits events after the marking is applied.\r\n   * * `onlySelf`: When true, mark only this control. When false or not supplied,\r\n   * marks all direct ancestors. Default is false.\r\n   */\r\n  markAsUntouched(opts: { onlySelf?: boolean } = {}): void {\r\n    (this as { touched: boolean }).touched = false;\r\n  }\r\n\r\n  /**\r\n   * Marks the control as `dirty`. A control becomes dirty when\r\n   * the control's value is changed through the UI; compare `markAsTouched`.\r\n   *\r\n   *  @param opts options options that determine how the control propagates changes\r\n   * and emits events after marking is applied.\r\n   * * `onlySelf`: When true, mark only this control. When false or not supplied,\r\n   * marks all direct ancestors. Default is false.\r\n   */\r\n  markAsDirty(opts: { onlySelf?: boolean } = {}): void {\r\n    (this as { pristine: boolean }).pristine = false;\r\n  }\r\n\r\n  /**\r\n   * Marks the control as `pristine`.\r\n   *\r\n   * If the control has any children, marks all children as `pristine`,\r\n   * and recalculates the `pristine` status of all parent\r\n   * controls.\r\n   *\r\n   *  @param opts options options that determine how the control emits events after\r\n   * marking is applied.\r\n   * * `onlySelf`: When true, mark only this control. When false or not supplied,\r\n   * marks all direct ancestors. Default is false..\r\n   */\r\n  markAsPristine(opts: { onlySelf?: boolean } = {}): void {\r\n    (this as { pristine: boolean }).pristine = true;\r\n  }\r\n\r\n  /**\r\n   * Sets options on a form control .\r\n   *\r\n   * Calling `setOptions` also updates the validity of the parent control.\r\n   *\r\n   * @usageNotes\r\n   * ### Manually set the options for a control\r\n   *\r\n   * ```\r\n   * const login = new FormControl('someLogin');\r\n   * login.setErrors({\r\n   *   notUnique: true\r\n   * });\r\n   *\r\n   * expect(login.valid).toEqual(false);\r\n   * expect(login.errors).toEqual({ notUnique: true });\r\n   *\r\n   * login.setValue('someOtherLogin');\r\n   *\r\n   * expect(login.valid).toEqual(true);\r\n   * ```\r\n   */\r\n  setOptions(options: AbstractControlOptions | null, opts: { emitEvent?: boolean } = {}): void {\r\n    this._initialOptions = options;\r\n    this._updateControlsOptions(opts.emitEvent !== false);\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets errors on a form control when running validations manually, rather than automatically.\r\n   *\r\n   * Calling `setErrors` also updates the validity of the parent control.\r\n   *\r\n   * @usageNotes\r\n   * ### Manually set the errors for a control\r\n   *\r\n   * ```\r\n   * const login = new FormControl('someLogin');\r\n   * login.setErrors({\r\n   *   notUnique: true\r\n   * });\r\n   *\r\n   * expect(login.valid).toEqual(false);\r\n   * expect(login.errors).toEqual({ notUnique: true });\r\n   *\r\n   * login.setValue('someOtherLogin');\r\n   *\r\n   * expect(login.valid).toEqual(true);\r\n   * ```\r\n   */\r\n  setErrors(errors: JoiError[] | null, opts: { emitEvent?: boolean } = {}): void {\r\n    (this as { errors: JoiError[] | null }).errors = errors;\r\n    this._updateControlsErrors(opts.emitEvent !== false);\r\n  }\r\n\r\n  //\r\n  /**\r\n   * @param parent Sets the parent of the control\r\n   */\r\n  setParent(parent: FormGroup | FormArray): void {\r\n    this._parent = parent;\r\n  }\r\n\r\n  /**\r\n   * @param root Sets the root of the form\r\n   */\r\n  setRoot(root: FormGroup): void {\r\n    this._root = root;\r\n  }\r\n\r\n  updateOptions(options: AbstractControlOptions | null, opts: { emitEvent?: boolean } = {}): void {\r\n    this._initialOptions = {\r\n      ...this._initialOptions,\r\n      ...options\r\n    };\r\n    this._updateControlsOptions(opts.emitEvent !== false);\r\n  }\r\n\r\n\r\n  /**\r\n   * Recalculates the value and validation status of the control.\r\n   *\r\n   * By default, it also updates the value and validity of its ancestors.\r\n   *\r\n   * @param opts options options determine how the control propagates changes and emits events\r\n   * after updates and validity checks are applied.\r\n   * * `onlySelf`: When true, only update this control. When false or not supplied,\r\n   * update all direct ancestors. Default is false..\r\n   * * `emitEvent`: When true or not supplied (the default), emit the `valueChanges` event\r\n   * observables emit events with the latest status and value when the control is updated.\r\n   * When false, no events are emitted.\r\n   */\r\n  updateValueAndValidity(opts: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    this._setInitialStatus();\r\n    this._updateValue();\r\n    if (this.enabled) {\r\n      this._cancelExistingSubscription();\r\n      (<{ errors: JoiError[] | null }>this).errors = this._runJoiValidation();\r\n      (<{ status: string }>this).status = this._calculateStatus();\r\n\r\n      if (this.status === VALID || this.status === PENDING) {\r\n        this.runAsyncValidator(opts.emitEvent);\r\n      }\r\n\r\n    }\r\n\r\n\r\n    if (opts.emitEvent !== false) {\r\n      (this.valueChanges as EventEmitter<any>).emit(this.value);\r\n      (this.statusChanges as EventEmitter<any>).emit(this.status);\r\n    }\r\n\r\n    if (this._parent && !opts.onlySelf) {\r\n      this._parent.updateValueAndValidity(opts);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  private _calculateStatus(): string {\r\n    if (this._allControlsDisabled()) return DISABLED;\r\n    if (this.errors) return INVALID;\r\n    if (this._anyControlsHaveStatus(INVALID)) return INVALID;\r\n    if (this._anyControlsHaveStatus(PENDING)) return PENDING;\r\n    return VALID;\r\n  }\r\n\r\n  /** @internal */\r\n  _runJoiValidation() {\r\n    return null;\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _updateChildError = (errors: JoiError[]) => {\r\n  };\r\n\r\n\r\n  private _cancelExistingSubscription(): void {\r\n    if (this._asyncValidationSubscription) {\r\n      this._asyncValidationSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  private _setInitialStatus() {\r\n    (this as { status: string }).status = this._allControlsDisabled() ? DISABLED : VALID;\r\n  }\r\n\r\n  private _storeInitialOptions = (options: AbstractControlOptions | null) => {\r\n    this._initialOptions = options;\r\n  };\r\n\r\n\r\n  /** @internal */\r\n  _updateValue(): void {\r\n\r\n  }\r\n\r\n  /** @internal */\r\n  _isNotExcluded = (c: AbstractControl): Boolean => {\r\n\r\n    return !_.get(c.options, 'excluded') && !(_.has(this.options, ['nullExclusion']) && !c.value);\r\n\r\n  };\r\n\r\n  /** @internal */\r\n  _initObservables() {\r\n    (this as { valueChanges: Observable<any> }).valueChanges = new EventEmitter();\r\n    (this as { statusChanges: Observable<any> }).statusChanges = new EventEmitter();\r\n  }\r\n\r\n  /** @internal */\r\n  _initValidators() {\r\n    (<AbstractControl>this).runAsyncValidator = _.debounce((emitEvent?: boolean) => {\r\n\r\n      if (this.asyncValidator) {\r\n        (this as { status: string }).status = PENDING;\r\n        const obs = this.asyncValidator(this);\r\n        // this._asyncValidationSubscription =\r\n        // obs.subscribe((errors: JoiError[] | null) => {\r\n        //   if ((this.touched || this.dirty) && this.value) {\r\n        //     (this as { status: string }).status = INVALID;\r\n        //     this.setErrors(errors, { emitEvent });\r\n        //   }\r\n        // });\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  /** @internal */\r\n  _updateControlsOptions(emitEvent: boolean): void {\r\n    (this as { status: string }).status = this._calculateStatus();\r\n\r\n    if (emitEvent) {\r\n      (this.statusChanges as EventEmitter<string>).emit(this.status);\r\n    }\r\n  }\r\n\r\n  /** @internal */\r\n  _updateControlsErrors(emitEvent: boolean): void {\r\n    (this as { status: string }).status = this._calculateStatus();\r\n\r\n    if (emitEvent) {\r\n      (this.statusChanges as EventEmitter<string>).emit(this.status);\r\n    }\r\n\r\n    if (this._parent) {\r\n      this._parent._updateControlsErrors(emitEvent);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets the value of the control. Abstract method (implemented in sub-classes).\r\n   */\r\n  abstract setValue(value: any, options?: Object): void;\r\n\r\n  /**\r\n   * Resets the control. Abstract method (implemented in sub-classes).\r\n   */\r\n  abstract reset(value?: any, options?: Object): void;\r\n\r\n  /**\r\n   * Clear the control. Abstract method (implemented in sub-classes).\r\n   */\r\n  abstract clear(options?: Object): void;\r\n\r\n  /** @internal */\r\n  abstract _allControlsDisabled(): boolean;\r\n\r\n  /** @internal */\r\n  abstract _anyControlsHaveStatus(status: string): boolean\r\n}\r\n\r\n\r\n/**\r\n * Reports that a FormControl is valid, meaning that no errors exist in the input value.\r\n *\r\n * @see `status`\r\n */\r\nexport const VALID = 'VALID';\r\n\r\n/**\r\n * Reports that a FormControl is invalid, meaning that an error exists in the input value.\r\n *\r\n * @see `status`\r\n */\r\nexport const INVALID = 'INVALID';\r\n\r\n/**\r\n * Reports that a FormControl is pending, meaning that that async validation is occurring and\r\n * errors are not yet available for the input value.\r\n *\r\n * @see `markAsPending`\r\n * @see `status`\r\n */\r\nexport const PENDING = 'PENDING';\r\n\r\n/**\r\n * Reports that a FormControl is disabled, meaning that the control is exempt from ancestor\r\n * calculations of validity or value.\r\n *\r\n * @see `markAsDisabled`\r\n * @see `status`\r\n */\r\nexport const DISABLED = 'DISABLED';\r\n\r\nexport type FormHooks = 'change' | 'blur' | 'submit';\r\n","import { AbstractControl, DISABLED, INVALID, PENDING, VALID } from './AbstractControl';\r\nimport {\r\n  AsyncValidatorFn,\r\n  JoiError\r\n} from '../interfaces/Validator';\r\nimport _ from 'lodash';\r\nimport { AbstractControlOptions, FormControlState } from '../interfaces/Form';\r\n\r\n\r\n/**\r\n * Tracks the value and validation status of an individual form control.\r\n *\r\n * This is one of the three fundamental building blocks of Angular forms, along with\r\n * `FormGroup.ts` and `FormArray`. It extends the `IonarAbstractControl` class that\r\n * implements most of the base functionality for accessing the value, validation status,\r\n * user interactions and events.\r\n *\r\n * @see `IonarAbstractControl`\r\n * @see [Reactive Forms Guide](guide/reactive-forms)\r\n * @see [Usage Notes](#usage-notes)\r\n *\r\n * @usageNotes\r\n *\r\n * ### Initializing Form Controls\r\n *\r\n * Instantiate a `FormControl`, with an initial value.\r\n *\r\n * ```ts\r\n * const control = new FormControl('some value');\r\n * console.log(control.value);     // 'some value'\r\n *```\r\n *\r\n * The following example initializes the control with a form state object. The `value`\r\n * and `disabled` keys are required in this case.\r\n *\r\n * ```ts\r\n * const control = new FormControl({ value: 'n/a', disabled: true });\r\n * console.log(control.value);     // 'n/a'\r\n * console.log(control.status);    // 'DISABLED'\r\n * ```\r\n *\r\n * The following example initializes the control with a sync validator.\r\n *\r\n * ```ts\r\n * const control = new FormControl('', Validators.required);\r\n * console.log(control.value);      // ''\r\n * console.log(control.status);     // 'INVALID'\r\n * ```\r\n *\r\n * The following example initializes the control using an options object.\r\n *\r\n * ```ts\r\n * const control = new FormControl('', {\r\n *    validators: Validators.required,\r\n *    asyncValidators: myAsyncValidator\r\n * });\r\n * ```\r\n *\r\n * ### Configure the control to update on a blur event\r\n *\r\n * Set the `updateOn` option to `'blur'` to update on the blur `event`.\r\n *\r\n * ```ts\r\n * const control = new FormControl('', { updateOn: 'blur' });\r\n * ```\r\n *\r\n * ### Configure the control to update on a submit event\r\n *\r\n * Set the `updateOn` option to `'submit'` to update on a submit `event`.\r\n *\r\n * ```ts\r\n * const control = new FormControl('', { updateOn: 'submit' });\r\n * ```\r\n *\r\n * ### Reset the control back to an initial value\r\n *\r\n * You reset to a specific form state by passing through a standalone\r\n * value or a form state object that contains both a value and a disabled state\r\n * (these are the only two properties that cannot be calculated).\r\n *\r\n * ```ts\r\n * const control = new FormControl('Nancy');\r\n *\r\n * console.log(control.value); // 'Nancy'\r\n *\r\n * control.reset('Drew');\r\n *\r\n * console.log(control.value); // 'Drew'\r\n * ```\r\n *\r\n * ### Reset the control back to an initial value and disabled\r\n *\r\n * ```\r\n * const control = new FormControl('Nancy');\r\n *\r\n * console.log(control.value); // 'Nancy'\r\n * console.log(control.status); // 'VALID'\r\n *\r\n * control.reset({ value: 'Drew', disabled: true });\r\n *\r\n * console.log(control.value); // 'Drew'\r\n * console.log(control.status); // 'DISABLED'\r\n * ```\r\n *\r\n * @publicApi\r\n */\r\nexport class FormControl extends AbstractControl {\r\n\r\n\r\n  /**\r\n   * Creates a new `FormControl` instance.\r\n   *\r\n   * @param config Initializes the control with an object that defines the initial state.\r\n   *\r\n   */\r\n  constructor(state: FormControlState) {\r\n    super(\r\n      <FormControlState>state,\r\n      <AbstractControlOptions | null>state.options\r\n    );\r\n    // this._coerceToJoiSchema();\r\n    this._setAsyncValidators(state.asyncValidator);\r\n    this._initObservables();\r\n    this._initValidators();\r\n    this._applyControlState();\r\n    this.updateValueAndValidity({ onlySelf: true, emitEvent: false });\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets a new value for the form control.\r\n   *\r\n   * @param value The new value for the control.\r\n   * @param options options options that determine how the control proopagates changes\r\n   * and emits events when the value changes.\r\n   * The options options are passed to the {@link IonarAbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control value is updated.\r\n   * When false, no events are emitted.\r\n   * * `emitModelToViewChange`: When true or not supplied  (the default), each change triggers an\r\n   * `onChange` event to\r\n   * update the view.\r\n   * * `emitViewToModelChange`: When true or not supplied (the default), each change triggers an\r\n   * `ngModelChange`\r\n   * event to update the model.\r\n   *\r\n   */\r\n  setValue(value: any, options: {\r\n    onlySelf?: boolean,\r\n    emitEvent?: boolean\r\n  } = {}): void {\r\n    (this as { value: any }).value = value;\r\n    this.markAsDirty();\r\n    this.updateValueAndValidity(options);\r\n\r\n    if (_.has(this.options, ['submitOnChange'])) {\r\n\r\n      this.root.submit(true);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * Resets the form control, marking it `pristine` and `untouched`, and setting\r\n   * the value to null.\r\n   *\r\n   * @param formState Resets the control with an initial value,\r\n   * or an object that defines the initial value and disabled state.\r\n   *\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events after the value changes.\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   *\r\n   */\r\n  reset(value: any = null, options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    this.markAsPristine(options);\r\n    this.markAsUntouched(options);\r\n    this._applyControlState();\r\n    this.updateValueAndValidity(options);\r\n    if (_.has(this.options, ['submitOnChange'])) {\r\n\r\n      this.root.submit(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resets the form control, marking it `pristine` and `untouched`, and setting\r\n   * the value to null.\r\n   *\r\n   * @param formState Resets the control with an initial value,\r\n   * or an object that defines the initial value and disabled state.\r\n   *\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events after the value changes.\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   *\r\n   */\r\n  clear(options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    this.markAsPristine(options);\r\n    this.markAsUntouched(options);\r\n    (this as { value: any }).value = null;\r\n    this.updateValueAndValidity(options);\r\n    if (_.has(this.options, ['submitOnChange'])) {\r\n\r\n      this.root.submit(true);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets errors on a form control when running validations manually, rather than automatically.\r\n   *\r\n   * Calling `setErrors` also updates the validity of the parent control.\r\n   *\r\n   * @usageNotes\r\n   * ### Manually set the errors for a control\r\n   *\r\n   * ```\r\n   * const login = new FormControl('someLogin');\r\n   * login.setErrors({\r\n   *   notUnique: true\r\n   * });\r\n   *\r\n   * expect(login.valid).toEqual(false);\r\n   * expect(login.errors).toEqual({ notUnique: true });\r\n   *\r\n   * login.setValue('someOtherLogin');\r\n   *\r\n   * expect(login.valid).toEqual(true);\r\n   * ```\r\n   */\r\n  setErrors(errors: any, opts: { emitEvent?: boolean } = {}): void {\r\n    (this as { errors: JoiError[] | null }).errors = errors;\r\n    this._updateControlsErrors(opts.emitEvent !== false);\r\n  }\r\n\r\n  /** @internal */\r\n  _getControlSchema = () => {\r\n    if ((<FormControlState>this.state).schema) return (<FormControlState>this.state).schema;\r\n\r\n\r\n  };\r\n\r\n\r\n  /**\r\n   * Sets the async validators that are active on this control. Calling this\r\n   * overwrites any existing async validators.\r\n   */\r\n  private _setAsyncValidators = (asyncValidators: AsyncValidatorFn | AsyncValidatorFn[] | null): void => {\r\n\r\n\r\n    // (this as { asyncValidator: ValidatorFn | null }).asyncValidator = coerceToAsyncValidator(asyncValidators);\r\n  };\r\n\r\n\r\n  /** @internal */\r\n  _updateValue(): void {\r\n\r\n  }\r\n\r\n\r\n  private _applyControlState = () => {\r\n    (<FormControl>this.value) = null;\r\n    const properties = (<FormControlState>this.state).props;\r\n\r\n    if (properties) {\r\n      (<FormControl>this.value) = properties.value;\r\n    }\r\n\r\n\r\n    // state.disabled ? this.disable({onlySelf: true, emitEvent: false}) :\r\n    //         this.enable({onlySelf: true, emitEvent: false});\r\n  };\r\n\r\n\r\n  /**\r\n   * @internal\r\n   */\r\n  _allControlsDisabled(): boolean {\r\n    return this.disabled;\r\n  }\r\n\r\n  /** @internal */\r\n  _anyControlsHaveStatus(status: string): boolean {\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\n// function coerceToValidator(validators: ValidationConfigs): ValidatorFn | null {\r\n//\r\n//   return Validators.compose(convertToValidatorFn(validators));\r\n// };\r\n//\r\n// function convertToValidatorFn(validators: ValidationConfigs): ValidatorFn[] {\r\n//   return _.map(validators, (value, key) => {\r\n//     if (!_.has(Validators, key)) return null;\r\n//\r\n//     return Validators[key];\r\n//   });\r\n// }\r\n//\r\n// function coerceToAsyncValidator(asyncValidators: AsyncValidatorFn | AsyncValidatorFn[] | null): AsyncValidatorFn | null {\r\n//\r\n//   return _.isArray(asyncValidators) ? Validators.composeAsync(_.map(asyncValidators, (value: AsyncValidatorFn, key): AsyncValidatorFn | null => value)) : asyncValidators || null;\r\n// };\r\n","import _ from 'lodash';\r\nimport Joi from '@ionar/joi';\r\nimport { AbstractControl } from './AbstractControl';\r\nimport { Observable } from 'rxjs';\r\nimport { EventEmitter } from '@angular/core';\r\nimport { FormControl } from './FormControl';\r\n\r\nimport { AbstractControlOptions, FormControlState, FormGroupState } from '../interfaces/Form';\r\nimport { JoiError, JoiSchema } from '../interfaces/Validator';\r\n\r\n\r\n/**\r\n * Tracks the value and validity state of a group of `FormControl` instances.\r\n *\r\n * A `FormGroup` aggregates the values of each child `FormControl` into one object,\r\n * with each control name as the key.  It calculates its status by reducing the status values\r\n * of its children. For example, if one of the controls in a group is invalid, the entire\r\n * group becomes invalid.\r\n *\r\n * `FormGroup` is one of the three fundamental building blocks used to define forms in Angular,\r\n * along with `FormControl` and `FormArray`.\r\n *\r\n * When instantiating a `FormGroup`, pass in a collection of child controls as the first\r\n * argument. The key for each child registers the name for the control.\r\n *\r\n * @usageNotes\r\n *\r\n * ### Create a form group with 2 controls\r\n *\r\n * ```\r\n * const form = new FormGroup({\r\n *   first: new FormControl('Nancy', Validators.minLength(2)),\r\n *   last: new FormControl('Drew'),\r\n * });\r\n *\r\n * console.log(form.value);   // {first: 'Nancy', last; 'Drew'}\r\n * console.log(form.status);  // 'VALID'\r\n * ```\r\n *\r\n * ### Create a form group with a group-level validator\r\n *\r\n * You include group-level validators as the second arg, or group-level async\r\n * validators as the third arg. These come in handy when you want to perform validation\r\n * that considers the value of more than one child control.\r\n *\r\n * ```\r\n * const form = new FormGroup({\r\n *   password: new FormControl('', Validators.minLength(2)),\r\n *   passwordConfirm: new FormControl('', Validators.minLength(2)),\r\n * }, passwordMatchValidator);\r\n *\r\n *\r\n * function passwordMatchValidator(g: FormGroup) {\r\n *    return g.get('password').value === g.get('passwordConfirm').value\r\n *       ? null : {'mismatch': true};\r\n * }\r\n * ```\r\n *\r\n * Like `FormControl` instances, you choose to pass in\r\n * validators and async validators as part of an options object.\r\n *\r\n * ```\r\n * const form = new FormGroup({\r\n *   password: new FormControl('')\r\n *   passwordConfirm: new FormControl('')\r\n * }, { validators: passwordMatchValidator, asyncValidators: otherValidator });\r\n * ```\r\n *\r\n * ### Set the updateOn property for all controls in a form group\r\n *\r\n * The options object is used to set a default value for each child\r\n * control's `updateOn` property. If you set `updateOn` to `'blur'` at the\r\n * group level, all child controls default to 'blur', unless the child\r\n * has explicitly specified a different `updateOn` value.\r\n *\r\n * ```ts\r\n * const c = new FormGroup({\r\n *   one: new FormControl()\r\n * }, { updateOn: 'blur' });\r\n * ```\r\n *\r\n * @publicApi\r\n */\r\nexport class FormGroup extends AbstractControl {\r\n\r\n  public readonly ngSubmit: EventEmitter<any>;\r\n\r\n\r\n  /**\r\n   * @description\r\n   * Reports whether the form submission has been triggered.\r\n   */\r\n  public readonly submitted: boolean = false;\r\n\r\n\r\n  /**\r\n   * Creates a new `FormGroup` instance.\r\n   *\r\n   * @param state A collection of child controls. The key for each child is the name\r\n   * under which it is registered.\r\n   *\r\n   */\r\n  constructor(state: FormGroupState, options?: AbstractControlOptions) {\r\n    super(\r\n      null,\r\n      <AbstractControlOptions | null>options\r\n    );\r\n    this._applyFormState();\r\n    this._setUpControls(state);\r\n    this._initObservables();\r\n\r\n    this.updateValueAndValidity({ onlySelf: true, emitEvent: false });\r\n  }\r\n\r\n  /**\r\n   * Registers a control with the group's list of controls.\r\n   *\r\n   * This method does not update the value or validity of the control.\r\n   * Use {@link FormGroup#addControl addControl} instead.\r\n   *\r\n   * @param name The control name to register in the collection\r\n   * @param control Provides the control for the given name\r\n   */\r\n  registerControl(name: string, control: AbstractControl): AbstractControl {\r\n    if (this.controls[name]) return this.controls[name];\r\n    control.setParent(this);\r\n    this.controls[name] = control;\r\n    return control;\r\n  }\r\n\r\n  /**\r\n   * Add a control to this group.\r\n   *\r\n   * This method also updates the value and validity of the control.\r\n   *\r\n   * @param name The control name to add to the collection\r\n   * @param control Provides the control for the given name\r\n   */\r\n  addControl(name: string, control: AbstractControl): void {\r\n    this.registerControl(name, control);\r\n    this.updateValueAndValidity();\r\n  }\r\n\r\n  /**\r\n   * Remove a control from this group.\r\n   *\r\n   * @param name The control name to remove from the collection\r\n   */\r\n  removeControl(name: string): void {\r\n    (<{ controls: FormGroupState }>this).controls = <FormGroupState>_.omit(this.controls, [name]);\r\n\r\n    this.updateValueAndValidity();\r\n  }\r\n\r\n  /**\r\n   * Replace an existing control.\r\n   *\r\n   * @param name The control name to replace in the collection\r\n   * @param control Provides the control for the given name\r\n   */\r\n  setControl(name: string, control: AbstractControl): void {\r\n    (<{ controls: FormGroupState }>this).controls = <FormGroupState>_.omit(this.controls, [name]);\r\n    if (control) this.registerControl(name, control);\r\n    this.updateValueAndValidity();\r\n\r\n  }\r\n\r\n  /**\r\n   * Sets the value of the `FormGroup`. It accepts an object that matches\r\n   * the structure of the group, with control names as keys.\r\n   *\r\n   * @usageNotes\r\n   * ### Set the complete value for the form group\r\n   *\r\n   * ```\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl(),\r\n   *   last: new FormControl()\r\n   * });\r\n   *\r\n   * console.log(form.value);   // {first: null, last: null}\r\n   *\r\n   * form.setValue({first: 'Nancy', last: 'Drew'});\r\n   * console.log(form.value);   // {first: 'Nancy', last: 'Drew'}\r\n   * ```\r\n   *\r\n   * @throws When strict checks fail, such as setting the value of a control\r\n   * that doesn't exist or if you excluding the value of a control.\r\n   *\r\n   * @param value The new value for the control that matches the structure of the group.\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events after the value changes.\r\n   * The options options are passed to the {@link IonarAbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control value is updated.\r\n   * When false, no events are emitted.\r\n   */\r\n  setValue(formValue: { [key: string]: any }, options: { onlySelf?: boolean, emitEvent?: boolean } = {}):\r\n    void {\r\n\r\n    _.forOwn(formValue, (value, name) => {\r\n      this._throwIfControlMissing(name);\r\n      this.controls[name].setValue(value, { onlySelf: true, emitEvent: options.emitEvent });\r\n    });\r\n\r\n\r\n    this.updateValueAndValidity(options);\r\n  }\r\n\r\n  /**\r\n   * Resets the `FormGroup`, marks all descendants are marked `pristine` and `untouched`, and\r\n   * the value of all descendants to null.\r\n   *\r\n   * You reset to a specific form state by passing in a map of states\r\n   * that matches the structure of your form, with control names as keys. The state\r\n   * is a standalone value or a form state object with both a value and a disabled\r\n   * status.\r\n   *\r\n   * @param formState Resets the control with an initial value,\r\n   * or an object that defines the initial value and disabled state.\r\n   *\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events when the group is reset.\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   * The options options are passed to the {@link AbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   *\r\n   * @usageNotes\r\n   *\r\n   * ### Reset the form group values\r\n   *\r\n   * ```ts\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * console.log(form.value);  // {first: 'first name', last: 'last name'}\r\n   *\r\n   * form.reset({ first: 'name', last: 'last name' });\r\n   *\r\n   * console.log(form.value);  // {first: 'name', last: 'last name'}\r\n   * ```\r\n   *\r\n   * ### Reset the form group values and disabled status\r\n   *\r\n   * ```\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * form.reset({\r\n   *   first: {value: 'name', disabled: true},\r\n   *   last: 'last'\r\n   * });\r\n   *\r\n   * console.log(this.form.value);  // {first: 'name', last: 'last name'}\r\n   * console.log(this.form.get('first').status);  // 'DISABLED'\r\n   * ```\r\n   */\r\n  reset(value: any = {}, options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    _.forOwn(this.controls, (c: AbstractControl, name: string) => {\r\n      c.reset(value[name], { onlySelf: true, emitEvent: options.emitEvent });\r\n    });\r\n    (this as { submitted: Boolean }).submitted = false;\r\n    this.updateValueAndValidity(options);\r\n    if (_.has(this.options, ['submitOnChange'])) this.submit(true);\r\n\r\n  }\r\n\r\n  /**\r\n   * Clear the `FormGroup`, marks all descendants are marked `pristine` and `untouched`, and\r\n   * the value of all descendants to null.\r\n   *\r\n   * You reset to a specific form state by passing in a map of states\r\n   * that matches the structure of your form, with control names as keys. The state\r\n   * is a standalone value or a form state object with both a value and a disabled\r\n   * status.\r\n   *\r\n   * @param formState Resets the control with an initial value,\r\n   * or an object that defines the initial value and disabled state.\r\n   *\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events when the group is reset.\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   * The options options are passed to the {@link AbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   *\r\n   * @usageNotes\r\n   *\r\n   * ### Reset the form group values\r\n   *\r\n   * ```ts\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * console.log(form.value);  // {first: 'first name', last: 'last name'}\r\n   *\r\n   * form.reset({ first: 'name', last: 'last name' });\r\n   *\r\n   * console.log(form.value);  // {first: 'name', last: 'last name'}\r\n   * ```\r\n   *\r\n   * ### Reset the form group values and disabled status\r\n   *\r\n   * ```\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * form.reset({\r\n   *   first: {value: 'name', disabled: true},\r\n   *   last: 'last'\r\n   * });\r\n   *\r\n   * console.log(this.form.value);  // {first: 'name', last: 'last name'}\r\n   * console.log(this.form.get('first').status);  // 'DISABLED'\r\n   * ```\r\n   */\r\n  clear(options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    _.forOwn(this.controls, (c: AbstractControl, name: string) => {\r\n      c.clear({ onlySelf: true, emitEvent: options.emitEvent });\r\n    });\r\n    (this as { submitted: Boolean }).submitted = false;\r\n    this.updateValueAndValidity(options);\r\n    if (_.has(this.options, ['submitOnChange'])) this.submit(true);\r\n  }\r\n\r\n\r\n  /**\r\n   * Retrieves a child control given the control's name or path.\r\n   *\r\n   * @param path A dot-delimited string or array of string/number values that define the path to the\r\n   * control.\r\n   *\r\n   * @usageNotes\r\n   * ### Retrieve a nested control\r\n   *\r\n   * For example, to get a `name` control nested within a `person` sub-group:\r\n   *\r\n   * * `this.form.get('person.name');`\r\n   *\r\n   * -OR-\r\n   *\r\n   * * `this.form.get(['person', 'name']);`\r\n   */\r\n  get(path: string[] | string | null): { [name: string]: AbstractControl } | AbstractControl[] | AbstractControl | null {\r\n    if (!path) return null;\r\n    return _.get(this.controls, path) || null;\r\n  }\r\n\r\n  submit(instant: boolean = false): void {\r\n\r\n    if (this.root === this) {\r\n      (this as { submitted: Boolean }).submitted = true;\r\n      this.updateValueAndValidity();\r\n      this.updateChildValidity();\r\n      (this as { ngSubmit: EventEmitter<any> }).ngSubmit.emit({\r\n        value: this.value, instant\r\n      });\r\n    }\r\n  }\r\n\r\n  updateChildValidity() {\r\n    _.forOwn(this.controls, (c: AbstractControl, name: string) => {\r\n      if (c instanceof FormControl) c.updateValueAndValidity();\r\n      if (c instanceof FormGroup) c.updateChildValidity();\r\n    });\r\n  }\r\n\r\n  /** @internal */\r\n  _initObservables() {\r\n    (this as { valueChanges: Observable<any> }).valueChanges = new EventEmitter();\r\n    (this as { statusChanges: Observable<any> }).statusChanges = new EventEmitter();\r\n    (this as { ngSubmit: Observable<any> }).ngSubmit = new EventEmitter();\r\n  }\r\n\r\n  /** @internal */\r\n  _updateChildError = (errors: JoiError[]) => {\r\n    _.each(errors, (err: JoiError) => {\r\n      const control: AbstractControl = _.get(this.controls, err.path);\r\n      if (control instanceof FormControl) {\r\n        control.setErrors([err]);\r\n      }\r\n    });\r\n  };\r\n\r\n  /** @internal */\r\n  _updateValue(): void {\r\n    (this as { value: any }).value = this._reduceValue();\r\n  }\r\n\r\n  /** @internal */\r\n  _reduceValue() {\r\n    const form_value: { [k: string]: AbstractControl } = {};\r\n    _.forOwn(this.controls, (c: AbstractControl, name: string) => {\r\n      if (this._isNotExcluded(c)) {\r\n        form_value[name] = c.value;\r\n      }\r\n    });\r\n    return form_value;\r\n  }\r\n\r\n  /** @internal */\r\n  _reduceSchema() {\r\n    return _.reduce(this.controls, (result: { [name: string]: JoiSchema }, c: AbstractControl, name: string) => {\r\n      if (c instanceof FormControl && (<FormControlState>c.state).schema) {\r\n        result[name] = (<FormControlState>c.state).schema;\r\n      }\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  /** @internal */\r\n  _getControlSchema = () => {\r\n    return this.options.schema || Joi.object().keys(this._reduceSchema());\r\n  };\r\n\r\n  /** @internal */\r\n  _runJoiValidation() {\r\n    if (this.schema) {\r\n\r\n      const validateObject = (this.schema['_type'] !== 'object') ? { [this.name]: this.value } : this.value;\r\n      const validateSchema = (this.schema['_type'] !== 'object') ? { [this.name]: this.schema } : this.schema;\r\n\r\n\r\n      const result = Joi.validate(validateObject, validateSchema, {\r\n        abortEarly: false,\r\n        stripUnknown: true\r\n      });\r\n\r\n      if (!result.error) return null;\r\n\r\n      this._updateChildError(<JoiError[]>result.error.details);\r\n\r\n      return <JoiError[]>result.error.details;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n  private _applyFormState = () => {\r\n    if (!this.parent && !this.root) {\r\n      this.setRoot(this);\r\n    }\r\n  };\r\n\r\n\r\n  /** @internal */\r\n  private _setUpControls(controlConfig: FormGroupState): void {\r\n    (<FormGroupState>this.controls) = {};\r\n    _.forOwn(controlConfig, (c: AbstractControl, name: string) => {\r\n      c.setParent(this);\r\n      c.setRoot(this.root);\r\n      c.name = name;\r\n      this.controls[name] = c;\r\n    });\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _throwIfControlMissing(name: string): void {\r\n    if (!_.keys(this.controls).length) {\r\n      throw new Error(`\r\n        There are no form controls registered with this group yet.  If you're using ngModel,\r\n        you may want to check next tick (e.g. use setTimeout).\r\n      `);\r\n    }\r\n    if (!this.controls[name]) {\r\n      throw new Error(`Cannot find form control with name: ${name}.`);\r\n    }\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _allControlsDisabled(): boolean {\r\n    return _.every(_.values(this.controls), (c: AbstractControl) => c.disabled);\r\n  }\r\n\r\n  /** @internal */\r\n  _anyControlsHaveStatus(status: string): boolean {\r\n\r\n    return !!_.find(_.values(this.controls), ['status', status]);\r\n  }\r\n\r\n}\r\n\r\n","import {\r\n  ComponentFactoryResolver,\r\n  ComponentRef,\r\n  Directive,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit, TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\n\r\nimport _ from 'lodash';\r\n\r\n\r\nimport { untilDestroyed } from '@ionar/utility';\r\nimport { InputComponent, MenuComponent, TextareaComponent, UploadComponent } from '../../ui';\r\nimport { FormGroup } from '../models/FormGroup';\r\nimport { FormControl } from '../models/FormControl';\r\nimport { AbstractControlOptions, FormControlState } from '../interfaces/Form';\r\n\r\n\r\n@Directive({\r\n  selector: '[dynamic_field]'\r\n})\r\nexport class DynamicFieldDirective implements OnInit, OnDestroy, OnChanges {\r\n\r\n  @Input('name') private _name: string;\r\n  @Input('root') private _root: FormGroup;\r\n  @Input('control') private _control: FormControl;\r\n\r\n  @Input('template') private _template: TemplateRef<any>;\r\n\r\n  @Input('events') private _events: { [key: string]: Function };\r\n\r\n\r\n  private _compRef: ComponentRef<any>;\r\n\r\n  components = {\r\n    input: InputComponent,\r\n    textarea: TextareaComponent,\r\n    // select: AuroraSelectComponent,\r\n    // datepicker: AuroraDatePickerComponent,\r\n    // checkbox: AuroraCheckboxComponent,\r\n    upload: UploadComponent,\r\n    menu: MenuComponent\r\n    // radio: AuroraRadioComponent\r\n  };\r\n\r\n  constructor(\r\n    private _resolver: ComponentFactoryResolver,\r\n    private _vcRef: ViewContainerRef\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.createComponent();\r\n\r\n    this._root.statusChanges.pipe(untilDestroyed(this)).subscribe(status => {\r\n      this.ngOnChanges();\r\n    });\r\n\r\n    this._root.ngSubmit.pipe(untilDestroyed(this)).subscribe(data => {\r\n      this.ngOnChanges();\r\n    });\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this._compRef) {\r\n      this._parseContext();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this._compRef) this._compRef.destroy();\r\n  }\r\n\r\n  createComponent = () => {\r\n    const component = this.components[(<FormControlState>this._control.state).component];\r\n    const factory = this._resolver.resolveComponentFactory<any>(component);\r\n    this._compRef = this._vcRef.createComponent(factory);\r\n    this._parseContext('initial');\r\n  };\r\n\r\n  private _parseContext = (status = null) => {\r\n\r\n    this._updateContext();\r\n\r\n    if (status === 'initial') this._initObservables();\r\n\r\n\r\n    if (typeof this._compRef.instance.ngOnChanges === 'function') {\r\n      this._compRef.instance.ngOnChanges();\r\n    } else {\r\n      throw new Error(`${this._compRef.componentType.name} doesn't implement 'ngOnChanges'`);\r\n    }\r\n\r\n  };\r\n\r\n  private _initObservables = () => {\r\n    _.forOwn(this._events, (value, key) => {\r\n\r\n      if (!this._compRef.instance[key])\r\n        this._compRef.instance[key] = new EventEmitter();\r\n\r\n      this._compRef.instance[key].pipe(untilDestroyed(this)).subscribe(event => {\r\n        (value instanceof EventEmitter)\r\n          ? value.emit(event)\r\n          : value(event);\r\n      });\r\n\r\n    });\r\n\r\n    if (typeof this._compRef.instance.ngOnInit === 'function') {\r\n      this._compRef.instance.ngOnInit();\r\n    } else {\r\n      throw new Error(`${this._compRef.componentType.name} doesn't implement 'ngOnInit'`);\r\n    }\r\n  };\r\n\r\n  private _updateContext = () => {\r\n    const state = <FormControlState>this._control.state,\r\n      options = <AbstractControlOptions>this._control.options;\r\n\r\n    const context = {\r\n      name: this._name,\r\n      invalid: this._control.invalid && (this._control.dirty || this._control.touched || this._root.submitted),\r\n      ...state.props,\r\n      template: this._template,\r\n      ...options\r\n    };\r\n\r\n    _.forOwn(context, (value, key) => {\r\n      if (value !== undefined) this._compRef.instance[key] = value;\r\n    });\r\n  };\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\n\r\nimport { FormGroup } from '../models/FormGroup';\r\nimport { AfterViewInit, ChangeDetectorRef, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\r\nimport { trim } from 'lodash';\r\n\r\n/**\r\n * @description\r\n * A base class for directives that contain multiple registered instances of `IoControl`.\r\n * Only used by the forms module.\r\n *\r\n * @publicApi\r\n */\r\n\r\nexport abstract class ControlContainer implements OnInit, OnChanges, AfterViewInit {\r\n  /**\r\n   * @description\r\n   * The parent form for the control.\r\n   *\r\n   * @internal\r\n   */\r\n  private _parent: ControlContainer | null = null;\r\n\r\n  get parent(): ControlContainer | null {\r\n    return this._parent;\r\n  }\r\n\r\n  @Input('parent') set parent(value: ControlContainer) {\r\n    if (value instanceof ControlContainer) this._parent = value;\r\n\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Tracks the name of the Control bound to the components. The name corresponds\r\n   * to a key in the parent `FormGroup` or `FormArray`.\r\n   */\r\n\r\n  private _name: string | null = null;\r\n\r\n  get name(): string | null {\r\n    return this._name;\r\n  }\r\n\r\n\r\n  @Input() set name(name: string) {\r\n    this._name = trim(name);\r\n  };\r\n\r\n\r\n  /**\r\n   * @description\r\n   * The top-level FormGroup for this group if present, otherwise null.\r\n   */\r\n  get root(): FormGroup | null {\r\n    return this.parent ? this.parent.root : null;\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Returns an array that represents the path from the top-level form to this control.\r\n   * Each index is the string name of the control on that level.\r\n   */\r\n  get path(): string[] {\r\n\r\n    return this.parent ? [...this.parent.path, this.name, 'controls'] : [this.name, 'controls'];\r\n  }\r\n\r\n\r\n  constructor(public cd: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n}\r\n","/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\nimport { ControlContainer } from './ControlContainer';\r\n\r\nimport { FormControl} from '../models/FormControl'\r\n\r\n\r\n/**\r\n * @description\r\n * A base class that all control `FormControl`-based directives extend. It binds a `FormControl`\r\n * object to a DOM element.\r\n *\r\n * @publicApi\r\n */\r\n\r\n\r\nexport abstract class IoControl extends ControlContainer {\r\n\r\n  /**\r\n   * @description\r\n   * Tracks the `FormControl` instance bound to the directive.\r\n   */\r\n  public get control(): FormControl {\r\n\r\n    return <FormControl>this.root.get(this.path);\r\n  };\r\n\r\n\r\n  /**\r\n   * @description\r\n   * Returns an array that represents the path from the top-level form to this control.\r\n   * Each index is the string name of the control on that level.\r\n   */\r\n  get path(): string[] {\r\n\r\n    return this.parent ? [...this.parent.path, this.name] : [];\r\n  }\r\n}\r\n","import {\r\n  AfterViewChecked,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  forwardRef,\r\n  Host,\r\n  HostBinding,\r\n  OnChanges,\r\n  OnInit,\r\n  Optional,\r\n  SimpleChanges,\r\n  SkipSelf\r\n} from '@angular/core';\r\n\r\n\r\nimport _ from 'lodash';\r\nimport { FormComponent } from '../core.component';\r\nimport { IoControl } from '../interfaces/IoControl';\r\nimport { ControlContainer } from '../interfaces/ControlContainer';\r\nimport { FormControlState } from '../interfaces/Form';\r\n\r\nimport { IonarTemplateDirective } from '@ionar/ui';\r\n\r\nexport const controlNameBinding: any = {\r\n  provide: IoControl,\r\n  useExisting: forwardRef(() => FormControlComponent)\r\n};\r\n\r\n\r\n@Component({\r\n  selector: 'form-control',\r\n  template: `\r\n      <form-label *ngIf=\"!isHideLabel\"></form-label>\r\n\r\n      <form-field></form-field>\r\n\r\n      <form-feedback *ngIf=\"!isHideFeedback\"></form-feedback>\r\n  `,\r\n\r\n  styles: [`\r\n      :host {\r\n          display: grid;\r\n          grid-template-areas: \"label   field\" \". feedback\";\r\n          grid-template-columns: 3fr 7fr;\r\n          grid-template-rows: 1fr auto;\r\n          margin-bottom: 1rem;\r\n          height: auto;\r\n          visibility: visible;\r\n          z-index: 50;\r\n      }\r\n\r\n      :host-context(.hide-label) {\r\n          grid-template-areas: \"field\" \"feedback\";\r\n          grid-template-columns: 1fr;\r\n      }\r\n\r\n      :host-context(.hide-feedback) {\r\n          grid-template-areas: \"label   field\";\r\n          grid-template-columns: 3fr 7fr;\r\n      }\r\n\r\n      :host-context(.hide-label.hide-feedback) {\r\n          grid-template-areas: \"field\";\r\n      }\r\n\r\n      :host-context(.hidden) {\r\n          display: none !important;\r\n      }\r\n\r\n      form-label {\r\n          grid-area: label;\r\n      }\r\n\r\n      form-field {\r\n          grid-area: field;\r\n      }\r\n\r\n      form-feedback {\r\n          grid-area: feedback;\r\n      }\r\n  `],\r\n  providers: [controlNameBinding],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\n\r\n\r\nexport class FormControlComponent extends IoControl implements OnInit, OnChanges, AfterViewChecked {\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n\r\n  get controlTemplateDir(): IonarTemplateDirective {\r\n\r\n    const parent = <FormComponent>this.parent,\r\n      state = <FormControlState>this.control.state;\r\n\r\n    if (this._ioTemplateDir) return this._ioTemplateDir;\r\n\r\n    if (parent.ioTemplateDirList)\r\n      return _.find(parent.ioTemplateDirList.toArray(), ['name', this.name])\r\n        || _.find(parent.ioTemplateDirList.toArray(), ['component', state.component]);\r\n\r\n  };\r\n\r\n  @ContentChild(IonarTemplateDirective) private _ioTemplateDir;\r\n\r\n\r\n  @HostBinding('attr.id')\r\n  get attribute(): string {\r\n    return this.name;\r\n  }\r\n\r\n  @HostBinding('class.hidden')\r\n  get hiddenStyle(): Boolean {\r\n\r\n    return _.get(this.control.options, ['hidden']);\r\n  }\r\n\r\n\r\n  @HostBinding('class.hideLabel')\r\n  get isHideLabel(): Boolean {\r\n    return _.get(this.control.options, ['hideLabel']);\r\n  }\r\n\r\n  @HostBinding('class.hideFeedback')\r\n  get isHideFeedback(): Boolean {\r\n    return _.get(this.control.options, ['hideFeedback']);\r\n  }\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n  constructor(\r\n    @Optional() @Host() @SkipSelf()  parent: ControlContainer,\r\n    cd: ChangeDetectorRef\r\n  ) {\r\n    super(cd);\r\n    this.parent = parent;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n  }\r\n\r\n  ngAfterViewChecked(): void {\r\n\r\n  }\r\n\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Host,\r\n  OnInit, Optional, SkipSelf, TemplateRef\r\n} from '@angular/core';\r\n\r\nimport { FormControlComponent } from '../form-control.component';\r\n\r\n\r\n@Component({\r\n  selector: 'form-field',\r\n  template: `\r\n      <ng-container *ngIf=\"_parent.control\">\r\n          <ng-container\r\n                  dynamic_field\r\n                  [name]=\"_parent.name\"\r\n                  [control]=\"_parent.control\"\r\n                  [root]=\"_parent.root\"\r\n                  [events]=\"{\r\n                    change: onChanged,\r\n                    blur: onTouched,\r\n                    enter: onEntered\r\n              }\"\r\n                  [template]=\"template\"\r\n          >\r\n          </ng-container>\r\n      </ng-container>\r\n\r\n  `,\r\n\r\n  styles: [`\r\n      :host {\r\n          display: flex;\r\n          width: 100%;\r\n          height: 100%;\r\n      }\r\n  `],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FieldComponent implements OnInit, AfterViewInit {\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  /**\r\n   * @description\r\n   * The parent  for the components\r\n   *\r\n   * @internal\r\n   */\r\n  _parent: FormControlComponent | null = null;\r\n\r\n  get template(): TemplateRef<any> {\r\n    return this._parent.controlTemplateDir && this._parent.controlTemplateDir.templateRef;\r\n  };\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n\r\n\r\n  constructor(\r\n    private cd: ChangeDetectorRef,\r\n    @Optional() @Host() @SkipSelf()  parent: FormControlComponent\r\n  ) {\r\n\r\n    this._parent = parent;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n\r\n  }\r\n\r\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\r\n\r\n  onChanged = e => {\r\n    this._parent.control.setValue(e);\r\n  };\r\n\r\n  onTouched = () => {\r\n    this._parent.control.markAsTouched();\r\n  };\r\n\r\n  onEntered = () => {\r\n    // this.formSvs._onEntered()\r\n    // if (this.name === 'password') this.focus = true;\r\n  };\r\n\r\n\r\n}\r\n","import { Directive, ElementRef, HostListener, Input, OnChanges, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '../models/FormGroup';\n\n@Directive({\n  selector: '[submitForm]'\n})\nexport class SubmitDirective implements OnInit, OnDestroy, OnChanges {\n\n  @Input('submitForm') private _formGr: FormGroup;\n  @Input() disabled: Boolean = false;\n\n  @HostListener('click', ['$event'])\n  onClick = (e: MouseEvent) => {\n\n    if (!this.disabled) {\n\n      this._formGr.submit();\n    }\n\n  };\n\n  constructor(private _elRef: ElementRef) {\n\n  }\n\n\n  ngOnInit(): void {\n    // console.log(this._formGr)\n  }\n\n  ngOnChanges() {\n    // console.log(this._formGr)\n  }\n\n  ngOnDestroy() {\n\n  }\n\n\n}\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Host,\r\n  OnDestroy, Optional, SkipSelf\r\n} from '@angular/core';\r\n\r\nimport { FormControl } from '../../models/FormControl';\r\n\r\nimport _ from 'lodash';\r\n\r\nimport { FormControlState } from '../../interfaces/Form';\r\nimport { FormControlComponent } from '../form-control.component';\r\n\r\n\r\n@Component({\r\n  selector: 'form-label',\r\n  template: `\r\n      {{ label}}\r\n  `,\r\n  styles: [`\r\n      :host {\r\n          display: flex;\r\n          align-items: center;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          font-size: 1.6rem;\r\n          font-weight: 700;\r\n          position: relative\r\n      }\r\n  `],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class LabelComponent implements OnDestroy {\r\n  /**\r\n   * @description\r\n   * The parent  for the components\r\n   *\r\n   * @internal\r\n   */\r\n  _parent: FormControlComponent | null = null;\r\n\r\n  get label(): string {\r\n\r\n    const props = (<FormControlState>this._control.state).props;\r\n\r\n    return (props && props.label) ? props.label : _.startCase(this._parent.name);\r\n\r\n  }\r\n\r\n  private get _control(): FormControl {\r\n    return this._parent.control;\r\n  };\r\n\r\n\r\n  constructor(\r\n    private cd: ChangeDetectorRef,\r\n    @Optional() @Host() @SkipSelf()  parent: FormControlComponent\r\n  ) {\r\n    this._parent = parent;\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n    this.cd.detach();\r\n  }\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Host,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit, Optional, SimpleChanges, SkipSelf\r\n} from '@angular/core';\r\nimport { untilDestroyed } from '@ionar/utility';\r\nimport { FormControl } from '../../models/FormControl';\r\nimport { FormControlComponent } from '../form-control.component';\r\n\r\n\r\n@Component({\r\n  selector: 'form-feedback',\r\n  template: `\r\n\r\n      <ng-container *ngIf=\"invalid\">\r\n          <ng-container *ngFor=\"let err of control.errors\">\r\n              <div class=\"feedback\">{{err.message}}</div>\r\n          </ng-container>\r\n\r\n      </ng-container>\r\n\r\n  `,\r\n  //language=SCSS\r\n  styles: [`\r\n      :host {\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: flex-start;\r\n          width: 100%;\r\n          color: #f5222d;\r\n          font-size: 1.2rem;\r\n          margin-top: 0.5rem;\r\n      }\r\n  `],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FeedbackComponent implements OnInit, OnChanges, OnDestroy {\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  /**\r\n   * @description\r\n   * The parent  for the components\r\n   *\r\n   * @internal\r\n   */\r\n  _parent: FormControlComponent | null = null;\r\n\r\n  get control(): FormControl {\r\n    return this._parent.control;\r\n  };\r\n\r\n  public get invalid(): Boolean {\r\n    return this.control.invalid && (this.control.dirty || this.control.touched || this._parent.root.submitted);\r\n  };\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n  constructor(\r\n    private cd: ChangeDetectorRef,\r\n    @Optional() @Host() @SkipSelf()  parent: FormControlComponent\r\n  ) {\r\n    this._parent = parent;\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this._parent.root.statusChanges.pipe(untilDestroyed(this)).subscribe(status => {\r\n      this.cd.markForCheck();\r\n    });\r\n\r\n    this._parent.root.ngSubmit.pipe(untilDestroyed(this)).subscribe(data => {\r\n      this.cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n\r\n  }\r\n\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\r\n\r\n\r\n}\r\n","import _ from 'lodash';\r\nimport { AbstractControl, DISABLED, INVALID, PENDING, VALID } from './AbstractControl';\r\nimport { FormControl } from './FormControl';\r\n\r\nimport { AbstractControlOptions, FormArrayState } from '../interfaces/Form';\r\n\r\n/**\r\n * Tracks the value and validity state of an array of `FormControl`,\r\n * `FormGroup` or `FormArray` instances.\r\n *\r\n * A `FormArray` aggregates the values of each child `FormControl` into an array.\r\n * It calculates its status by reducing the status values of its children. For example, if one of\r\n * the controls in a `FormArray` is invalid, the entire array becomes invalid.\r\n *\r\n * `FormArray` is one of the three fundamental building blocks used to define forms in Angular,\r\n * along with `FormControl` and `FormGroup`.\r\n *\r\n * @usageNotes\r\n *\r\n * ### Create an array of form controls\r\n *\r\n * ```\r\n * const arr = new FormArray([\r\n *   new FormControl('Nancy', Validators.minLength(2)),\r\n *   new FormControl('Drew'),\r\n * ]);\r\n *\r\n * console.log(arr.value);   // ['Nancy', 'Drew']\r\n * console.log(arr.status);  // 'VALID'\r\n * ```\r\n *\r\n * ### Create a form array with array-level validators\r\n *\r\n * You include array-level validators and async validators. These come in handy\r\n * when you want to perform validation that considers the value of more than one child\r\n * control.\r\n *\r\n * The two types of validators are passed in separately as the second and third arg\r\n * respectively, or together as part of an options object.\r\n *\r\n * ```\r\n * const arr = new FormArray([\r\n *   new FormControl('Nancy'),\r\n *   new FormControl('Drew')\r\n * ], {validators: myValidator, asyncValidators: myAsyncValidator});\r\n * ```\r\n *\r\n * ### Set the updateOn property for all controls in a form array\r\n *\r\n * The options object is used to set a default value for each child\r\n * control's `updateOn` property. If you set `updateOn` to `'blur'` at the\r\n * array level, all child controls default to 'blur', unless the child\r\n * has explicitly specified a different `updateOn` value.\r\n *\r\n * ```ts\r\n * const arr = new FormArray([\r\n *    new FormControl()\r\n * ], {updateOn: 'blur'});\r\n * ```\r\n *\r\n * ### Adding or removing controls from a form array\r\n *\r\n * To change the controls in the array, use the `push`, `insert`, or `removeAt` methods\r\n * in `FormArray` itself. These methods ensure the controls are properly tracked in the\r\n * form's hierarchy. Do not modify the array of `AbstractControl`s used to instantiate\r\n * the `FormArray` directly, as that result in strange and unexpected behavior such\r\n * as broken change detection.\r\n *\r\n * @publicApi\r\n */\r\nexport class FormArray extends AbstractControl {\r\n\r\n\r\n  /**\r\n   * Creates a new `FormArray` instance.\r\n   *\r\n   * @param controls An array of child controls. Each child control is given an index\r\n   * where it is registered.\r\n   *\r\n   * @param validatorOrOpts A synchronous validator function, or an array of\r\n   * such functions, or an `AbstractControlOptions` object that contains validation functions\r\n   * and a validation trigger.\r\n   *\r\n   * @param asyncValidator A single async validator or array of async validator functions\r\n   *\r\n   */\r\n  constructor(state: FormArrayState, options?: AbstractControlOptions) {\r\n    super(\r\n      null,\r\n      <AbstractControlOptions | null>options\r\n    );\r\n    this._setUpControls(state);\r\n    this._initObservables();\r\n    this.updateValueAndValidity({ onlySelf: true, emitEvent: false });\r\n\r\n  }\r\n\r\n  /**\r\n   * Get the `AbstractControl` at the given `index` in the array.\r\n   *\r\n   * @param index Index in the array to retrieve the control\r\n   */\r\n  at(index: number): AbstractControl {\r\n    return this.controls[index];\r\n  }\r\n\r\n  /**\r\n   * Insert a new `AbstractControl` at the end of the array.\r\n   *\r\n   * @param control Form control to be inserted\r\n   */\r\n  push(control: AbstractControl): void {\r\n    control.setParent(this);\r\n    (<AbstractControl[]>this.controls).push(control);\r\n    this.updateValueAndValidity();\r\n  }\r\n\r\n  /**\r\n   * Insert a new `AbstractControl` at the given `index` in the array.\r\n   *\r\n   * @param index Index in the array to insert the control\r\n   * @param control Form control to be inserted\r\n   */\r\n  insert(index: number, control: AbstractControl): void {\r\n    control.setParent(this);\r\n    (<AbstractControl[]>this.controls).splice(index, 0, control);\r\n\r\n    this.updateValueAndValidity();\r\n  }\r\n\r\n  /**\r\n   * Remove the control at the given `index` in the array.\r\n   *\r\n   * @param index Index in the array to remove the control\r\n   */\r\n  removeAt(index: number): void {\r\n\r\n    (<AbstractControl[]>this.controls).splice(index, 1);\r\n    this.updateValueAndValidity();\r\n  }\r\n\r\n  /**\r\n   * Replace an existing control.\r\n   *\r\n   * @param index Index in the array to replace the control\r\n   * @param control The `AbstractControl` control to replace the existing control\r\n   */\r\n  setControl(index: number, control: AbstractControl): void {\r\n\r\n    (<AbstractControl[]>this.controls).splice(index, 1);\r\n\r\n    if (control) {\r\n      control.setParent(this);\r\n      (<AbstractControl[]>this.controls).splice(index, 0, control);\r\n    }\r\n\r\n    this.updateValueAndValidity();\r\n\r\n  }\r\n\r\n  /**\r\n   * Length of the control array.\r\n   */\r\n  get length(): number {\r\n    return (<AbstractControl[]>this.controls).length;\r\n  }\r\n\r\n  /**\r\n   * Sets the value of the `FormArray`. It accepts an array that matches\r\n   * the structure of the control.\r\n   *\r\n   * This method performs strict checks, and throws an error if you try\r\n   * to set the value of a control that doesn't exist or if you exclude the\r\n   * value of a control.\r\n   *\r\n   * @usageNotes\r\n   * ### Set the values for the controls in the form array\r\n   *\r\n   * ```\r\n   * const arr = new FormArray([\r\n   *   new FormControl(),\r\n   *   new FormControl()\r\n   * ]);\r\n   * console.log(arr.value);   // [null, null]\r\n   *\r\n   * arr.setValue(['Nancy', 'Drew']);\r\n   * console.log(arr.value);   // ['Nancy', 'Drew']\r\n   * ```\r\n   *\r\n   * @param value Array of values for the controls\r\n   * @param options Configure options that determine how the control propagates changes and\r\n   * emits events after the value changes\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default\r\n   * is false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control value is updated.\r\n   * When false, no events are emitted.\r\n   * The options options are passed to the {@link AbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   */\r\n  setValue(value: any[], options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    this._checkAllValuesPresent(value);\r\n    value.forEach((newValue: any, index: number) => {\r\n      this._throwIfControlMissing(index);\r\n      this.at(index).setValue(newValue, { onlySelf: true, emitEvent: options.emitEvent });\r\n    });\r\n    this.updateValueAndValidity(options);\r\n  }\r\n\r\n\r\n  /**\r\n   * Resets the `FormArray` and all descendants are marked `pristine` and `untouched`, and the\r\n   * value of all descendants to null or null maps.\r\n   *\r\n   * You reset to a specific form state by passing in an array of states\r\n   * that matches the structure of the control. The state is a standalone value\r\n   * or a form state object with both a value and a disabled status.\r\n   *\r\n   * @usageNotes\r\n   * ### Reset the values in a form array\r\n   *\r\n   * ```ts\r\n   * const arr = new FormArray([\r\n   *    new FormControl(),\r\n   *    new FormControl()\r\n   * ]);\r\n   * arr.reset(['name', 'last name']);\r\n   *\r\n   * console.log(this.arr.value);  // ['name', 'last name']\r\n   * ```\r\n   *\r\n   * ### Reset the values in a form array and the disabled status for the first control\r\n   *\r\n   * ```\r\n   * this.arr.reset([\r\n   *   {value: 'name', disabled: true},\r\n   *   'last'\r\n   * ]);\r\n   *\r\n   * console.log(this.arr.value);  // ['name', 'last name']\r\n   * console.log(this.arr.get(0).status);  // 'DISABLED'\r\n   * ```\r\n   *\r\n   * @param value Array of values for the controls\r\n   * @param options Configure options that determine how the control propagates changes and\r\n   * emits events after the value changes\r\n   *\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default\r\n   * is false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   * The options options are passed to the {@link AbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   */\r\n  reset(value: any = [], options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    // this._forEachChild((control: AbstractControl, index: number) => {\r\n    //   control.reset(value[index], { onlySelf: true, emitEvent: options.emitEvent });\r\n    // });\r\n    // this.updateValueAndValidity(options);\r\n    // this._updatePristine(options);\r\n    // this._updateTouched(options);\r\n    if (_.has(this.options, ['submitOnChange'])) {\r\n\r\n      this.root.submit(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear the `FormGroup`, marks all descendants are marked `pristine` and `untouched`, and\r\n   * the value of all descendants to null.\r\n   *\r\n   * You reset to a specific form state by passing in a map of states\r\n   * that matches the structure of your form, with control names as keys. The state\r\n   * is a standalone value or a form state object with both a value and a disabled\r\n   * status.\r\n   *\r\n   * @param formState Resets the control with an initial value,\r\n   * or an object that defines the initial value and disabled state.\r\n   *\r\n   * @param options options options that determine how the control propagates changes\r\n   * and emits events when the group is reset.\r\n   * * `onlySelf`: When true, each change only affects this control, and not its parent. Default is\r\n   * false.\r\n   * * `emitEvent`: When true or not supplied (the default), both the `statusChanges` and\r\n   * `valueChanges`\r\n   * observables emit events with the latest status and value when the control is reset.\r\n   * When false, no events are emitted.\r\n   * The options options are passed to the {@link AbstractControl#updateValueAndValidity\r\n   * updateValueAndValidity} method.\r\n   *\r\n   * @usageNotes\r\n   *\r\n   * ### Reset the form group values\r\n   *\r\n   * ```ts\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * console.log(form.value);  // {first: 'first name', last: 'last name'}\r\n   *\r\n   * form.reset({ first: 'name', last: 'last name' });\r\n   *\r\n   * console.log(form.value);  // {first: 'name', last: 'last name'}\r\n   * ```\r\n   *\r\n   * ### Reset the form group values and disabled status\r\n   *\r\n   * ```\r\n   * const form = new FormGroup({\r\n   *   first: new FormControl('first name'),\r\n   *   last: new FormControl('last name')\r\n   * });\r\n   *\r\n   * form.reset({\r\n   *   first: {value: 'name', disabled: true},\r\n   *   last: 'last'\r\n   * });\r\n   *\r\n   * console.log(this.form.value);  // {first: 'name', last: 'last name'}\r\n   * console.log(this.form.get('first').status);  // 'DISABLED'\r\n   * ```\r\n   */\r\n  clear(options: { onlySelf?: boolean, emitEvent?: boolean } = {}): void {\r\n    _.each(this.controls, (c: AbstractControl) => {\r\n      c.clear({ onlySelf: true, emitEvent: options.emitEvent });\r\n    });\r\n\r\n    this.updateValueAndValidity(options);\r\n    if (_.has(this.options, ['submitOnChange'])) {\r\n\r\n      this.root.submit(true);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The aggregate value of the array, including any disabled controls.\r\n   *\r\n   * Reports all values regardless of disabled status.\r\n   * For enabled controls only, the `value` property is the best way to get the value of the array.\r\n   */\r\n  getRawValue(): any[] {\r\n    return (<AbstractControl[]>this.controls).map((control: AbstractControl) => {\r\n      return control instanceof FormControl ? control.value : (<any>control).getRawValue();\r\n    });\r\n  }\r\n\r\n  /** @internal */\r\n  _setUpControls(controlConfig: FormArrayState): void {\r\n    (<FormArrayState>this.controls) = [];\r\n    _.each(controlConfig, (c: AbstractControl, index) => {\r\n\r\n      c.setParent(this);\r\n      (<FormArrayState>this.controls).push(c);\r\n    });\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _throwIfControlMissing(index: number): void {\r\n    if (!this.controls.length) {\r\n      throw new Error(`\r\n        There are no form controls registered with this array yet.  If you're using ngModel,\r\n        you may want to check next tick (e.g. use setTimeout).\r\n      `);\r\n    }\r\n    if (!this.at(index)) {\r\n      throw new Error(`Cannot find form control at index ${index}`);\r\n    }\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _updateValue(): void {\r\n    (this as { value: any }).value =\r\n      // .filter((control) => control.enabled || this.disabled)\r\n      //   .map((control) => control.value);\r\n\r\n      _((<FormArrayState>this.controls))\r\n        .filter((control: AbstractControl) => control.enabled || this.disabled)\r\n        .map(control => control.value)\r\n        .compact()\r\n        .value();\r\n  }\r\n\r\n\r\n  /** @internal */\r\n  _checkAllValuesPresent(value: any): void {\r\n    // this._forEachChild((control: AbstractControl, i: number) => {\r\n    //   if (value[i] === undefined) {\r\n    //     throw new Error(`Must supply a value for form control at index: ${i}.`);\r\n    //   }\r\n    // });\r\n  }\r\n\r\n  /** @internal */\r\n  _allControlsDisabled(): boolean {\r\n    return _.every(_.values(this.controls), (c: AbstractControl) => c.disabled);\r\n  }\r\n\r\n  /** @internal */\r\n  _anyControlsHaveStatus(status: string): boolean {\r\n\r\n    return !!_.find(_.values(this.controls), ['status', status]);\r\n  }\r\n\r\n}\r\n","import { AfterViewInit, Injectable, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\r\nimport { FormGroup } from '../models/FormGroup';\r\nimport { AbstractControl } from '../models/AbstractControl';\r\nimport { FormControl } from '../models/FormControl';\r\nimport _ from 'lodash';\r\nimport { FormArray } from '../models/FormArray';\r\nimport { FormArrayState, FormGroupState } from '../interfaces/Form';\r\n\r\n\r\n@Injectable()\r\n\r\nexport class FormService implements OnInit, AfterViewInit, OnChanges, OnDestroy {\r\n\r\n  ngAfterViewInit(): void {\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  mergeControls = (controls: FormGroupState | FormArrayState, parent_name: string = null) => {\r\n    let result = [];\r\n    //\r\n\r\n\r\n    if (_.isPlainObject(controls)) {\r\n      _.forOwn(controls, (c: AbstractControl, name: string) => {\r\n        const control_name = parent_name ? `${parent_name}[${name}]` : name;\r\n\r\n        if (c instanceof FormControl) result.push(control_name);\r\n\r\n        if (c instanceof FormGroup) result = result.concat(this.mergeControls(c.controls, control_name));\r\n\r\n        if (c instanceof FormArray) result = result.concat(this.mergeControls(c.controls, control_name));\r\n      });\r\n    }\r\n\r\n    if (_.isArray(controls)) {\r\n      _.each(controls, (c: AbstractControl, index) => {\r\n\r\n        if (c instanceof FormControl) result.push(`${parent_name}[${index}]`);\r\n\r\n        if (c instanceof FormGroup) result = result.concat(this.mergeControls(c.controls, `${parent_name}[${index}]`));\r\n\r\n        if (c instanceof FormArray) result = result.concat(this.mergeControls(c.controls, `${parent_name}[${index}]`));\r\n      });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n\r\n  convertToFormData = data => {\r\n    const form = new FormData();\r\n\r\n    _.forOwn(data, (value, key) => {\r\n      if (_.isArray(value)) {\r\n        _.each(value, file => form.append(`${key}[]`, file, file.name));\r\n      } else form.append(key, value);\r\n\r\n    });\r\n\r\n    return form;\r\n  };\r\n\r\n  convertToMediaType = (value, media_type) => {\r\n\r\n    if (media_type) {\r\n      switch (media_type.toLowerCase()) {\r\n        case 'json':\r\n          return JSON.stringify(value);\r\n        case 'form-data':\r\n          return this.convertToFormData(value);\r\n        default:\r\n          return value;\r\n      }\r\n    }\r\n    return value;\r\n  };\r\n\r\n}\r\n\r\n\r\n","/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\nexport const FormErrorExamples = {\r\n  formControlName: `\r\n    <io-form [formGroup]=\"myGroup\">\r\n      <form-control [name]=\" 'firstName' \"></form-control>\r\n    </io-form>\r\n\r\n    In your class:\r\n\r\n    constructor( private _fb: IonarFormBuilder){}\r\n\r\n    this.myGroup = this._fb.group({\r\n        firstName: {\r\n            component: 'input',\r\n            props: {\r\n                value: 'YourName'\r\n            },\r\n            validators: {\r\n                required: true\r\n            }\r\n        }\r\n    });`,\r\n\r\n\r\n\r\n  formGroupName: `\r\n    <div [formGroup]=\"myGroup\">\r\n       <div formGroupName=\"person\">\r\n          <input formControlName=\"firstName\">\r\n       </div>\r\n    </div>\r\n\r\n    In your class:\r\n\r\n    this.myGroup = new FormGroup({\r\n       person: new FormGroup({ firstName: new FormControl() })\r\n    });`,\r\n\r\n  formArrayName: `\r\n    <div [formGroup]=\"myGroup\">\r\n      <div formArrayName=\"cities\">\r\n        <div *ngFor=\"let city of cityArray.controls; index as i\">\r\n          <input [formControlName]=\"i\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    In your class:\r\n\r\n    this.cityArray = new FormArray([new FormControl('SF')]);\r\n    this.myGroup = new FormGroup({\r\n      cities: this.cityArray\r\n    });`,\r\n\r\n  ngModelGroup: `\r\n    <form>\r\n       <div ngModelGroup=\"person\">\r\n          <input [(ngModel)]=\"person.name\" name=\"firstName\">\r\n       </div>\r\n    </form>`,\r\n\r\n  ngModelWithFormGroup: `\r\n    <div [formGroup]=\"myGroup\">\r\n       <input formControlName=\"firstName\">\r\n       <input [(ngModel)]=\"showMoreControls\" [ngModelOptions]=\"{standalone: true}\">\r\n    </div>\r\n  `\r\n};\r\n","/**\r\n * @license\r\n * Copyright Google Inc. All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n\r\n\r\nimport { FormErrorExamples as Examples } from './error_examples';\r\n\r\nexport class ReactiveErrors {\r\n  static controlParentException(): void {\r\n    throw new Error(\r\n      `formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\r\n       directive and pass it an existing FormGroup instance (you can create one in your class).\r\n\r\n      Example:\r\n\r\n      ${Examples.formControlName}`);\r\n  }\r\n\r\n  static ngModelGroupException(): void {\r\n    throw new Error(\r\n      `formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\r\n       that also have a \"form\" prefix: formGroupName, formArrayName, or formGroup.\r\n\r\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\r\n\r\n        ${Examples.formGroupName}\r\n\r\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\r\n\r\n        ${Examples.ngModelGroup}`);\r\n  }\r\n\r\n  static missingFormException(): void {\r\n    throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\r\n\r\n       Example:\r\n\r\n       ${Examples.formControlName}`);\r\n  }\r\n\r\n  static groupParentException(): void {\r\n    throw new Error(\r\n      `formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\r\n      directive and pass it an existing FormGroup instance (you can create one in your class).\r\n\r\n      Example:\r\n\r\n      ${Examples.formGroupName}`);\r\n  }\r\n\r\n  static arrayParentException(): void {\r\n    throw new Error(\r\n      `formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\r\n       directive and pass it an existing FormGroup instance (you can create one in your class).\r\n\r\n        Example:\r\n\r\n        ${Examples.formArrayName}`);\r\n  }\r\n\r\n  static disabledAttrWarning(): void {\r\n    console.warn(`\r\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\r\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\r\n      you. We recommend using this approach to avoid 'changed after checked' errors.\r\n       \r\n      Example: \r\n      form = new FormGroup({\r\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\r\n        last: new FormControl('Drew', Validators.required)\r\n      });\r\n    `);\r\n  }\r\n\r\n  static ngModelWarning(directiveName: string): void {\r\n    console.warn(`\r\n    It looks like you're using ngModel on the same form field as ${directiveName}. \r\n    Support for using the ngModel input property and ngModelChange event with \r\n    reactive form directives has been deprecated in Angular v6 and will be removed \r\n    in Angular v7.\r\n    \r\n    For more information on this, see our API docs here:\r\n    https://angular.io/api/forms/${directiveName === 'formControl' ? 'FormControlDirective'\r\n      : 'FormControlName'}#use-with-ngmodel\r\n    `);\r\n  }\r\n}\r\n","import { AbstractControl } from '../models/AbstractControl';\r\nimport { FormControl } from '../models/FormControl';\r\nimport { FormGroup } from '../models/FormGroup';\r\nimport { FormArray } from '../models/FormArray';\r\n\r\nexport const isFormControl = (c: any) => {\r\n  return c instanceof FormControl;\r\n};\r\n\r\nexport const isFormGroup = (c: any) => {\r\n\r\n  return c instanceof FormGroup;\r\n};\r\n\r\nexport const isFormArray = (c: any) => {\r\n\r\n  return c instanceof FormArray;\r\n};","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  QueryList,\r\n  SimpleChanges, TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { FormService } from './providers/form.service';\r\nimport { FormGroup } from './models/FormGroup';\r\nimport { untilDestroyed } from '@ionar/utility';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\n\r\nimport { ControlContainer } from './interfaces/ControlContainer';\r\nimport { ReactiveErrors } from './utils/reactive_errors';\r\n\r\nimport { isFormArray, isFormControl, isFormGroup } from './utils/helpers';\r\n\r\nimport { IonarTemplateDirective, isEmptyTemplate } from '@ionar/ui';\r\n\r\n\r\nexport const formProvider: any = {\r\n  provide: ControlContainer,\r\n  useExisting: forwardRef(() => FormComponent)\r\n};\r\n\r\n@Component({\r\n  selector: 'io-form',\r\n  template: `\r\n      <ng-container>\r\n\r\n          <ng-container *ngIf=\"!default_template\">\r\n              <ng-content></ng-content>\r\n          </ng-container>\r\n\r\n\r\n          <ng-container *ngIf=\"default_template\">\r\n              <ng-container\r\n                      *ngFor=\"let item of form.controls | keyvalue\"\r\n                      [ngTemplateOutlet]=\"controlTemplate\"\r\n                      [ngTemplateOutletContext]=\"{$implicit: item, parent: this}\"\r\n              ></ng-container>\r\n          </ng-container>\r\n\r\n          <ng-template #controlTemplate let-data let-parent=\"parent\">\r\n              <ng-container *ngIf=\"isFormControl(data.value)\">\r\n                  <form-control [parent]=\"parent\" [name]=\"data.key\"></form-control>\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"isFormArray(data.value)\">\r\n                  <form-array\r\n                          [name]=\"data.key\"\r\n                          [parent]=\"parent\"\r\n                  >\r\n\r\n                  </form-array>\r\n              </ng-container>\r\n\r\n              <ng-container *ngIf=\"isFormGroup(data.value)\">\r\n                  <form-group\r\n                          [name]=\"data.key\"\r\n                          [parent]=\"parent\"\r\n                  >\r\n                  </form-group>\r\n              </ng-container>\r\n          </ng-template>\r\n\r\n      </ng-container>\r\n  `,\r\n  styles: [`\r\n\r\n  `],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [FormService, formProvider]\r\n})\r\n\r\nexport class FormComponent extends ControlContainer implements OnInit, OnChanges, AfterViewInit, OnDestroy {\r\n\r\n  /**\r\n   * @description\r\n   * Tracks the `FormGroup` bound to this components.\r\n   */\r\n  @Input('formGroup') form: FormGroup = null;\r\n\r\n  @Input() mediaType: String;\r\n\r\n  /**\r\n   * @description\r\n   * Emits an event when the form submission has been triggered.\r\n   */\r\n  @Output() submit = new EventEmitter();\r\n\r\n  @ViewChild('contentVc', { read: ViewContainerRef }) private _contentVcRef: ViewContainerRef;\r\n\r\n  @ViewChild('controlTemplate') controlTemplate: TemplateRef<any>;\r\n\r\n  @ContentChildren(IonarTemplateDirective) ioTemplateDirList: QueryList<IonarTemplateDirective>;\r\n\r\n  // @ContentChildren(ControlContainer) private _controlContainerList: QueryList<ControlContainer>;\r\n  //\r\n  // @ContentChildren(IoControl) private _ioControlList: QueryList<IoControl>;\r\n\r\n  default_template: Boolean;\r\n\r\n  isFormControl = isFormControl;\r\n  isFormGroup = isFormGroup;\r\n  isFormArray = isFormArray;\r\n\r\n  constructor(\r\n    private _formSvs: FormService,\r\n    private _elRef: ElementRef,\r\n    cd: ChangeDetectorRef\r\n  ) {\r\n    super(cd);\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this._checkFormPresent();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n    this._checkFormPresent();\r\n\r\n    if (!changes.form.previousValue && changes.form.currentValue) {\r\n\r\n      this.form.ngSubmit\r\n        .pipe(untilDestroyed(this), distinctUntilChanged())\r\n        .subscribe((data: { value: any, instant: boolean }) => {\r\n\r\n          if (this.form.valid || data.instant) {\r\n\r\n            this.submit.emit(this._formSvs.convertToMediaType(data.value, this.mediaType));\r\n          }\r\n\r\n        });\r\n\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.default_template = isEmptyTemplate(this._elRef);\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n  /**\r\n   * @description\r\n   * Returns the `FormGroup` bound to whole module.\r\n   */\r\n  get root(): FormGroup {\r\n    return this.form;\r\n  }\r\n\r\n\r\n  /**\r\n   * @description\r\n   * Returns an array representing the path to this group. Because this components\r\n   * always lives at the top level of a form, it always an empty array.\r\n   */\r\n  get path(): string[] {\r\n    return [];\r\n  }\r\n\r\n  private _checkFormPresent() {\r\n    if (!this.form) {\r\n      ReactiveErrors.missingFormException();\r\n    }\r\n  }\r\n\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  forwardRef,\r\n  Host,\r\n  HostBinding,\r\n  Optional,\r\n  QueryList,\r\n  SkipSelf,\r\n  TemplateRef\r\n} from '@angular/core';\r\n\r\nimport { ControlContainer } from '../interfaces/ControlContainer';\r\nimport { FormComponent } from '../core.component';\r\nimport { isEmptyTemplate } from '@ionar/ui';\r\nimport { AbstractControl } from '../models/AbstractControl';\r\n\r\n\r\nexport const formArrayProvider: any = {\r\n  provide: ControlContainer,\r\n  useExisting: forwardRef(() => FormArrayComponent)\r\n};\r\n\r\n@Component({\r\n  selector: 'form-array',\r\n  exportAs: 'form-array',\r\n  template: `\r\n      <ng-container *ngIf=\"isDefaultTemplate\">\r\n          <ng-container\r\n                  *ngFor=\"let item of control | keyvalue\"\r\n                  [ngTemplateOutlet]=\"controlTemplate\"\r\n                  [ngTemplateOutletContext]=\"{$implicit: item, parent: this}\"\r\n          ></ng-container>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!isDefaultTemplate\">\r\n          <ng-content></ng-content>\r\n      </ng-container>\r\n  `,\r\n\r\n  styles: [`\r\n\r\n  `],\r\n  providers: [formArrayProvider],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormArrayComponent extends ControlContainer implements AfterViewInit {\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  isDefaultTemplate: Boolean;\r\n\r\n  get controlTemplate(): TemplateRef<any> {\r\n    return (<FormComponent>this.parent).controlTemplate;\r\n  }\r\n\r\n  @HostBinding('attr.id')\r\n  get attribute(): string {\r\n    return this.name;\r\n  }\r\n\r\n  get control() {\r\n    return <AbstractControl[]>this.root.get(this.path);\r\n  }\r\n\r\n  @ContentChildren(ControlContainer) private _controlContainers: QueryList<ControlContainer>;\r\n\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n  constructor(\r\n    @Optional() @Host() @SkipSelf()  parent: ControlContainer,\r\n    private _elRef: ElementRef,\r\n    cd: ChangeDetectorRef\r\n  ) {\r\n    super(cd);\r\n\r\n    this.parent = parent;\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.isDefaultTemplate = isEmptyTemplate(this._elRef);\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n}\r\n\r\n\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy, ChangeDetectorRef,\r\n  Component, ContentChildren, ElementRef,\r\n  forwardRef,\r\n  Host,\r\n  HostBinding,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional, QueryList,\r\n  SkipSelf, TemplateRef,\r\n  ViewContainerRef\r\n} from '@angular/core';\r\nimport { ControlContainer } from '../interfaces/ControlContainer';\r\nimport { isEmptyTemplate } from '@ionar/ui';\r\nimport { FormComponent } from '../core.component';\r\n\r\nimport { IoControl } from '../interfaces/IoControl';\r\nimport { AbstractControl } from '../models/AbstractControl';\r\n\r\n\r\nexport const formGroupProvider: any = {\r\n  provide: ControlContainer,\r\n  useExisting: forwardRef(() => FormGroupComponent)\r\n};\r\n\r\n\r\n@Component({\r\n  selector: 'form-group',\r\n  exportAs: 'form-group',\r\n  template: `\r\n      <ng-container *ngIf=\"isDefaultTemplate\">\r\n          <ng-container\r\n                  *ngFor=\"let item of control | keyvalue\"\r\n                  [ngTemplateOutlet]=\"controlTemplate\"\r\n                  [ngTemplateOutletContext]=\"{$implicit: item, parent: this}\"\r\n          ></ng-container>\r\n      </ng-container>\r\n      <ng-container *ngIf=\"!isDefaultTemplate\">\r\n          <ng-content></ng-content>\r\n      </ng-container>\r\n  `,\r\n\r\n  styles: [`\r\n\r\n  `],\r\n\r\n  providers: [formGroupProvider],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class FormGroupComponent extends ControlContainer implements OnInit, AfterViewInit, OnDestroy {\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  isDefaultTemplate: Boolean;\r\n\r\n  get controlTemplate(): TemplateRef<any> {\r\n    return (<FormComponent>this.parent).controlTemplate;\r\n  }\r\n\r\n  @HostBinding('attr.id')\r\n  get attribute(): string {\r\n    return this.name;\r\n  }\r\n\r\n  get control() {\r\n    return <{ [name: string]: AbstractControl }>this.root.get(this.path);\r\n  }\r\n\r\n\r\n  @ContentChildren(ControlContainer) private _controlContainerList: QueryList<ControlContainer>;\r\n\r\n  @ContentChildren(IoControl) private _ioControlList: QueryList<IoControl>;\r\n\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n\r\n  constructor(\r\n    @Optional() @Host() @SkipSelf()  parent: ControlContainer,\r\n    private _vcRef: ViewContainerRef,\r\n    private _elRef: ElementRef,\r\n    cd: ChangeDetectorRef\r\n  ) {\r\n    super(cd);\r\n    this.parent = parent;\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    super.ngOnInit();\r\n  }\r\n\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n    this.isDefaultTemplate = isEmptyTemplate(this._elRef);\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n\r\n\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DynamicFieldDirective } from './directives/dynamic-field.directive';\r\n\r\nimport { FieldComponent } from './components/control/field.component';\r\n\r\nimport { SubmitDirective } from './directives/submit.directive';\r\n\r\n\r\nimport { FormControlComponent } from './components/form-control.component';\r\nimport { LabelComponent } from './components/control/label.component';\r\nimport { FeedbackComponent } from './components/control/feedback.component';\r\nimport { FormComponent } from './core.component';\r\nimport { FormArrayComponent } from './components/form-array.component';\r\nimport { FormGroupComponent } from './components/form-group.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FormComponent,\r\n    FieldComponent, FormControlComponent, LabelComponent, FeedbackComponent,\r\n    FormArrayComponent,\r\n    FormGroupComponent,\r\n\r\n    DynamicFieldDirective, SubmitDirective\r\n  ],\r\n\r\n  imports: [CommonModule],\r\n  exports: [\r\n    FormComponent,\r\n    FieldComponent,\r\n\r\n    FormControlComponent,\r\n    FormArrayComponent,\r\n    FormGroupComponent,\r\n    LabelComponent, FeedbackComponent,\r\n\r\n    SubmitDirective\r\n  ]\r\n})\r\nexport class CoreModule {\r\n}\r\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\r\nimport _ from 'lodash';\r\n\r\n\r\n@Component({\r\n  selector: 'io-select',\r\n  templateUrl: './select.component.html',\r\n  styleUrls: ['./select.component.scss']\r\n})\r\n\r\nexport class SelectComponent implements OnInit {\r\n\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n  show_menu: Boolean = false;\r\n  selected_option: any = null;\r\n  @Input() options: any = null;\r\n  @Input() value = null;\r\n  @Output() change = new EventEmitter();\r\n  @Output() blur = new EventEmitter();\r\n  @Input() invalid: Boolean = false;\r\n\r\n\r\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\r\n\r\n  constructor(private eRef: ElementRef) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.value) {\r\n      this.selected_option = _.find(this.options, ['value', this.value.toString()]);\r\n    }\r\n  }\r\n\r\n  ///-----------------------------------------------  General Functions   -----------------------------------------------///\r\n\r\n\r\n  onToggleMenu = () => {\r\n    this.show_menu = !this.show_menu;\r\n  };\r\n\r\n\r\n  onChange = option => {\r\n\r\n    this.options = _.map(this.options, (item: { value: any, label: any, selected: Boolean }) => {\r\n      item.selected = _.isEqual(item, option);\r\n      this.selected_option = item;\r\n      return item;\r\n    });\r\n    this.show_menu = false;\r\n\r\n    this.change.emit(this.selected_option.value);\r\n\r\n  };\r\n\r\n  ///-----------------------------------------------  Host   -----------------------------------------------///\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  clickout(event) {\r\n    if (!this.eRef.nativeElement.contains(event.target)) {\r\n      this.show_menu = false;\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import { Component, ElementRef, HostBinding, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\n\n\n@Component({\n  selector: 'control',\n  templateUrl: './control.component.html',\n  styleUrls: ['./control.component.scss'],\n\n})\nexport class ControlComponent implements OnInit {\n  @Input() show_menu = false;\n  @Input() label = null;\n\n  constructor(private eRef: ElementRef) {\n  }\n\n  ngOnInit() {\n    this.eRef.nativeElement.focus();\n  }\n\n  @HostBinding() tabindex = 0;\n\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'menu',\n  template: `\n      <ng-container *ngFor=\"let option of options\">\n          <select-option\n                  [data]=\"option\"\n                  (click)=\"this.onSelectOption.emit(option)\"\n          ></select-option>\n      </ng-container>\n  `,\n  styles: [`\n      :host {\n          background-color: white;\n          border-radius: 5px;\n          box-sizing: border-box;\n          border: 1px solid rgb(196, 202, 212);\n          overflow-y: scroll;\n          padding: 0 10px;\n          position: absolute;\n          top: 100%;\n          z-index: 9999;\n          width: 100%;\n          max-height: 20rem;\n      }\n  `]\n})\nexport class MenuComponent implements OnInit {\n  @Input() options = [];\n  @Output() onSelectOption = new EventEmitter<any>();\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n}\n","import { AfterViewInit, Component, HostBinding, HostListener, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'select-option',\n  template: `\n      <p>\n          {{data.label}}\n      </p>`,\n  styleUrls: ['./option.component.scss']\n})\nexport class OptionComponent implements OnInit {\n  @Input() data = null;\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.selected = this.data.selected;\n    this.disabled = this.data.disabled;\n  }\n\n\n  @HostBinding('class.selected') selected: Boolean = false;\n  @HostBinding('class.disabled') disabled: Boolean = false;\n\n  @HostListener('click', ['$event.target']) onClick(btn) {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SelectComponent } from './container/select.component';\r\nimport { ControlComponent } from './components/control/control.component';\r\nimport { MenuComponent } from './components/menu/menu.component';\r\nimport { OptionComponent } from './components/menu/option/option.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SelectComponent,\r\n    ControlComponent,\r\n    MenuComponent,\r\n    OptionComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    SelectComponent\r\n  ],\r\n  entryComponents: [SelectComponent]\r\n})\r\nexport class SelectModule {\r\n}\r\n","import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input, OnChanges,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { el } from '@angular/platform-browser/testing/src/browser_util';\n\n@Component({\n  selector: 'click',\n  templateUrl: './click.component.html',\n  styleUrls: ['./click.component.scss']\n})\nexport class ClickComponent implements OnInit, OnChanges {\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\n  @Output() change = new EventEmitter();\n\n  @Input() template: TemplateRef<any>;\n  @Input() multiple: Boolean = false;\n  @Input() title: any = ''\n\n\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n\n  ngOnChanges(changes): void {\n  }\n\n\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\n\n}\n","import { Component, EventEmitter, HostBinding, HostListener, Input, OnInit, Output, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'drop',\n  templateUrl: './drop.component.html',\n  styleUrls: ['./drop.component.scss']\n})\nexport class DropComponent implements OnInit {\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\n\n  @Output() change = new EventEmitter();\n  @Input() multiple: Boolean = false;\n  @Input() template: TemplateRef<any>;\n\n  @HostBinding('class.drop_hover') drop_hover: Boolean = false;\n\n  @HostListener('drop', ['$event'])\n  onDrop = $event => {\n    event.preventDefault();\n    this.change.emit($event.dataTransfer.files);\n    this.drop_hover = false;\n  };\n\n  @HostListener('dragover', ['$event'])\n  onDragOver = $event => {\n    event.preventDefault();\n    this.drop_hover = true;\n  };\n\n  @HostListener('dragleave', ['$event'])\n  onDragLeave = $event => {\n    event.preventDefault();\n    this.drop_hover = false;\n  };\n\n  ///-----------------------------------------------  Life Cycle Hook   -----------------------------------------------///\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n\n\n  ///-----------------------------------------------  Main Functions   -----------------------------------------------///\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UploadComponent } from './containers/upload.component';\r\nimport { ClickComponent } from './components/upload-zone/click/click.component';\r\nimport { DropComponent } from './components/upload-zone/drop/drop.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    UploadComponent,\r\n    ClickComponent,\r\n    DropComponent,\r\n  ],\r\n  imports: [CommonModule],\r\n  exports: [UploadComponent],\r\n  entryComponents: [UploadComponent]\r\n})\r\nexport class UploadModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { InputComponent } from './input.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonarUI } from '@ionar/ui';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InputComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    IonarUI\r\n  ],\r\n  exports: [\r\n    InputComponent\r\n  ],\r\n  entryComponents: [InputComponent]\r\n})\r\nexport class InputModule {\r\n}\r\n","import { Component, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'io-checkbox',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.scss']\n})\nexport class CheckboxComponent implements OnInit {\n\n  @Input() label: string;\n  @Input() title: any = '';\n  @Input() value: Boolean = false;\n  @Output() change = new EventEmitter();\n  @Output() blur = new EventEmitter();\n  @Input() invalid: Boolean = false;\n\n\n  @HostListener('click')\n  onClick = () => {\n    this.value = !this.value;\n    this.change.emit(this.value);\n  };\n\n  constructor() {\n  }\n\n  ngOnInit() {\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { CheckboxComponent } from './checkbox.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CheckboxComponent\r\n  ],\r\n  exports: [\r\n    CheckboxComponent\r\n  ],\r\n  entryComponents: [CheckboxComponent]\r\n})\r\nexport class CheckboxModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport {TextareaComponent } from './textarea.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TextareaComponent\r\n  ],\r\n  exports: [TextareaComponent],\r\n  entryComponents: [TextareaComponent]\r\n})\r\nexport class TextareaModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { MenuComponent } from './menu.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MenuComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    MenuComponent\r\n  ],\r\n  entryComponents: [MenuComponent]\r\n})\r\nexport class MenuModule {\r\n}\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef, EventEmitter,\r\n  Input, OnChanges,\r\n  OnDestroy,\r\n  OnInit, Output, SimpleChanges, TemplateRef\r\n} from '@angular/core';\r\nimport { TreeNode } from '../interfaces/TreeNode';\r\n\r\n\r\n@Component({\r\n  selector: 'io-tree',\r\n  templateUrl: './tree.component.html',\r\n  styleUrls: ['./tree.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class TreeComponent {\r\n\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  @Input() options: TreeNode[];\r\n  @Input() name = '';\r\n  @Input() value: any = null;\r\n  @Input() template: TemplateRef<any>;\r\n  @Output() change = new EventEmitter();\r\n\r\n  selected: TreeNode;\r\n\r\n  constructor(\r\n    private cd: ChangeDetectorRef\r\n  ) {\r\n\r\n  }\r\n\r\n\r\n  onChange = (node: TreeNode) => {\r\n\r\n    this.selected = node;\r\n    this.change.emit(node.value);\r\n    this.cd.detectChanges();\r\n  };\r\n\r\n\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter, OnChanges, SimpleChanges, ChangeDetectorRef, TemplateRef, ElementRef\r\n} from '@angular/core';\r\nimport { TreeNode } from '../../interfaces/TreeNode';\r\nimport { IoFormFieldUI } from '../../../../interfaces/IoFormFieldUI';\r\n\r\n@Component({\r\n  selector: 'tree-node',\r\n  templateUrl: './node.component.html',\r\n  styleUrls: ['./node.component.scss']\r\n})\r\nexport class NodeComponent extends IoFormFieldUI implements OnInit, OnChanges {\r\n\r\n  ///-----------------------------------------------  Variables   -----------------------------------------------///\r\n\r\n  @Input() data: TreeNode;\r\n  @Input() selected: TreeNode;\r\n  @Input() template: TemplateRef<any>;\r\n  @Output() change = new EventEmitter();\r\n\r\n\r\n  constructor(\r\n    cd: ChangeDetectorRef,\r\n    el: ElementRef\r\n  ) {\r\n    super(cd, el);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.setContext({\r\n      children: this.data.children,\r\n      label: this.data.label,\r\n      selected: this.data === this.selected\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n  }\r\n\r\n  onChange = () => {\r\n\r\n    if (!this.data.children) {\r\n      this.setContext({\r\n        children: this.data.children,\r\n        label: this.data.label,\r\n        selected: this.data === this.selected\r\n      });\r\n      this.change.emit(this.data);\r\n      this.cd.markForCheck();\r\n    }\r\n  };\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TreeComponent } from './containers/tree.component';\r\nimport { NodeComponent } from './components/node/node.component';\r\nimport { IonarUI } from '@ionar/ui';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonarUI,\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    TreeComponent,\r\n    NodeComponent\r\n  ],\r\n  exports: [\r\n    TreeComponent\r\n  ]\r\n})\r\nexport class TreeModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SelectModule } from './components/select/select.module';\r\nimport { UploadModule } from './components/upload/upload.module';\r\n\r\nimport { InputModule } from './components/input/input.module';\r\nimport { CheckboxModule } from './components/checkbox/checkbox.module';\r\nimport { TextareaModule } from './components/textarea/textarea.module';\r\nimport { MenuModule } from './components/menu/menu.module';\r\nimport { TreeModule } from './components/tree/tree.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    InputModule, CheckboxModule, UploadModule, SelectModule, TextareaModule, MenuModule, TreeModule\r\n  ],\r\n  exports: [\r\n    InputModule, CheckboxModule, UploadModule, SelectModule, TextareaModule, MenuModule, TreeModule\r\n  ],\r\n\r\n})\r\nexport class FormUiModule {\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CoreModule } from '../core/core.module';\nimport { FormUiModule } from '../ui/ui.module';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    CoreModule,\n    FormUiModule\n  ],\n  exports: [\n    CoreModule,\n    FormUiModule\n  ]\n})\nexport class IonarFormModule {\n}\n","import { AbstractControl } from '../models/AbstractControl';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\nexport interface JoiError {\r\n  /**string with a description of the error*/\r\n  message: string,\r\n\r\n  /** ordered array where each element is the accessor to the value where the error happened */\r\n  path: (string | number | symbol)[],\r\n\r\n  /** type of the error */\r\n  type: string,\r\n\r\n  /**\r\n   *  Object providing context of the error containing at least:\r\n   *  key - key of the value that errored, equivalent to the last element of details.path.\r\n   *label - label of the value that errored, or the key if any, or the default language.root.\r\n   *\r\n   * */\r\n  context: {}\r\n}\r\n\r\nexport type JoiSchema = { isJoi: true }\r\n\r\n\r\n/**\r\n * @publicApi\r\n */\r\nexport interface AsyncValidatorFn {\r\n  (control: AbstractControl): Observable<JoiError | null>;\r\n}\r\n\r\n// /**\r\n//  * @description\r\n//  * Provides a set of built-in validators that can be used by form controls.\r\n//  *\r\n//  * A validator is a function that processes a `AbstractControl` or collection of\r\n//  * controls and returns an error map or null. A null map means that validation has passed.\r\n//  * @publicApi\r\n//  */\r\n// // @dynamic\r\n// export class Validators {\r\n//\r\n//   /**\r\n//    * @description\r\n//    * Validator that requires the control have a non-empty value.\r\n//    *\r\n//    * @usageNotes\r\n//    *\r\n//    * ### Validate that the field is non-empty\r\n//    *\r\n//    * ```typescript\r\n//    * const control = new AbstractControl('', Validators.required);\r\n//    *\r\n//    * console.log(control.errors); // {required: true}\r\n//    * ```\r\n//    *\r\n//    * @returns An error map with the `required` property\r\n//    * if the validation check fails, otherwise `null`.\r\n//    *\r\n//    */\r\n//   static required = (c: AbstractControl): ValidationErrors | null =>\r\n//     isEmptyInputValue(c.value) ? { 'required': true } : null;\r\n//\r\n//   /**\r\n//    * @description\r\n//    * Validator that requires the control's value pass an email validation test.\r\n//    *\r\n//    * @usageNotes\r\n//    *\r\n//    * ### Validate that the field matches a valid email pattern\r\n//    *\r\n//    * ```typescript\r\n//    * const control = new AbstractControl('bad@', Validators.email);\r\n//    *\r\n//    * console.log(control.errors); // {email: true}\r\n//    * ```\r\n//    *\r\n//    * @returns An error map with the `email` property\r\n//    * if the validation check fails, otherwise `null`.\r\n//    *\r\n//    */\r\n//   static email = (control: AbstractControl): ValidationErrors | null => {\r\n//\r\n//     if (isEmptyInputValue(control.value)) {\r\n//       return null;  // don't validate empty values to allow optional controls\r\n//     }\r\n//     return EMAIL_REGEXP.test(control.value) ? null : { 'email': true };\r\n//   };\r\n//\r\n//\r\n//   /**\r\n//    * @description\r\n//    * Validator that requires the length of the control's value to be greater than or equal\r\n//    * to the provided minimum length. This validator is also provided by default if you use the\r\n//    * the HTML5 `minlength` attribute.\r\n//    *\r\n//    * @usageNotes\r\n//    *\r\n//    * ### Validate that the field has a minimum of 3 characters\r\n//    *\r\n//    * ```typescript\r\n//    * const control = new AbstractControl('ng', Validators.minLength(3));\r\n//    *\r\n//    * console.log(control.errors); // {minlength: {requiredLength: 3, actualLength: 2}}\r\n//    * ```\r\n//    *\r\n//    * ```html\r\n//    * <input minlength=\"5\">\r\n//    * ```\r\n//    *\r\n//    * @returns A validator function that returns an error map with the\r\n//    * `minlength` if the validation check fails, otherwise `null`.\r\n//    */\r\n//   static stringLength = (control: AbstractControl): ValidationErrors | null => {\r\n//     const state = <FormControlState>control.state;\r\n//\r\n//     if (isEmptyInputValue(control.value)) {\r\n//       return null;  // don't validate empty values to allow optional controls\r\n//     }\r\n//\r\n//     if (state.component !== ('input' || 'textarea')) {\r\n//       throw new Error(`'stringLength' validator can only be used with control type 'input' or 'textarea'`);\r\n//     }\r\n//\r\n//     const\r\n//       min: number = state.validators['stringLength'].min,\r\n//       max: number = state.validators['stringLength'].max,\r\n//       length: number = control.value ? control.value.length : 0;\r\n//\r\n//     if (length < min) {\r\n//       return {\r\n//         'stringLength': {\r\n//           'minLength': min,\r\n//           'actualLength': length\r\n//         }\r\n//       };\r\n//     }\r\n//\r\n//     if (length > max) {\r\n//       return {\r\n//         'stringLength': {\r\n//           'maxLength': max,\r\n//           'actualLength': length\r\n//         }\r\n//       };\r\n//     }\r\n//\r\n//     return null;\r\n//   };\r\n//\r\n//\r\n//   static equalTo = (control: AbstractControl): ValidationErrors | null => {\r\n//\r\n//     if (isEmptyInputValue(control.value)) {\r\n//       return null;  // don't validate empty values to allow optional controls\r\n//     }\r\n//\r\n//     const state = <FormControlState>control.state;\r\n//\r\n//     const compareWith = _.isString(state.validators['equalTo']) ? state.validators['equalTo'] : state.validators['equalTo'].compare;\r\n//\r\n//     const compared_control = control.parent.controls[compareWith];\r\n//\r\n//     return (JSON.stringify(control.value) === JSON.stringify(compared_control.value))\r\n//       ? null : { equalTo: state.validators['equalTo'] };\r\n//   };\r\n//\r\n//\r\n//   /**\r\n//    * @description\r\n//    * Compose multiple validators into a single function that returns the union\r\n//    * of the individual error maps for the provided control.\r\n//    *\r\n//    * @returns A validator function that returns an error map with the\r\n//    * merged error maps of the validators if the validation check fails, otherwise `null`.\r\n//    */\r\n//   static compose = (validators: (ValidatorFn | null | undefined)[] | null): ValidatorFn | null => {\r\n//     if (!validators) return null;\r\n//     const presentValidators: ValidatorFn[] = validators.filter(isPresent) as any;\r\n//     if (presentValidators.length === 0) return null;\r\n//\r\n//     return function(control: AbstractControl) {\r\n//       return _mergeErrors(_executeValidators(control, presentValidators));\r\n//     };\r\n//   };\r\n//\r\n//   /**\r\n//    * @description\r\n//    * Compose multiple async validators into a single function that returns the union\r\n//    * of the individual error objects for the provided control.\r\n//    *\r\n//    * @returns A validator function that returns an error map with the\r\n//    * merged error objects of the async validators if the validation check fails, otherwise `null`.\r\n//    */\r\n//   static composeAsync(asyncValidators: AsyncValidatorFn[]): AsyncValidatorFn | null {\r\n//     if (!asyncValidators) return null;\r\n//     const presentValidators: AsyncValidatorFn[] = asyncValidators.filter(isPresent) as any;\r\n//     if (presentValidators.length === 0) return null;\r\n//\r\n//     return function(control: AbstractControl) {\r\n//       const observables = _executeAsyncValidators(control, presentValidators);\r\n//\r\n//       return forkJoin(observables).pipe(\r\n//         map(_mergeErrors)\r\n//       );\r\n//\r\n//     };\r\n//   }\r\n//\r\n//\r\n//   /** @internal */\r\n//   _isBoxedValue(validator_configs: { [key: string]: any } | true | ValidatorFn | AsyncValidatorFn): boolean {\r\n//     return _.isPlainObject(validator_configs);\r\n//   }\r\n//\r\n//\r\n// }\r\n\r\n//\r\n// const EMAIL_REGEXP =\r\n//   /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;\r\n\r\n\r\n// function isEmptyInputValue(value: any): boolean {\r\n//   // we don't check for string here so it also works with arrays\r\n//   return value == null || value.length === 0;\r\n// }\r\n//\r\n// function isPresent(o: any): boolean {\r\n//   return o != null;\r\n// }\r\n//\r\n// function _executeValidators(control: AbstractControl, validators: ValidatorFn[]): any[] {\r\n//   return validators.map(v => v(control));\r\n// }\r\n//\r\n// function _executeAsyncValidators(control: AbstractControl, validators: AsyncValidatorFn[]): any[] {\r\n//   return validators.map(v => v(control));\r\n// }\r\n//\r\n// function _mergeErrors(arrayOfErrors: ValidationErrors[]): ValidationErrors | null {\r\n//   const errors: { [key: string]: any } =\r\n//     _.reduce(arrayOfErrors, (result: ValidationErrors | null, err: ValidationErrors | null) => {\r\n//       return err ? { ...result, ...err } : result;\r\n//     }, {});\r\n//\r\n//   return Object.keys(errors).length === 0 ? null : errors;\r\n//\r\n// }\r\n","import { TemplateRef } from '@angular/core';\r\nimport { AbstractControl } from '../models/AbstractControl';\r\n\r\nimport { AsyncValidatorFn, JoiSchema } from './Validator';\r\n\r\nexport interface FormGroupState {\r\n  [name: string]: AbstractControl | FormControlState\r\n}\r\n\r\n\r\nexport type FormArrayState = AbstractControl[]\r\n\r\n/**\r\n * Interface for configs provided to an `AbstractControl`.\r\n *\r\n * @publicApi\r\n */\r\n\r\nexport interface FormControlState {\r\n  component: ComponentType,\r\n  props?: ControlProperties,\r\n  schema?: JoiSchema,\r\n  asyncValidator?: AsyncValidatorFn | AsyncValidatorFn[] | null\r\n  icons?: {\r\n    valid?: any,\r\n    invalid?: any,\r\n    validating?: any\r\n  },\r\n  options?: AbstractControlOptions\r\n}\r\n\r\n\r\nexport type ComponentType = 'input' | 'select' | 'textarea' | 'radio' | 'upload' | 'menu'\r\n\r\n\r\nexport interface ControlProperties {\r\n  placeholder?: string,\r\n  className?: string,\r\n  id?: string,\r\n  label?: string,\r\n  value?: any,\r\n  options?: Array<{ value: any, label: any, [property: string]: any }>,\r\n\r\n  [key: string]: any\r\n}\r\n\r\nexport type AbstractControlState = FormGroupState | FormControlState | FormArrayState\r\n\r\nexport interface AbstractControlOptions {\r\n  nullExclusion?: Boolean,\r\n  readonly?: Boolean,\r\n  disabled?: Boolean,\r\n  hidden?: Boolean,\r\n  excluded?: Boolean,\r\n  submitOnChange?: Boolean,\r\n  hideFeedback?: Boolean,\r\n  hideLabel?: Boolean,\r\n  template?: TemplateRef<any>,\r\n  schema?: JoiSchema\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AbstractControlOptions, FormArrayState, FormControlState, FormGroupState } from '../interfaces/Form';\r\nimport { FormGroup } from '../models/FormGroup';\r\nimport { FormControl } from '../models/FormControl';\r\nimport { FormArray } from '../models/FormArray';\r\nimport { AbstractControl } from '../models/AbstractControl';\r\nimport _ from 'lodash';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class IonarFormBuilder {\r\n\r\n  /**\r\n   * @description\r\n   * Construct a new `FormGroup` instance.\r\n   *\r\n   * @param state A collection of child controls. The key for each child is the name\r\n   * under which it is registered.\r\n   *\r\n   * @param options options options object for the `FormGroup`. The object can\r\n   * have two shapes:\r\n   *\r\n   * 1) `AbstractControlOptions` object (preferred), which consists of:\r\n   * * `validators`: A synchronous validator function, or an array of validator functions\r\n   * * `asyncValidators`: A single async validator or array of async validator functions\r\n   * * `updateOn`: The event upon which the control should be updated (options: 'change' | 'blur' |\r\n   * submit')\r\n   *\r\n   * 2) Legacy options object, which consists of:\r\n   * * `validator`: A synchronous validator function, or an array of validator functions\r\n   * * `asyncValidator`: A single async validator or array of async validator functions\r\n   *\r\n   */\r\n  group = (state: FormGroupState, options?: AbstractControlOptions | null): FormGroup => {\r\n    const controls = <FormGroupState>this._reduceControls(state);\r\n    return new FormGroup(controls, options);\r\n  };\r\n\r\n  /**\r\n   * @description\r\n   * Construct a new `FormControl` with the given state, validators and options.\r\n   *\r\n   * @param state A collection of child controls. The key for each child is the name\r\n   * under which it is registered.\r\n   *\r\n   * @param options options options object for the `FormGroup`. The object can\r\n   * have two shapes:\r\n   *\r\n   *\r\n   * @usageNotes\r\n   *\r\n   * ### Initialize a control as disabled\r\n   *\r\n   * The following example returns a control with an initial value in a disabled state.\r\n   *\r\n   * <code-example path=\"forms/ts/formBuilder/form_builder_example.ts\"\r\n   *   linenums=\"false\" region=\"disabled-control\">\r\n   * </code-example>\r\n   */\r\n  control(state: FormControlState): FormControl {\r\n    return new FormControl(state);\r\n  }\r\n\r\n  /**\r\n   * Constructs a new `FormArray` from the given array of configurations,\r\n   * validators and options.\r\n   *\r\n   * @param controlsConfig An array of child controls or control configs. Each\r\n   * child control is given an index when it is registered.\r\n   *\r\n   * @param validatorOrOpts A synchronous validator function, or an array of\r\n   * such functions, or an `AbstractControlOptions` object that contains\r\n   * validation functions and a validation trigger.\r\n   *\r\n   * @param asyncValidator A single async validator or array of async validator\r\n   * functions.\r\n   */\r\n  array = (\r\n    state: FormArrayState | FormControlState[], options?: AbstractControlOptions | null\r\n  ): FormArray => {\r\n\r\n    const controls = <FormArrayState>this._reduceControls(state);\r\n    return new FormArray(controls, options);\r\n  };\r\n\r\n  /** @internal */\r\n  _reduceControls(controlsConfig: FormGroupState | FormArrayState | FormControlState[]): FormGroupState | FormArrayState {\r\n    let controls: FormGroupState | FormArrayState;\r\n\r\n    if (_.isPlainObject(controlsConfig)) {\r\n      controls = {};\r\n      _.forOwn(controlsConfig, (c: AbstractControl | FormControlState, name: string) => {\r\n        (<FormGroupState>controls)[name] = this._createControl(c);\r\n      });\r\n    } else {\r\n      controls = [];\r\n      _.each(controlsConfig, (c: AbstractControl | FormControlState) => {\r\n        (<FormArrayState>controls).push(<AbstractControl>this._createControl(c));\r\n      });\r\n    }\r\n    return controls;\r\n  }\r\n\r\n  /** @internal */\r\n  _createControl(controlConfig: any): AbstractControl {\r\n    if (controlConfig instanceof FormControl || controlConfig instanceof FormGroup ||\r\n      controlConfig instanceof FormArray) {\r\n      return controlConfig;\r\n\r\n    } else {\r\n\r\n      return this.control(controlConfig);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","export * from './lib/form.module';\r\n\r\nexport { FormControl } from './core/models/FormControl';\r\n\r\nexport { FormGroup } from './core/models/FormGroup';\r\n\r\nexport { FormArray } from './core/models/FormArray';\r\n\r\nexport { AbstractControl } from './core/models/AbstractControl';\r\n\r\nexport *  from './core/interfaces/Validator';\r\nexport * from './core/interfaces/Form';\r\n\r\nexport { IonarFormBuilder } from './core/providers/form_builder.service';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {FeedbackComponent as Éµk} from './core/components/control/feedback.component';\nexport {FieldComponent as Éµf} from './core/components/control/field.component';\nexport {LabelComponent as Éµj} from './core/components/control/label.component';\nexport {FormArrayComponent as Éµm,formArrayProvider as Éµl} from './core/components/form-array.component';\nexport {FormControlComponent as Éµh,controlNameBinding as Éµg} from './core/components/form-control.component';\nexport {FormGroupComponent as Éµo,formGroupProvider as Éµn} from './core/components/form-group.component';\nexport {FormComponent as Éµc,formProvider as Éµb} from './core/core.component';\nexport {CoreModule as Éµa} from './core/core.module';\nexport {DynamicFieldDirective as Éµp} from './core/directives/dynamic-field.directive';\nexport {SubmitDirective as Éµq} from './core/directives/submit.directive';\nexport {ControlContainer as Éµd} from './core/interfaces/ControlContainer';\nexport {IoControl as Éµi} from './core/interfaces/IoControl';\nexport {FormService as Éµe} from './core/providers/form.service';\nexport {CheckboxComponent as Éµx} from './ui/components/checkbox/checkbox.component';\nexport {CheckboxModule as Éµw} from './ui/components/checkbox/checkbox.module';\nexport {InputComponent as Éµt} from './ui/components/input/input.component';\nexport {InputModule as Éµs} from './ui/components/input/input.module';\nexport {MenuComponent as Éµbk} from './ui/components/menu/menu.component';\nexport {MenuModule as Éµbj} from './ui/components/menu/menu.module';\nexport {ControlComponent as Éµbe} from './ui/components/select/components/control/control.component';\nexport {MenuComponent as Éµbf} from './ui/components/select/components/menu/menu.component';\nexport {OptionComponent as Éµbg} from './ui/components/select/components/menu/option/option.component';\nexport {SelectComponent as Éµbd} from './ui/components/select/container/select.component';\nexport {SelectModule as Éµbc} from './ui/components/select/select.module';\nexport {TextareaComponent as Éµbi} from './ui/components/textarea/textarea.component';\nexport {TextareaModule as Éµbh} from './ui/components/textarea/textarea.module';\nexport {NodeComponent as Éµbn} from './ui/components/tree/components/node/node.component';\nexport {TreeComponent as Éµbm} from './ui/components/tree/containers/tree.component';\nexport {TreeModule as Éµbl} from './ui/components/tree/tree.module';\nexport {ClickComponent as Éµba} from './ui/components/upload/components/upload-zone/click/click.component';\nexport {DropComponent as Éµbb} from './ui/components/upload/components/upload-zone/drop/drop.component';\nexport {UploadComponent as Éµz} from './ui/components/upload/containers/upload.component';\nexport {UploadModule as Éµy} from './ui/components/upload/upload.module';\nexport {IoAbstractUI as Éµv} from './ui/interfaces/IoAbstractUI';\nexport {IoFormFieldUI as Éµu} from './ui/interfaces/IoFormFieldUI';\nexport {FormUiModule as Éµr} from './ui/ui.module';"]}