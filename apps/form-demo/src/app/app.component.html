<io-form
        [formGroup]="formGroup"
        (submit)="onSubmit($event)"
>
    <ng-container
            *ngFor="let item of formGroup.controls | keyvalue"
            [ngTemplateOutlet]="template"
            [ngTemplateOutletContext]="{$implicit: item}"
    ></ng-container>

    <ng-template #template let-data let-parent="parent">
        <ng-container *ngIf="isFormControl(data.value)">
            <form-control [parent]="parent" [name]="data.key"></form-control>
        </ng-container>
        <ng-container *ngIf="isFormGroup(data.value)">
            <form-group
                    [name]="data.key"
                    #ref="form-group"
            >
                <ng-container
                        *ngFor="let item of data.value.controls  | keyvalue"
                        [ngTemplateOutlet]="template"
                        [ngTemplateOutletContext]="{$implicit: item, parent: ref}"
                ></ng-container>
            </form-group>
        </ng-container>
    </ng-template>
</io-form>


<io-btn
        [submitForm]="formGroup"
        [disabled]="formGroup?.invalid && formGroup?.submitted"
>
    Submit
</io-btn>

<io-btn (click)="onReset()">
    Reset
</io-btn>

<io-btn (click)="onClear()">
    Clear
</io-btn>

<io-btn (click)="toggleReadMode()">
    Read mode
</io-btn>

<io-btn (click)="onLog()">
    Log
</io-btn>


